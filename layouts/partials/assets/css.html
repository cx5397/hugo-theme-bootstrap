{{- $mainStyle := resources.Get "app/index.css" -}}
{{- $configStyle := resources.Get "app/config.template.css" | resources.ExecuteAsTemplate "config.css" . -}}
{{- $highlightStyle := resources.Get "css/highlight.css" -}}
{{- $customStyle := resources.Get "css/custom.css" -}}
{{- $style := slice $mainStyle $configStyle $highlightStyle $customStyle | resources.Concat "css/app.css" | resources.Minify | resources.Fingerprint -}}
{{- $.Scratch.Add "hbs-assets" (slice (dict "url" $style.Permalink "revision" ($.Scratch.Get "null"))) -}}
<link rel="stylesheet" href="{{ $style.Permalink }}" integrity="{{ $style.Data.Integrity }}" crossorigin="anonymous">
<noscript><link rel="stylesheet" href="{{ $style.Permalink }}" integrity="{{ $style.Data.Integrity }}" crossorigin="anonymous"></noscript>
{{- range .Site.Params.customCSS -}}
<link rel="stylesheet" href="{{ absURL . }}" crossorigin="anonymous">
{{- end -}}

{{- $viewerStyle := resources.Get "viewer/index.css" | resources.Minify | resources.Fingerprint -}}
<link rel="stylesheet" href="{{ $viewerStyle.Permalink }}" integrity="{{ $viewerStyle.Data.Integrity }}" crossorigin="anonymous">