(()=>{var t={949:function(t){
/*!
 * Viewer.js v1.10.2
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-22T13:59:51.046Z
 */
t.exports=function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},l='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',h="undefined"!=typeof window&&void 0!==window.document,c=h?window:{},u=!(!h||!c.document.documentElement)&&"ontouchstart"in c.document.documentElement,d=!!h&&"PointerEvent"in c,m="viewer",f="move",g="switch",v="zoom",p="".concat(m,"-active"),b="".concat(m,"-close"),w="".concat(m,"-fade"),y="".concat(m,"-fixed"),x="".concat(m,"-fullscreen"),k="".concat(m,"-fullscreen-exit"),z="".concat(m,"-hide"),D="".concat(m,"-hide-md-down"),E="".concat(m,"-hide-sm-down"),T="".concat(m,"-hide-xs-down"),I="".concat(m,"-in"),A="".concat(m,"-invisible"),S="".concat(m,"-loading"),O="".concat(m,"-move"),C="".concat(m,"-open"),L="".concat(m,"-show"),R="".concat(m,"-transition"),N="click",F="dblclick",Y="dragstart",M="focusin",X="keydown",q="load",P="error",W=u?"touchend touchcancel":"mouseup",j=u?"touchmove":"mousemove",H=u?"touchstart":"mousedown",V=d?"pointerdown":H,B=d?"pointermove":j,U=d?"pointerup pointercancel":W,K="resize",Z="transitionend",$="wheel",_="ready",G="show",J="shown",Q="hide",tt="hidden",et="view",it="viewed",nt="move",ot="moved",st="rotate",at="rotated",rt="scale",lt="scaled",ht="zoom",ct="zoomed",ut="play",dt="stop",mt="".concat(m,"Action"),ft=/\s\s*/,gt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function vt(t){return"string"==typeof t}var pt=Number.isNaN||c.isNaN;function bt(t){return"number"==typeof t&&!pt(t)}function wt(t){return void 0===t}function yt(t){return"object"===i(t)&&null!==t}var xt=Object.prototype.hasOwnProperty;function kt(t){if(!yt(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&xt.call(i,"isPrototypeOf")}catch(t){return!1}}function zt(t){return"function"==typeof t}function Dt(t,e){if(t&&zt(e))if(Array.isArray(t)||bt(t.length)){var i,n=t.length;for(i=0;i<n&&!1!==e.call(t,t[i],i,t);i+=1);}else yt(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}));return t}var Et=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return yt(t)&&i.length>0&&i.forEach((function(e){yt(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},Tt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function It(t,e){var i=t.style;Dt(e,(function(t,e){Tt.test(e)&&bt(t)&&(t+="px"),i[e]=t}))}function At(t){return vt(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function St(t,e){return!(!t||!e)&&(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)}function Ot(t,e){if(t&&e)if(bt(t.length))Dt(t,(function(t){Ot(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function Ct(t,e){t&&e&&(bt(t.length)?Dt(t,(function(t){Ct(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function Lt(t,e,i){e&&(bt(t.length)?Dt(t,(function(t){Lt(t,e,i)})):i?Ot(t,e):Ct(t,e))}var Rt=/([a-z\d])([A-Z])/g;function Nt(t){return t.replace(Rt,"$1-$2").toLowerCase()}function Ft(t,e){return yt(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Nt(e)))}function Yt(t,e,i){yt(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(Nt(e)),i)}var Mt=function(){var t=!1;if(h){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});c.addEventListener("test",i,n),c.removeEventListener("test",i,n)}return t}();function Xt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(ft).forEach((function(e){if(!Mt){var s=t.listeners;s&&s[e]&&s[e][i]&&(o=s[e][i],delete s[e][i],0===Object.keys(s[e]).length&&delete s[e],0===Object.keys(s).length&&delete t.listeners)}t.removeEventListener(e,o,n)}))}function qt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(ft).forEach((function(e){if(n.once&&!Mt){var s=t.listeners,a=void 0===s?{}:s;o=function(){delete a[e][i],t.removeEventListener(e,o,n);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];i.apply(t,r)},a[e]||(a[e]={}),a[e][i]&&t.removeEventListener(e,a[e][i],n),a[e][i]=o,t.listeners=a}t.addEventListener(e,o,n)}))}function Pt(t,i,n,o){var s;return zt(Event)&&zt(CustomEvent)?s=new CustomEvent(i,e({bubbles:!0,cancelable:!0,detail:n},o)):(s=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,n),t.dispatchEvent(s)}function Wt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function jt(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,o=t.translateX,s=t.translateY,a=[];bt(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),bt(s)&&0!==s&&a.push("translateY(".concat(s,"px)")),bt(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),bt(i)&&1!==i&&a.push("scaleX(".concat(i,")")),bt(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var r=a.length?a.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}function Ht(t){return vt(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Vt=c.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(c.navigator.userAgent);function Bt(t,e,i){var n=document.createElement("img");if(t.naturalWidth&&!Vt)return i(t.naturalWidth,t.naturalHeight),n;var o=document.body||document.documentElement;return n.onload=function(){i(n.width,n.height),Vt||o.removeChild(n)},Dt(e.inheritedAttributes,(function(e){var i=t.getAttribute(e);null!==i&&n.setAttribute(e,i)})),n.src=t.src,Vt||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(n)),n}function Ut(t){switch(t){case 2:return T;case 3:return E;case 4:return D;default:return""}}function Kt(t){var i=e({},t),n=[];return Dt(t,(function(t,e){delete i[e],Dt(i,(function(e){var i=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),s=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),r=Math.sqrt(i*i+o*o),l=(Math.sqrt(s*s+a*a)-r)/r;n.push(l)}))})),n.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),n[0]}function Zt(t,i){var n=t.pageX,o=t.pageY,s={endX:n,endY:o};return i?s:e({timeStamp:Date.now(),startX:n,startY:o},s)}function $t(t){var e=0,i=0,n=0;return Dt(t,(function(t){var o=t.startX,s=t.startY;e+=o,i+=s,n+=1})),{pageX:e/=n,pageY:i/=n}}var _t,Gt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var t=this.element.ownerDocument,e=t.body||t.documentElement;this.body=e,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=e.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(e).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,e=this.options,i=this.parent;e.inline&&(t={width:Math.max(i.offsetWidth,e.minWidth),height:Math.max(i.offsetHeight,e.minHeight)},this.parentData=t),!this.fulled&&t||(t=this.containerData),this.viewerData=Et({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&It(this.viewer,this.viewerData)},initList:function(){var t=this,e=this.element,i=this.options,n=this.list,o=[];n.innerHTML="",Dt(this.images,(function(e,s){var a=e.src,r=e.alt||Ht(a),l=t.getImageURL(e);if(a||l){var h=document.createElement("li"),c=document.createElement("img");Dt(i.inheritedAttributes,(function(t){var i=e.getAttribute(t);null!==i&&c.setAttribute(t,i)})),c.src=a||l,c.alt=r,c.setAttribute("data-original-url",l||a),h.setAttribute("data-index",s),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),i.keyboard&&h.setAttribute("tabindex",0),h.appendChild(c),n.appendChild(h),o.push(h)}})),this.items=o,Dt(o,(function(e){var n,o,s=e.firstElementChild;Yt(s,"filled",!0),i.loading&&Ot(e,S),qt(s,q,n=function(n){Xt(s,P,o),i.loading&&Ct(e,S),t.loadImage(n)},{once:!0}),qt(s,P,o=function(){Xt(s,q,n),i.loading&&Ct(e,S)},{once:!0})})),i.transition&&qt(e,it,(function(){Ot(n,R)}),{once:!0})},renderList:function(){var t=this.index,e=this.items[t];if(e){var i=e.nextElementSibling,n=parseInt(window.getComputedStyle(i||e).marginLeft,10),o=e.offsetWidth,s=o+n;It(this.list,Et({width:s*this.length-n},jt({translateX:(this.viewerData.width-o)/2-s*t})))}},resetList:function(){var t=this.list;t.innerHTML="",Ct(t,R),It(t,jt({translateX:0}))},initImage:function(t){var e,i=this,n=this.options,o=this.image,s=this.viewerData,a=this.footer.offsetHeight,r=s.width,l=Math.max(s.height-a,a),h=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=Bt(o,n,(function(e,o){var s=e/o,a=r,c=l;i.imageInitializing=!1,l*s>r?c=r/s:a=l*s,a=Math.min(.9*a,e),c=Math.min(.9*c,o);var u=(r-a)/2,d=(l-c)/2,m={left:u,top:d,x:u,y:d,width:a,height:c,oldRatio:1,ratio:a/e,aspectRatio:s,naturalWidth:e,naturalHeight:o},f=Et({},m);n.rotatable&&(m.rotate=h.rotate||0,f.rotate=0),n.scalable&&(m.scaleX=h.scaleX||1,m.scaleY=h.scaleY||1,f.scaleX=1,f.scaleY=1),i.imageData=m,i.initialImageData=f,t&&t()}))},renderImage:function(t){var e=this,i=this.image,n=this.imageData;if(It(i,Et({width:n.width,height:n.height,marginLeft:n.x,marginTop:n.y},jt(n))),t)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&St(i,R)){var o=function(){e.imageRendering=!1,t()};this.imageRendering={abort:function(){Xt(i,Z,o)}},qt(i,Z,o,{once:!0})}else t()},resetImage:function(){if(this.viewing||this.viewed){var t=this.image;this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null}}},Jt={bind:function(){var t=this.options,e=this.viewer,i=this.canvas,n=this.element.ownerDocument;qt(e,N,this.onClick=this.click.bind(this)),qt(e,Y,this.onDragStart=this.dragstart.bind(this)),qt(i,V,this.onPointerDown=this.pointerdown.bind(this)),qt(n,B,this.onPointerMove=this.pointermove.bind(this)),qt(n,U,this.onPointerUp=this.pointerup.bind(this)),qt(n,X,this.onKeyDown=this.keydown.bind(this)),qt(window,K,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&qt(e,$,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&qt(i,F,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,e=this.viewer,i=this.canvas,n=this.element.ownerDocument;Xt(e,N,this.onClick),Xt(e,Y,this.onDragStart),Xt(i,V,this.onPointerDown),Xt(n,B,this.onPointerMove),Xt(n,U,this.onPointerUp),Xt(n,X,this.onKeyDown),Xt(window,K,this.onResize),t.zoomable&&t.zoomOnWheel&&Xt(e,$,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&Xt(i,F,this.onDblclick)}},Qt={click:function(t){var e=this.options,i=this.imageData,n=t.target,o=Ft(n,mt);switch(o||"img"!==n.localName||"li"!==n.parentElement.localName||(o=Ft(n=n.parentElement,mt)),u&&t.isTrusted&&n===this.canvas&&clearTimeout(this.clickCanvasTimeout),o){case"mix":this.played?this.stop():e.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Ft(n,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(e.loop);break;case"play":this.play(e.fullscreen);break;case"next":this.next(e.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(u&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(t))},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var e=this.element,i=this.options,n=this.image,o=this.index,s=this.viewerData;Ct(n,A),i.loading&&Ct(this.canvas,S),n.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage((function(){Lt(n,O,i.movable),Lt(n,R,i.transition),t.renderImage((function(){t.viewed=!0,t.viewing=!1,zt(i.viewed)&&qt(e,it,i.viewed,{once:!0}),Pt(e,it,{originalImage:t.images[o],index:o,image:n},{cancelable:!1})}))}))},loadImage:function(t){var e=t.target,i=e.parentNode,n=i.offsetWidth||30,o=i.offsetHeight||50,s=!!Ft(e,"filled");Bt(e,this.options,(function(t,i){var a=t/i,r=n,l=o;o*a>n?s?r=o*a:l=n/a:s?l=n/a:r=o*a,It(e,Et({width:r,height:l},jt({translateX:(n-r)/2,translateY:(o-l)/2})))}))},keydown:function(t){var e=this.options;if(e.keyboard){var i=t.keyCode||t.which||t.charCode;if(13===i&&this.viewer.contains(t.target)&&this.click(t),this.fulled)switch(i){case 27:this.played?this.stop():e.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(e.loop);break;case 38:t.preventDefault(),this.zoom(e.zoomRatio,!0);break;case 39:this.next(e.loop);break;case 40:t.preventDefault(),this.zoom(-e.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}}},dragstart:function(t){"img"===t.target.localName&&t.preventDefault()},pointerdown:function(t){var e=this.options,i=this.pointers,n=t.buttons,o=t.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(bt(n)&&1!==n||bt(o)&&0!==o||t.ctrlKey))){t.preventDefault(),t.changedTouches?Dt(t.changedTouches,(function(t){i[t.identifier]=Zt(t)})):i[t.pointerId||0]=Zt(t);var s=!!e.movable&&f;e.zoomOnTouch&&e.zoomable&&Object.keys(i).length>1?s=v:e.slideOnTouch&&("touch"===t.pointerType||"touchstart"===t.type)&&this.isSwitchable()&&(s=g),!e.transition||s!==f&&s!==v||Ct(this.image,R),this.action=s}},pointermove:function(t){var e=this.pointers,i=this.action;this.viewed&&i&&(t.preventDefault(),t.changedTouches?Dt(t.changedTouches,(function(t){Et(e[t.identifier]||{},Zt(t,!0))})):Et(e[t.pointerId||0]||{},Zt(t,!0)),this.change(t))},pointerup:function(t){var e,i=this,n=this.options,o=this.action,s=this.pointers;t.changedTouches?Dt(t.changedTouches,(function(t){e=s[t.identifier],delete s[t.identifier]})):(e=s[t.pointerId||0],delete s[t.pointerId||0]),o&&(t.preventDefault(),!n.transition||o!==f&&o!==v||Ot(this.image,R),this.action=!1,u&&o!==v&&e&&Date.now()-e.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout((function(){Pt(i.image,F)}),50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout((function(){i.imageClicked=!1}),500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout((function(){Pt(i.canvas,N)}),50)))))},resize:function(){var t=this;if(this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage()})),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();Dt(this.player.getElementsByTagName("img"),(function(e){qt(e,q,t.loadImage.bind(t),{once:!0}),Pt(e,q)}))}},wheel:function(t){var e=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50);var i=Number(this.options.zoomRatio)||.1,n=1;t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,!0,t)}}},te={show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(zt(i.show)&&qt(e,G,i.show,{once:!0}),!1===Pt(e,G)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var n=this.viewer;if(Ct(n,z),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("aria-hidden"),i.transition&&!t){var o=this.shown.bind(this);this.transitioning={abort:function(){Xt(n,Z,o),Ct(n,I)}},Ot(n,R),n.initialOffsetWidth=n.offsetWidth,qt(n,Z,o,{once:!0}),Ot(n,I)}else Ot(n,I),this.shown();return this},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.element,n=this.options;if(n.inline||this.hiding||!this.isShown&&!this.showing)return this;if(zt(n.hide)&&qt(i,Q,n.hide,{once:!0}),!1===Pt(i,Q))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o=this.viewer,s=this.image,a=function(){Ct(o,I),t.hidden()};if(n.transition&&!e){var r=function e(i){i&&i.target===o&&(Xt(o,Z,e),t.hidden())},l=function(){St(o,R)?(qt(o,Z,r),Ct(o,I)):a()};this.transitioning={abort:function(){t.viewed&&St(s,R)?Xt(s,Z,l):St(o,R)&&Xt(o,Z,r)}},this.viewed&&St(s,R)?(qt(s,Z,l,{once:!0}),this.zoomTo(0,!1,null,!0)):l()}else a();return this},view:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(e=Number(e)||0,this.hiding||this.played||e<0||e>=this.length||this.viewed&&e===this.index)return this;if(!this.isShown)return this.index=e,this.show();this.viewing&&this.viewing.abort();var i=this.element,n=this.options,o=this.title,s=this.canvas,a=this.items[e],r=a.querySelector("img"),l=Ft(r,"originalUrl"),h=r.getAttribute("alt"),c=document.createElement("img");if(Dt(n.inheritedAttributes,(function(t){var e=r.getAttribute(t);null!==e&&c.setAttribute(t,e)})),c.src=l,c.alt=h,zt(n.view)&&qt(i,et,n.view,{once:!0}),!1===Pt(i,et,{originalImage:this.images[e],index:e,image:c})||!this.isShown||this.hiding||this.played)return this;var u=this.items[this.index];u&&(Ct(u,p),u.removeAttribute("aria-selected")),Ot(a,p),a.setAttribute("aria-selected",!0),n.focus&&a.focus(),this.image=c,this.viewed=!1,this.index=e,this.imageData={},Ot(c,A),n.loading&&Ot(s,S),s.innerHTML="",s.appendChild(c),this.renderList(),o.innerHTML="";var d,m,f=function(){var e=t.imageData,i=Array.isArray(n.title)?n.title[1]:n.title;o.innerHTML=At(zt(i)?i.call(t,c,e):"".concat(h," (").concat(e.naturalWidth," Ã— ").concat(e.naturalHeight,")"))};return qt(i,it,f,{once:!0}),this.viewing={abort:function(){Xt(i,it,f),c.complete?t.imageRendering?t.imageRendering.abort():t.imageInitializing&&t.imageInitializing.abort():(c.src="",Xt(c,q,d),t.timeout&&clearTimeout(t.timeout))}},c.complete?this.load():(qt(c,q,d=function(){Xt(c,P,m),t.load()},{once:!0}),qt(c,P,m=function(){Xt(c,q,d),t.timeout&&(clearTimeout(t.timeout),t.timeout=!1),Ct(c,A),n.loading&&Ct(t.canvas,S)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){Ct(c,A),t.timeout=!1}),1e3)),this},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index-1;return e<0&&(e=t?this.length-1:0),this.view(e),this},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.length-1,i=this.index+1;return i>e&&(i=t?0:e),this.view(i),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData;return this.moveTo(wt(t)?t:i.x+Number(t),wt(e)?e:i.y+Number(e)),this},moveTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.element,s=this.options,a=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&s.movable){var r=a.x,l=a.y,h=!1;if(bt(t)?h=!0:t=r,bt(i)?h=!0:i=l,h){if(zt(s.move)&&qt(o,nt,s.move,{once:!0}),!1===Pt(o,nt,{x:t,y:i,oldX:r,oldY:l,originalEvent:n}))return this;a.x=t,a.y=i,a.left=t,a.top=i,this.moving=!0,this.renderImage((function(){e.moving=!1,zt(s.moved)&&qt(o,ot,s.moved,{once:!0}),Pt(o,ot,{x:t,y:i,oldX:r,oldY:l,originalEvent:n},{cancelable:!1})}))}}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var e=this,i=this.element,n=this.options,o=this.imageData;if(bt(t=Number(t))&&this.viewed&&!this.played&&n.rotatable){var s=o.rotate;if(zt(n.rotate)&&qt(i,st,n.rotate,{once:!0}),!1===Pt(i,st,{degree:t,oldDegree:s}))return this;o.rotate=t,this.rotating=!0,this.renderImage((function(){e.rotating=!1,zt(n.rotated)&&qt(i,at,n.rotated,{once:!0}),Pt(i,at,{degree:t,oldDegree:s},{cancelable:!1})}))}return this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.element,o=this.options,s=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&o.scalable){var a=s.scaleX,r=s.scaleY,l=!1;if(bt(t)?l=!0:t=a,bt(i)?l=!0:i=r,l){if(zt(o.scale)&&qt(n,rt,o.scale,{once:!0}),!1===Pt(n,rt,{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:r}))return this;s.scaleX=t,s.scaleY=i,this.scaling=!0,this.renderImage((function(){e.scaling=!1,zt(o.scaled)&&qt(n,lt,o.scaled,{once:!0}),Pt(n,lt,{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:r},{cancelable:!1})}))}}return this},zoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,e,i),this},zoomTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.element,a=this.options,r=this.pointers,l=this.imageData,h=l.x,c=l.y,u=l.width,d=l.height,m=l.naturalWidth,f=l.naturalHeight;if(bt(t=Math.max(0,t))&&this.viewed&&!this.played&&(o||a.zoomable)){if(!o){var g=Math.max(.01,a.minZoomRatio),v=Math.min(100,a.maxZoomRatio);t=Math.min(Math.max(t,g),v)}n&&a.zoomRatio>=.055&&t>.95&&t<1.05&&(t=1);var p=m*t,b=f*t,w=p-u,y=b-d,x=l.ratio;if(zt(a.zoom)&&qt(s,ht,a.zoom,{once:!0}),!1===Pt(s,ht,{ratio:t,oldRatio:x,originalEvent:n}))return this;if(this.zooming=!0,n){var k=Wt(this.viewer),z=r&&Object.keys(r).length?$t(r):{pageX:n.pageX,pageY:n.pageY};l.x-=w*((z.pageX-k.left-h)/u),l.y-=y*((z.pageY-k.top-c)/d)}else l.x-=w/2,l.y-=y/2;l.left=l.x,l.top=l.y,l.width=p,l.height=b,l.oldRatio=x,l.ratio=t,this.renderImage((function(){e.zooming=!1,zt(a.zoomed)&&qt(s,ct,a.zoomed,{once:!0}),Pt(s,ct,{ratio:t,oldRatio:x,originalEvent:n},{cancelable:!1})})),i&&this.tooltip()}return this},play:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var i=this.element,n=this.options;if(zt(n.play)&&qt(i,ut,n.play,{once:!0}),!1===Pt(i,ut))return this;var o=this.player,s=this.loadImage.bind(this),a=[],r=0,l=0;if(this.played=!0,this.onLoadWhenPlay=s,e&&this.requestFullscreen(e),Ot(o,L),Dt(this.items,(function(t,e){var i=t.querySelector("img"),h=document.createElement("img");h.src=Ft(i,"originalUrl"),h.alt=i.getAttribute("alt"),h.referrerPolicy=i.referrerPolicy,r+=1,Ot(h,w),Lt(h,R,n.transition),St(t,p)&&(Ot(h,I),l=e),a.push(h),qt(h,q,s,{once:!0}),o.appendChild(h)})),bt(n.interval)&&n.interval>0){var h=function e(){t.playing=setTimeout((function(){Ct(a[l],I),Ot(a[l=(l+=1)<r?l:0],I),e()}),n.interval)};r>1&&h()}return this},stop:function(){var t=this;if(!this.played)return this;var e=this.element,i=this.options;if(zt(i.stop)&&qt(e,dt,i.stop,{once:!0}),!1===Pt(e,dt))return this;var n=this.player;return this.played=!1,clearTimeout(this.playing),Dt(n.getElementsByTagName("img"),(function(e){Xt(e,q,t.onLoadWhenPlay)})),Ct(n,L),n.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,e=this.options,i=this.viewer,n=this.image,o=this.list;return!this.isShown||this.played||this.fulled||!e.inline||(this.fulled=!0,this.open(),Ot(this.button,k),e.transition&&(Ct(o,R),this.viewed&&Ct(n,R)),Ot(i,y),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),It(i,{zIndex:e.zIndex}),e.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Et({},this.containerData),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){Ot(n,R),Ot(o,R)}),0)}))}))),this},exit:function(){var t=this,e=this.options,i=this.viewer,n=this.image,o=this.list;return this.isShown&&!this.played&&this.fulled&&e.inline?(this.fulled=!1,this.close(),Ct(this.button,k),e.transition&&(Ct(o,R),this.viewed&&Ct(n,R)),e.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),Ct(i,y),It(i,{zIndex:e.zIndexInline}),this.viewerData=Et({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){Ot(n,R),Ot(o,R)}),0)}))})),this):this},tooltip:function(){var t=this,e=this.options,i=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&e.tooltip?(i.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):e.transition?(this.fading&&Pt(i,Z),Ot(i,L),Ot(i,w),Ot(i,R),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,Ot(i,I)):(Ot(i,L),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout((function(){e.transition?(qt(i,Z,(function(){Ct(i,L),Ct(i,w),Ct(i,R),i.setAttribute("aria-hidden",!0),t.fading=!1}),{once:!0}),Ct(i,I),t.fading=!0):(Ct(i,L),i.setAttribute("aria-hidden",!0)),t.tooltipping=!1}),1e3),this):this},toggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 1===this.imageData.ratio?this.zoomTo(this.imageData.oldRatio,!0,t):this.zoomTo(1,!0,t),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Et({},this.initialImageData),this.renderImage()),this},update:function(){var t=this,e=this.element,i=this.options,n=this.isImg;if(n&&!e.parentNode)return this.destroy();var o=[];if(Dt(n?[e]:e.querySelectorAll("img"),(function(e){zt(i.filter)?i.filter.call(t,e)&&o.push(e):t.getImageURL(e)&&o.push(e)})),!o.length)return this;if(this.images=o,this.length=o.length,this.ready){var s=[];if(Dt(this.items,(function(t,e){var i=t.querySelector("img"),n=o[e];n&&i&&n.src===i.src&&n.alt===i.alt||s.push(e)})),It(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=s.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var r=this.items[this.index];Ot(r,p),r.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,e=this.options;return t[m]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),e.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):e.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),e.inline||Xt(t,N,this.onStart),t[m]=void 0,this):this}},ee={getImageURL:function(t){var e=this.options.url;return e=vt(e)?t.getAttribute(e):zt(e)?e.call(this,t):""},enforceFocus:function(){var t=this;this.clearEnforceFocus(),qt(document,M,this.onFocusin=function(e){var i=t.viewer,n=e.target;n===document||n===i||i.contains(n)||null!==n.getAttribute("tabindex")&&"true"===n.getAttribute("aria-modal")||i.focus()})},clearEnforceFocus:function(){this.onFocusin&&(Xt(document,M,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;Ot(t,C),t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var t=this.body;Ct(t,C),t.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var t=this.element,e=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,e.focus&&(i.focus(),this.enforceFocus()),zt(e.shown)&&qt(t,J,e.shown,{once:!0}),!1!==Pt(t,J)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,e=this.options,i=this.viewer;e.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Ot(i,z),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(zt(e.hidden)&&qt(t,tt,e.hidden,{once:!0}),Pt(t,tt,null,{cancelable:!1}))},requestFullscreen:function(t){var e=this.element.ownerDocument;if(this.fulled&&!(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)){var i=e.documentElement;i.requestFullscreen?kt(t)?i.requestFullscreen(t):i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var e=this.options,i=this.pointers,n=i[Object.keys(i)[0]];if(n){var o=n.endX-n.startX,s=n.endY-n.startY;switch(this.action){case f:this.move(o,s,t);break;case v:this.zoom(Kt(i),!1,t);break;case g:this.action="switched";var a=Math.abs(o);a>1&&a>Math.abs(s)&&(this.pointers={},o>1?this.prev(e.loop):o<-1&&this.next(e.loop))}Dt(i,(function(t){t.startX=t.endX,t.startY=t.endY}))}},isSwitchable:function(){var t=this.imageData,e=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=e.width&&t.height<=e.height}},ie=c.Viewer,ne=(_t=-1,function(){return _t+=1}),oe=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Et({},r,kt(i)&&i),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=ne(),this.init()}return s(t,[{key:"init",value:function(){var t=this,e=this.element,i=this.options;if(!e[m]){e[m]=this,i.focus&&!i.keyboard&&(i.focus=!1);var n="img"===e.localName,o=[];if(Dt(n?[e]:e.querySelectorAll("img"),(function(e){zt(i.filter)?i.filter.call(t,e)&&o.push(e):t.getImageURL(e)&&o.push(e)})),this.isImg=n,this.length=o.length,this.images=o,this.initBody(),wt(document.createElement(m).style.transition)&&(i.transition=!1),i.inline){var s=0,a=function(){var e;(s+=1)===t.length&&(t.initializing=!1,t.delaying={abort:function(){clearTimeout(e)}},e=setTimeout((function(){t.delaying=!1,t.build()}),0))};this.initializing={abort:function(){Dt(o,(function(t){t.complete||Xt(t,q,a)}))}},Dt(o,(function(t){t.complete?a():qt(t,q,a,{once:!0})}))}else qt(e,N,this.onStart=function(e){var n=e.target;"img"!==n.localName||zt(i.filter)&&!i.filter.call(t,n)||t.view(t.images.indexOf(n))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,e=this.options,i=t.parentNode,n=document.createElement("div");n.innerHTML=l;var o=n.querySelector(".".concat(m,"-container")),s=o.querySelector(".".concat(m,"-title")),a=o.querySelector(".".concat(m,"-toolbar")),r=o.querySelector(".".concat(m,"-navbar")),h=o.querySelector(".".concat(m,"-button")),c=o.querySelector(".".concat(m,"-canvas"));if(this.parent=i,this.viewer=o,this.title=s,this.toolbar=a,this.navbar=r,this.button=h,this.canvas=c,this.footer=o.querySelector(".".concat(m,"-footer")),this.tooltipBox=o.querySelector(".".concat(m,"-tooltip")),this.player=o.querySelector(".".concat(m,"-player")),this.list=o.querySelector(".".concat(m,"-list")),o.id="".concat(m).concat(this.id),s.id="".concat(m,"Title").concat(this.id),Ot(s,e.title?Ut(Array.isArray(e.title)?e.title[0]:e.title):z),Ot(r,e.navbar?Ut(e.navbar):z),Lt(h,z,!e.button),e.keyboard&&h.setAttribute("tabindex",0),e.backdrop&&(Ot(o,"".concat(m,"-backdrop")),e.inline||"static"===e.backdrop||Yt(c,mt,"hide")),vt(e.className)&&e.className&&e.className.split(ft).forEach((function(t){Ot(o,t)})),e.toolbar){var u=document.createElement("ul"),d=kt(e.toolbar),f=gt.slice(0,3),g=gt.slice(7,9),v=gt.slice(9);d||Ot(a,Ut(e.toolbar)),Dt(d?e.toolbar:gt,(function(t,i){var n=d&&kt(t),o=d?Nt(i):t,s=n&&!wt(t.show)?t.show:t;if(s&&(e.zoomable||-1===f.indexOf(o))&&(e.rotatable||-1===g.indexOf(o))&&(e.scalable||-1===v.indexOf(o))){var a=n&&!wt(t.size)?t.size:t,r=n&&!wt(t.click)?t.click:t,l=document.createElement("li");e.keyboard&&l.setAttribute("tabindex",0),l.setAttribute("role","button"),Ot(l,"".concat(m,"-").concat(o)),zt(r)||Yt(l,mt,o),bt(s)&&Ot(l,Ut(s)),-1!==["small","large"].indexOf(a)?Ot(l,"".concat(m,"-").concat(a)):"play"===o&&Ot(l,"".concat(m,"-large")),zt(r)&&qt(l,N,r),u.appendChild(l)}})),a.appendChild(u)}else Ot(a,z);if(!e.rotatable){var p=a.querySelectorAll('li[class*="rotate"]');Ot(p,A),Dt(p,(function(t){a.appendChild(t)}))}if(e.inline)Ot(h,x),It(o,{zIndex:e.zIndexInline}),"static"===window.getComputedStyle(i).position&&It(i,{position:"relative"}),i.insertBefore(o,t.nextSibling);else{Ot(h,b),Ot(o,y),Ot(o,w),Ot(o,z),It(o,{zIndex:e.zIndex});var k=e.container;vt(k)&&(k=t.ownerDocument.querySelector(k)),k||(k=this.body),k.appendChild(o)}e.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,zt(e.ready)&&qt(t,_,e.ready,{once:!0}),!1!==Pt(t,_)?this.ready&&e.inline&&this.view(this.index):this.ready=!1}}}],[{key:"noConflict",value:function(){return window.Viewer=ie,t}},{key:"setDefaults",value:function(t){Et(r,kt(t)&&t)}}]),t}();return Et(oe.prototype,Gt,Jt,Qt,te,ee),oe}()}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=i(949),e=i.n(t);class n{constructor(){this.excludeClassNames=["profile-avatar"];const t=this,i={filter:e=>t.isImageValid(e)};this.gallery=new(e())(document.querySelector("main"),Object.assign(i,window.viewerOptions))}run(){const t=this;document.querySelectorAll("img").forEach((function(e){"A"!==e.parentElement.tagName&&t.isImageValid(e)&&e.addEventListener("click",(function(){t.gallery.show()}))}))}isImageValid(t){return 0==this.excludeClassNames.filter((e=>t.classList.contains(e))).length}}document.addEventListener("DOMContentLoaded",(()=>{(new n).run()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFXaUVBLEVBQU9DLFFBRy9ELFdBQWUsYUFFdEIsU0FBU0MsRUFBUUMsRUFBUUMsR0FDdkIsSUFBSUMsRUFBT0MsT0FBT0QsS0FBS0YsR0FFdkIsR0FBSUcsT0FBT0Msc0JBQXVCLENBQ2hDLElBQUlDLEVBQVVGLE9BQU9DLHNCQUFzQkosR0FFdkNDLElBQ0ZJLEVBQVVBLEVBQVFDLFFBQU8sU0FBVUMsR0FDakMsT0FBT0osT0FBT0sseUJBQXlCUixFQUFRTyxHQUFLRSxlQUl4RFAsRUFBS1EsS0FBS0MsTUFBTVQsRUFBTUcsR0FHeEIsT0FBT0gsRUFHVCxTQUFTVSxFQUFlQyxHQUN0QixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUMsVUFBVUMsT0FBUUYsSUFBSyxDQUN6QyxJQUFJRyxFQUF5QixNQUFoQkYsVUFBVUQsR0FBYUMsVUFBVUQsR0FBSyxHQUUvQ0EsRUFBSSxFQUNOZixFQUFRSSxPQUFPYyxJQUFTLEdBQU1DLFNBQVEsU0FBVUMsR0FDOUNDLEVBQWdCUCxFQUFRTSxFQUFLRixFQUFPRSxPQUU3QmhCLE9BQU9rQiwwQkFDaEJsQixPQUFPbUIsaUJBQWlCVCxFQUFRVixPQUFPa0IsMEJBQTBCSixJQUVqRWxCLEVBQVFJLE9BQU9jLElBQVNDLFNBQVEsU0FBVUMsR0FDeENoQixPQUFPb0IsZUFBZVYsRUFBUU0sRUFBS2hCLE9BQU9LLHlCQUF5QlMsRUFBUUUsT0FLakYsT0FBT04sRUFHVCxTQUFTVyxFQUFRQyxHQWFmLE9BVEVELEVBRG9CLG1CQUFYRSxRQUFvRCxpQkFBcEJBLE9BQU9DLFNBQ3RDLFNBQVVGLEdBQ2xCLGNBQWNBLEdBR04sU0FBVUEsR0FDbEIsT0FBT0EsR0FBeUIsbUJBQVhDLFFBQXlCRCxFQUFJRyxjQUFnQkYsUUFBVUQsSUFBUUMsT0FBT0csVUFBWSxnQkFBa0JKLEdBSXRIRCxFQUFRQyxHQUdqQixTQUFTSyxFQUFnQkMsRUFBVUMsR0FDakMsS0FBTUQsYUFBb0JDLEdBQ3hCLE1BQU0sSUFBSUMsVUFBVSxxQ0FJeEIsU0FBU0MsRUFBa0JyQixFQUFRc0IsR0FDakMsSUFBSyxJQUFJckIsRUFBSSxFQUFHQSxFQUFJcUIsRUFBTW5CLE9BQVFGLElBQUssQ0FDckMsSUFBSXNCLEVBQWFELEVBQU1yQixHQUN2QnNCLEVBQVczQixXQUFhMkIsRUFBVzNCLGFBQWMsRUFDakQyQixFQUFXQyxjQUFlLEVBQ3RCLFVBQVdELElBQVlBLEVBQVdFLFVBQVcsR0FDakRuQyxPQUFPb0IsZUFBZVYsRUFBUXVCLEVBQVdqQixJQUFLaUIsSUFJbEQsU0FBU0csRUFBYVAsRUFBYVEsRUFBWUMsR0FHN0MsT0FGSUQsR0FBWU4sRUFBa0JGLEVBQVlILFVBQVdXLEdBQ3JEQyxHQUFhUCxFQUFrQkYsRUFBYVMsR0FDekNULEVBR1QsU0FBU1osRUFBZ0JLLEVBQUtOLEVBQUt1QixHQVlqQyxPQVhJdkIsS0FBT00sRUFDVHRCLE9BQU9vQixlQUFlRSxFQUFLTixFQUFLLENBQzlCdUIsTUFBT0EsRUFDUGpDLFlBQVksRUFDWjRCLGNBQWMsRUFDZEMsVUFBVSxJQUdaYixFQUFJTixHQUFPdUIsRUFHTmpCLEVBR1QsSUFBSWtCLEVBQVcsQ0FNYkMsVUFBVSxFQU1WQyxRQUFRLEVBTVJDLFFBQVEsRUFNUkMsT0FBTyxFQU1QQyxTQUFTLEVBTVRDLFVBQVcsR0FNWEMsVUFBVyxPQU1YNUMsT0FBUSxLQU9SNkMsWUFBWSxFQU1aQyxvQkFBcUIsQ0FBQyxjQUFlLFdBQVksUUFBUyxVQUFXLGlCQUFrQixRQUFTLFNBQVUsVUFNMUdDLGlCQUFrQixFQU1sQkMsUUFBUSxFQU1SQyxTQUFVLElBTVZDLFVBQVUsRUFNVkMsT0FBTyxFQU1QQyxTQUFTLEVBTVRDLE1BQU0sRUFNTkMsU0FBVSxJQU1WQyxVQUFXLElBTVhDLFNBQVMsRUFNVEMsV0FBVyxFQU1YQyxVQUFVLEVBTVZDLFVBQVUsRUFNVkMsYUFBYSxFQU1iQyxhQUFhLEVBTWJDLGNBQWMsRUFPZEMsa0JBQWtCLEVBTWxCQyxTQUFTLEVBTVRDLFlBQVksRUFNWkMsT0FBUSxLQU1SQyxhQUFjLEVBTWRDLFVBQVcsR0FNWEMsYUFBYyxJQU1kQyxhQUFjLElBTWRDLElBQUssTUFNTEMsTUFBTyxLQUNQQyxLQUFNLEtBQ05DLE1BQU8sS0FDUEMsS0FBTSxLQUNOQyxPQUFRLEtBQ1JDLEtBQU0sS0FDTkMsT0FBUSxLQUNSQyxLQUFNLEtBQ05DLE1BQU8sS0FDUEMsT0FBUSxLQUNSQyxRQUFTLEtBQ1RDLE1BQU8sS0FDUEMsT0FBUSxLQUNSQyxLQUFNLEtBQ05DLE9BQVEsS0FDUkMsS0FBTSxLQUNOQyxLQUFNLE1BR0pDLEVBQVcsd2NBRVhDLEVBQStCLG9CQUFYQyxhQUFxRCxJQUFwQkEsT0FBT0MsU0FDNURDLEVBQVNILEVBQWFDLE9BQVMsR0FDL0JHLEtBQWtCSixJQUFjRyxFQUFPRCxTQUFTRyxrQkFBa0IsaUJBQWtCRixFQUFPRCxTQUFTRyxnQkFDcEdDLElBQW9CTixHQUFhLGlCQUFrQkcsRUFDbkRJLEVBQVksU0FFWkMsRUFBYyxPQUNkQyxFQUFnQixTQUNoQkMsRUFBYyxPQUVkQyxFQUFlLEdBQUdDLE9BQU9MLEVBQVcsV0FDcENNLEVBQWMsR0FBR0QsT0FBT0wsRUFBVyxVQUNuQ08sRUFBYSxHQUFHRixPQUFPTCxFQUFXLFNBQ2xDUSxFQUFjLEdBQUdILE9BQU9MLEVBQVcsVUFDbkNTLEVBQW1CLEdBQUdKLE9BQU9MLEVBQVcsZUFDeENVLEVBQXdCLEdBQUdMLE9BQU9MLEVBQVcsb0JBQzdDVyxFQUFhLEdBQUdOLE9BQU9MLEVBQVcsU0FDbENZLEVBQXFCLEdBQUdQLE9BQU9MLEVBQVcsaUJBQzFDYSxFQUFxQixHQUFHUixPQUFPTCxFQUFXLGlCQUMxQ2MsRUFBcUIsR0FBR1QsT0FBT0wsRUFBVyxpQkFDMUNlLEVBQVcsR0FBR1YsT0FBT0wsRUFBVyxPQUNoQ2dCLEVBQWtCLEdBQUdYLE9BQU9MLEVBQVcsY0FDdkNpQixFQUFnQixHQUFHWixPQUFPTCxFQUFXLFlBQ3JDa0IsRUFBYSxHQUFHYixPQUFPTCxFQUFXLFNBQ2xDbUIsRUFBYSxHQUFHZCxPQUFPTCxFQUFXLFNBQ2xDb0IsRUFBYSxHQUFHZixPQUFPTCxFQUFXLFNBQ2xDcUIsRUFBbUIsR0FBR2hCLE9BQU9MLEVBQVcsZUFFeENzQixFQUFjLFFBQ2RDLEVBQWlCLFdBQ2pCQyxFQUFtQixZQUNuQkMsRUFBZ0IsVUFDaEJDLEVBQWlCLFVBQ2pCQyxFQUFhLE9BQ2JDLEVBQWMsUUFDZEMsRUFBa0JoQyxFQUFrQix1QkFBeUIsVUFDN0RpQyxFQUFtQmpDLEVBQWtCLFlBQWMsWUFDbkRrQyxFQUFvQmxDLEVBQWtCLGFBQWUsWUFDckRtQyxFQUFxQmpDLEVBQW9CLGNBQWdCZ0MsRUFDekRFLEVBQXFCbEMsRUFBb0IsY0FBZ0IrQixFQUN6REksRUFBbUJuQyxFQUFvQiwwQkFBNEI4QixFQUNuRU0sRUFBZSxTQUNmQyxFQUF1QixnQkFDdkJDLEVBQWMsUUFFZEMsRUFBYyxRQUNkQyxFQUFhLE9BQ2JDLEVBQWMsUUFDZEMsRUFBYSxPQUNiQyxHQUFlLFNBQ2ZDLEdBQWEsT0FDYkMsR0FBZSxTQUNmQyxHQUFhLE9BQ2JDLEdBQWMsUUFDZEMsR0FBZSxTQUNmQyxHQUFnQixVQUNoQkMsR0FBYyxRQUNkQyxHQUFlLFNBQ2ZDLEdBQWEsT0FDYkMsR0FBZSxTQUNmQyxHQUFhLE9BQ2JDLEdBQWEsT0FFYkMsR0FBYyxHQUFHbEQsT0FBT0wsRUFBVyxVQUVuQ3dELEdBQWdCLFFBRWhCQyxHQUFVLENBQUMsVUFBVyxXQUFZLGFBQWMsUUFBUyxPQUFRLE9BQVEsT0FBUSxjQUFlLGVBQWdCLGtCQUFtQixpQkFRdkksU0FBU0MsR0FBU3ZILEdBQ2hCLE1BQXdCLGlCQUFWQSxFQU1oQixJQUFJd0gsR0FBUUMsT0FBT0QsT0FBUy9ELEVBQU8rRCxNQU9uQyxTQUFTRSxHQUFTMUgsR0FDaEIsTUFBd0IsaUJBQVZBLElBQXVCd0gsR0FBTXhILEdBUTdDLFNBQVMySCxHQUFZM0gsR0FDbkIsWUFBd0IsSUFBVkEsRUFRaEIsU0FBUzRILEdBQVM1SCxHQUNoQixNQUEwQixXQUFuQmxCLEVBQVFrQixJQUFpQyxPQUFWQSxFQUV4QyxJQUFJNkgsR0FBaUJwSyxPQUFPMEIsVUFBVTBJLGVBT3RDLFNBQVNDLEdBQWM5SCxHQUNyQixJQUFLNEgsR0FBUzVILEdBQ1osT0FBTyxFQUdULElBQ0UsSUFBSStILEVBQWUvSCxFQUFNZCxZQUNyQkMsRUFBWTRJLEVBQWE1SSxVQUM3QixPQUFPNEksR0FBZ0I1SSxHQUFhMEksR0FBZUcsS0FBSzdJLEVBQVcsaUJBQ25FLE1BQU84SSxHQUNQLE9BQU8sR0FTWCxTQUFTQyxHQUFXbEksR0FDbEIsTUFBd0IsbUJBQVZBLEVBU2hCLFNBQVN4QixHQUFRMkosRUFBTUMsR0FDckIsR0FBSUQsR0FBUUQsR0FBV0UsR0FDckIsR0FBSUMsTUFBTUMsUUFBUUgsSUFBU1QsR0FBU1MsRUFBSzdKLFFBRXZDLENBQ0EsSUFDSUYsRUFEQUUsRUFBUzZKLEVBQUs3SixPQUdsQixJQUFLRixFQUFJLEVBQUdBLEVBQUlFLElBQ2dDLElBQTFDOEosRUFBU0osS0FBS0csRUFBTUEsRUFBSy9KLEdBQUlBLEVBQUcrSixHQURkL0osR0FBSyxTQUtwQndKLEdBQVNPLElBQ2xCMUssT0FBT0QsS0FBSzJLLEdBQU0zSixTQUFRLFNBQVVDLEdBQ2xDMkosRUFBU0osS0FBS0csRUFBTUEsRUFBSzFKLEdBQU1BLEVBQUswSixNQUsxQyxPQUFPQSxFQVNULElBQUlJLEdBQVM5SyxPQUFPOEssUUFBVSxTQUFnQnhKLEdBQzVDLElBQUssSUFBSXlKLEVBQU9uSyxVQUFVQyxPQUFRbUssRUFBTyxJQUFJSixNQUFNRyxFQUFPLEVBQUlBLEVBQU8sRUFBSSxHQUFJRSxFQUFPLEVBQUdBLEVBQU9GLEVBQU1FLElBQ2xHRCxFQUFLQyxFQUFPLEdBQUtySyxVQUFVcUssR0FhN0IsT0FWSWQsR0FBUzdJLElBQVEwSixFQUFLbkssT0FBUyxHQUNqQ21LLEVBQUtqSyxTQUFRLFNBQVVtSyxHQUNqQmYsR0FBU2UsSUFDWGxMLE9BQU9ELEtBQUttTCxHQUFLbkssU0FBUSxTQUFVQyxHQUNqQ00sRUFBSU4sR0FBT2tLLEVBQUlsSyxTQU1oQk0sR0FFTDZKLEdBQWdCLG1EQU9wQixTQUFTQyxHQUFTQyxFQUFTQyxHQUN6QixJQUFJQyxFQUFRRixFQUFRRSxNQUNwQnhLLEdBQVF1SyxHQUFRLFNBQVUvSSxFQUFPaUosR0FDM0JMLEdBQWNNLEtBQUtELElBQWF2QixHQUFTMUgsS0FDM0NBLEdBQVMsTUFHWGdKLEVBQU1DLEdBQVlqSixLQVN0QixTQUFTbUosR0FBbUJuSixHQUMxQixPQUFPdUgsR0FBU3ZILEdBQVNBLEVBQU1vSixRQUFRLGdDQUFpQyxTQUFTQSxRQUFRLEtBQU0sVUFBVUEsUUFBUSxLQUFNLFNBQVNBLFFBQVEsS0FBTSxRQUFRQSxRQUFRLEtBQU0sUUFBVXBKLEVBU2hMLFNBQVNxSixHQUFTUCxFQUFTOUksR0FDekIsU0FBSzhJLElBQVk5SSxLQUlWOEksRUFBUVEsVUFBWVIsRUFBUVEsVUFBVUMsU0FBU3ZKLEdBQVM4SSxFQUFRdkksVUFBVWlKLFFBQVF4SixJQUFVLEdBUXJHLFNBQVN5SixHQUFTWCxFQUFTOUksR0FDekIsR0FBSzhJLEdBQVk5SSxFQUlqQixHQUFJMEgsR0FBU29CLEVBQVF4SyxRQUNuQkUsR0FBUXNLLEdBQVMsU0FBVVksR0FDekJELEdBQVNDLEVBQU0xSixXQUtuQixHQUFJOEksRUFBUVEsVUFDVlIsRUFBUVEsVUFBVUssSUFBSTNKLE9BRHhCLENBS0EsSUFBSU8sRUFBWXVJLEVBQVF2SSxVQUFVcUosT0FFN0JySixFQUVNQSxFQUFVaUosUUFBUXhKLEdBQVMsSUFDcEM4SSxFQUFRdkksVUFBWSxHQUFHMkQsT0FBTzNELEVBQVcsS0FBSzJELE9BQU9sRSxJQUZyRDhJLEVBQVF2SSxVQUFZUCxHQVd4QixTQUFTNkosR0FBWWYsRUFBUzlJLEdBQ3ZCOEksR0FBWTlJLElBSWIwSCxHQUFTb0IsRUFBUXhLLFFBQ25CRSxHQUFRc0ssR0FBUyxTQUFVWSxHQUN6QkcsR0FBWUgsRUFBTTFKLE1BS2xCOEksRUFBUVEsVUFDVlIsRUFBUVEsVUFBVVEsT0FBTzlKLEdBSXZCOEksRUFBUXZJLFVBQVVpSixRQUFReEosSUFBVSxJQUN0QzhJLEVBQVF2SSxVQUFZdUksRUFBUXZJLFVBQVU2SSxRQUFRcEosRUFBTyxNQVV6RCxTQUFTK0osR0FBWWpCLEVBQVM5SSxFQUFPZ0ssR0FDOUJoSyxJQUlEMEgsR0FBU29CLEVBQVF4SyxRQUNuQkUsR0FBUXNLLEdBQVMsU0FBVVksR0FDekJLLEdBQVlMLEVBQU0xSixFQUFPZ0ssTUFNekJBLEVBQ0ZQLEdBQVNYLEVBQVM5SSxHQUVsQjZKLEdBQVlmLEVBQVM5SSxJQUd6QixJQUFJaUssR0FBbUIsb0JBT3ZCLFNBQVNDLEdBQVVsSyxHQUNqQixPQUFPQSxFQUFNb0osUUFBUWEsR0FBa0IsU0FBU0UsY0FTbEQsU0FBU0MsR0FBUXRCLEVBQVN1QixHQUN4QixPQUFJekMsR0FBU2tCLEVBQVF1QixJQUNadkIsRUFBUXVCLEdBR2J2QixFQUFRd0IsUUFDSHhCLEVBQVF3QixRQUFRRCxHQUdsQnZCLEVBQVF5QixhQUFhLFFBQVFyRyxPQUFPZ0csR0FBVUcsS0FTdkQsU0FBU0csR0FBUTFCLEVBQVN1QixFQUFNbEMsR0FDMUJQLEdBQVNPLEdBQ1hXLEVBQVF1QixHQUFRbEMsRUFDUFcsRUFBUXdCLFFBQ2pCeEIsRUFBUXdCLFFBQVFELEdBQVFsQyxFQUV4QlcsRUFBUTJCLGFBQWEsUUFBUXZHLE9BQU9nRyxHQUFVRyxJQUFRbEMsR0FJMUQsSUFBSXVDLEdBQWdCLFdBQ2xCLElBQUlDLEdBQVksRUFFaEIsR0FBSXJILEVBQVksQ0FDZCxJQUFJc0gsR0FBTyxFQUVQQyxFQUFXLGFBRVhDLEVBQVVyTixPQUFPb0IsZUFBZSxHQUFJLE9BQVEsQ0FDOUNrTSxJQUFLLFdBRUgsT0FEQUosR0FBWSxFQUNMQyxHQVFUSSxJQUFLLFNBQWFoTCxHQUNoQjRLLEVBQU81SyxLQUdYeUQsRUFBT3dILGlCQUFpQixPQUFRSixFQUFVQyxHQUMxQ3JILEVBQU95SCxvQkFBb0IsT0FBUUwsRUFBVUMsR0FHL0MsT0FBT0gsRUEzQlcsR0FzQ3BCLFNBQVNRLEdBQWVyQyxFQUFTc0MsRUFBTVAsR0FDckMsSUFBSUMsRUFBVXpNLFVBQVVDLE9BQVMsUUFBc0IrTSxJQUFqQmhOLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxHQUM5RWlOLEVBQVVULEVBQ2RPLEVBQUt4QixPQUFPMkIsTUFBTWxFLElBQWU3SSxTQUFRLFNBQVVnTixHQUNqRCxJQUFLZCxHQUFlLENBQ2xCLElBQUllLEVBQVkzQyxFQUFRMkMsVUFFcEJBLEdBQWFBLEVBQVVELElBQVVDLEVBQVVELEdBQU9YLEtBQ3BEUyxFQUFVRyxFQUFVRCxHQUFPWCxVQUNwQlksRUFBVUQsR0FBT1gsR0FFcUIsSUFBekNwTixPQUFPRCxLQUFLaU8sRUFBVUQsSUFBUWxOLGVBQ3pCbU4sRUFBVUQsR0FHbUIsSUFBbEMvTixPQUFPRCxLQUFLaU8sR0FBV25OLGVBQ2xCd0ssRUFBUTJDLFdBS3JCM0MsRUFBUW9DLG9CQUFvQk0sRUFBT0YsRUFBU1IsTUFXaEQsU0FBU1ksR0FBWTVDLEVBQVNzQyxFQUFNUCxHQUNsQyxJQUFJQyxFQUFVek0sVUFBVUMsT0FBUyxRQUFzQitNLElBQWpCaE4sVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEdBQzlFc04sRUFBV2QsRUFDZk8sRUFBS3hCLE9BQU8yQixNQUFNbEUsSUFBZTdJLFNBQVEsU0FBVWdOLEdBQ2pELEdBQUlWLEVBQVFGLE9BQVNGLEdBQWUsQ0FDbEMsSUFBSWtCLEVBQXFCOUMsRUFBUTJDLFVBQzdCQSxPQUFtQyxJQUF2QkcsRUFBZ0MsR0FBS0EsRUFFckRELEVBQVcsa0JBQ0ZGLEVBQVVELEdBQU9YLEdBQ3hCL0IsRUFBUW9DLG9CQUFvQk0sRUFBT0csRUFBVWIsR0FFN0MsSUFBSyxJQUFJZSxFQUFReE4sVUFBVUMsT0FBUW1LLEVBQU8sSUFBSUosTUFBTXdELEdBQVFDLEVBQVEsRUFBR0EsRUFBUUQsRUFBT0MsSUFDcEZyRCxFQUFLcUQsR0FBU3pOLFVBQVV5TixHQUcxQmpCLEVBQVM1TSxNQUFNNkssRUFBU0wsSUFHckJnRCxFQUFVRCxLQUNiQyxFQUFVRCxHQUFTLElBR2pCQyxFQUFVRCxHQUFPWCxJQUNuQi9CLEVBQVFvQyxvQkFBb0JNLEVBQU9DLEVBQVVELEdBQU9YLEdBQVdDLEdBR2pFVyxFQUFVRCxHQUFPWCxHQUFZYyxFQUM3QjdDLEVBQVEyQyxVQUFZQSxFQUd0QjNDLEVBQVFtQyxpQkFBaUJPLEVBQU9HLEVBQVViLE1BWTlDLFNBQVNpQixHQUFjakQsRUFBU3NDLEVBQU1qRCxFQUFNMkMsR0FDMUMsSUFBSVUsRUFhSixPQVhJdEQsR0FBVzhELFFBQVU5RCxHQUFXK0QsYUFDbENULEVBQVEsSUFBSVMsWUFBWWIsRUFBTWxOLEVBQWUsQ0FDM0NnTyxTQUFTLEVBQ1RDLFlBQVksRUFDWkMsT0FBUWpFLEdBQ1AyQyxLQUVIVSxFQUFRaEksU0FBUzZJLFlBQVksZ0JBQ3ZCQyxnQkFBZ0JsQixHQUFNLEdBQU0sRUFBTWpELEdBR25DVyxFQUFRaUQsY0FBY1AsR0FRL0IsU0FBU2UsR0FBVXpELEdBQ2pCLElBQUkwRCxFQUFNMUQsRUFBUTJELHdCQUNsQixNQUFPLENBQ0xDLEtBQU1GLEVBQUlFLE1BQVFuSixPQUFPb0osWUFBY25KLFNBQVNHLGdCQUFnQmlKLFlBQ2hFQyxJQUFLTCxFQUFJSyxLQUFPdEosT0FBT3VKLFlBQWN0SixTQUFTRyxnQkFBZ0JvSixZQVNsRSxTQUFTQyxHQUFjQyxHQUNyQixJQUFJcEssRUFBU29LLEVBQUtwSyxPQUNkcUssRUFBU0QsRUFBS0MsT0FDZEMsRUFBU0YsRUFBS0UsT0FDZEMsRUFBYUgsRUFBS0csV0FDbEJDLEVBQWFKLEVBQUtJLFdBQ2xCQyxFQUFTLEdBRVQ1RixHQUFTMEYsSUFBOEIsSUFBZkEsR0FDMUJFLEVBQU90UCxLQUFLLGNBQWNrRyxPQUFPa0osRUFBWSxRQUczQzFGLEdBQVMyRixJQUE4QixJQUFmQSxHQUMxQkMsRUFBT3RQLEtBQUssY0FBY2tHLE9BQU9tSixFQUFZLFFBSTNDM0YsR0FBUzdFLElBQXNCLElBQVhBLEdBQ3RCeUssRUFBT3RQLEtBQUssVUFBVWtHLE9BQU9yQixFQUFRLFNBR25DNkUsR0FBU3dGLElBQXNCLElBQVhBLEdBQ3RCSSxFQUFPdFAsS0FBSyxVQUFVa0csT0FBT2dKLEVBQVEsTUFHbkN4RixHQUFTeUYsSUFBc0IsSUFBWEEsR0FDdEJHLEVBQU90UCxLQUFLLFVBQVVrRyxPQUFPaUosRUFBUSxNQUd2QyxJQUFJSSxFQUFZRCxFQUFPaFAsT0FBU2dQLEVBQU9FLEtBQUssS0FBTyxPQUNuRCxNQUFPLENBQ0xDLGdCQUFpQkYsRUFDakJHLFlBQWFILEVBQ2JBLFVBQVdBLEdBWWYsU0FBU0ksR0FBb0J4TCxHQUMzQixPQUFPb0YsR0FBU3BGLEdBQU95TCxtQkFBbUJ6TCxFQUFJaUgsUUFBUSxRQUFTLElBQUlBLFFBQVEsV0FBWSxLQUFPLEdBRWhHLElBQUl5RSxHQUFZcEssRUFBT3FLLFdBQWEsNkNBQTZDNUUsS0FBS3pGLEVBQU9xSyxVQUFVQyxXQVN2RyxTQUFTQyxHQUFxQkMsRUFBT25ELEVBQVMxQyxHQUM1QyxJQUFJOEYsRUFBVzFLLFNBQVMySyxjQUFjLE9BRXRDLEdBQUlGLEVBQU1HLGVBQWlCUCxHQUV6QixPQURBekYsRUFBUzZGLEVBQU1HLGFBQWNILEVBQU1JLGVBQzVCSCxFQUdULElBQUlJLEVBQU85SyxTQUFTOEssTUFBUTlLLFNBQVNHLGdCQXlCckMsT0F2QkF1SyxFQUFTSyxPQUFTLFdBQ2hCbkcsRUFBUzhGLEVBQVNNLE1BQU9OLEVBQVNPLFFBRTdCWixJQUNIUyxFQUFLSSxZQUFZUixJQUlyQjFQLEdBQVFzTSxFQUFRcEsscUJBQXFCLFNBQVUySixHQUM3QyxJQUFJckssRUFBUWlPLEVBQU0xRCxhQUFhRixHQUVqQixPQUFWckssR0FDRmtPLEVBQVN6RCxhQUFhSixFQUFNckssTUFHaENrTyxFQUFTUyxJQUFNVixFQUFNVSxJQUdoQmQsS0FDSEssRUFBU2xGLE1BQU00RixRQUFVLHVKQUN6Qk4sRUFBS08sWUFBWVgsSUFHWkEsRUFRVCxTQUFTWSxHQUFtQjFELEdBQzFCLE9BQVFBLEdBQ04sS0FBSyxFQUNILE9BQU96RyxFQUVULEtBQUssRUFDSCxPQUFPRCxFQUVULEtBQUssRUFDSCxPQUFPRCxFQUVULFFBQ0UsTUFBTyxJQVNiLFNBQVNzSyxHQUFnQkMsR0FDdkIsSUFBSUMsRUFBWS9RLEVBQWUsR0FBSThRLEdBRS9CRSxFQUFTLEdBaUJiLE9BaEJBMVEsR0FBUXdRLEdBQVUsU0FBVUcsRUFBU0MsVUFDNUJILEVBQVVHLEdBQ2pCNVEsR0FBUXlRLEdBQVcsU0FBVUksR0FDM0IsSUFBSUMsRUFBS0MsS0FBS0MsSUFBSUwsRUFBUU0sT0FBU0osRUFBU0ksUUFDeENDLEVBQUtILEtBQUtDLElBQUlMLEVBQVFRLE9BQVNOLEVBQVNNLFFBQ3hDQyxFQUFLTCxLQUFLQyxJQUFJTCxFQUFRVSxLQUFPUixFQUFTUSxNQUN0Q0MsRUFBS1AsS0FBS0MsSUFBSUwsRUFBUVksS0FBT1YsRUFBU1UsTUFDdENDLEVBQUtULEtBQUtVLEtBQUtYLEVBQUtBLEVBQUtJLEVBQUtBLEdBRTlCUSxHQURLWCxLQUFLVSxLQUFLTCxFQUFLQSxFQUFLRSxFQUFLQSxHQUNoQkUsR0FBTUEsRUFDeEJkLEVBQU9sUixLQUFLa1MsU0FHaEJoQixFQUFPaUIsTUFBSyxTQUFVQyxFQUFHQyxHQUN2QixPQUFPZCxLQUFLQyxJQUFJWSxHQUFLYixLQUFLQyxJQUFJYSxNQUV6Qm5CLEVBQU8sR0FTaEIsU0FBU29CLEdBQVdDLEVBQU9DLEdBQ3pCLElBQUlDLEVBQVFGLEVBQU1FLE1BQ2RDLEVBQVFILEVBQU1HLE1BQ2RDLEVBQU0sQ0FDUmQsS0FBTVksRUFDTlYsS0FBTVcsR0FFUixPQUFPRixFQUFVRyxFQUFNelMsRUFBZSxDQUNwQzBTLFVBQVdDLEtBQUtDLE1BQ2hCckIsT0FBUWdCLEVBQ1JkLE9BQVFlLEdBQ1BDLEdBUUwsU0FBU0ksR0FBa0IvQixHQUN6QixJQUFJeUIsRUFBUSxFQUNSQyxFQUFRLEVBQ1JNLEVBQVEsRUFVWixPQVRBeFMsR0FBUXdRLEdBQVUsU0FBVWlDLEdBQzFCLElBQUl4QixFQUFTd0IsRUFBTXhCLE9BQ2ZFLEVBQVNzQixFQUFNdEIsT0FDbkJjLEdBQVNoQixFQUNUaUIsR0FBU2YsRUFDVHFCLEdBQVMsS0FJSixDQUNMUCxNQUhGQSxHQUFTTyxFQUlQTixNQUhGQSxHQUFTTSxHQU9YLElBcW9FNEJFLEdBcm9FeEJDLEdBQVMsQ0FDWEEsT0FBUSxXQUNOQyxLQUFLQyxnQkFDTEQsS0FBS0UsYUFDTEYsS0FBS0csV0FDTEgsS0FBS0ksZ0JBRVBDLFNBQVUsV0FDUixJQUFJQyxFQUFnQk4sS0FBS3RJLFFBQVE0SSxjQUM3QnBELEVBQU9vRCxFQUFjcEQsTUFBUW9ELEVBQWMvTixnQkFDL0N5TixLQUFLOUMsS0FBT0EsRUFDWjhDLEtBQUtPLGVBQWlCcE8sT0FBT3FPLFdBQWFGLEVBQWMvTixnQkFBZ0JrTyxZQUN4RVQsS0FBS1Usd0JBQTBCeEQsRUFBS3RGLE1BQU0rSSxhQUMxQ1gsS0FBS1ksZ0NBQWtDek8sT0FBTzBPLGlCQUFpQjNELEdBQU15RCxjQUV2RVYsY0FBZSxXQUNiRCxLQUFLYyxjQUFnQixDQUNuQjFELE1BQU9qTCxPQUFPcU8sV0FDZG5ELE9BQVFsTCxPQUFPNE8sY0FHbkJiLFdBQVksV0FDVixJQUVJYyxFQUZBdEgsRUFBVXNHLEtBQUt0RyxRQUNmdUgsRUFBU2pCLEtBQUtpQixPQUdkdkgsRUFBUWxLLFNBQ1Z3UixFQUFhLENBQ1g1RCxNQUFPZSxLQUFLK0MsSUFBSUQsRUFBT0UsWUFBYXpILEVBQVE1SixVQUM1Q3VOLE9BQVFjLEtBQUsrQyxJQUFJRCxFQUFPRyxhQUFjMUgsRUFBUTNKLFlBRWhEaVEsS0FBS3FCLFdBQWFMLElBR2hCaEIsS0FBS3NCLFFBQVdOLElBQ2xCQSxFQUFhaEIsS0FBS2MsZUFHcEJkLEtBQUtnQixXQUFhN0osR0FBTyxHQUFJNkosSUFFL0JaLGFBQWMsV0FDUkosS0FBS3RHLFFBQVFsSyxTQUFXd1EsS0FBS3NCLFFBQy9CN0osR0FBU3VJLEtBQUt1QixPQUFRdkIsS0FBS2dCLGFBRy9CYixTQUFVLFdBQ1IsSUFBSXFCLEVBQVF4QixLQUVSdEksRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUNmK0gsRUFBT3pCLEtBQUt5QixLQUNaQyxFQUFRLEdBRVpELEVBQUtFLFVBQVksR0FDakJ2VSxHQUFRNFMsS0FBSzRCLFFBQVEsU0FBVS9FLEVBQU9nRixHQUNwQyxJQUFJdEUsRUFBTVYsRUFBTVUsSUFDWnVFLEVBQU1qRixFQUFNaUYsS0FBT3ZGLEdBQW9CZ0IsR0FFdkN4TSxFQUFNeVEsRUFBTU8sWUFBWWxGLEdBRTVCLEdBQUlVLEdBQU94TSxFQUFLLENBQ2QsSUFBSWlSLEVBQU81UCxTQUFTMkssY0FBYyxNQUM5QmtGLEVBQU03UCxTQUFTMkssY0FBYyxPQUNqQzNQLEdBQVFzTSxFQUFRcEsscUJBQXFCLFNBQVUySixHQUM3QyxJQUFJckssRUFBUWlPLEVBQU0xRCxhQUFhRixHQUVqQixPQUFWckssR0FDRnFULEVBQUk1SSxhQUFhSixFQUFNckssTUFHM0JxVCxFQUFJMUUsSUFBTUEsR0FBT3hNLEVBQ2pCa1IsRUFBSUgsSUFBTUEsRUFDVkcsRUFBSTVJLGFBQWEsb0JBQXFCdEksR0FBT3dNLEdBQzdDeUUsRUFBSzNJLGFBQWEsYUFBY3dJLEdBQ2hDRyxFQUFLM0ksYUFBYSxxQkFBc0IsUUFDeEMySSxFQUFLM0ksYUFBYSxPQUFRLFVBRXRCSyxFQUFRaEssVUFDVnNTLEVBQUszSSxhQUFhLFdBQVksR0FHaEMySSxFQUFLdkUsWUFBWXdFLEdBQ2pCUixFQUFLaEUsWUFBWXVFLEdBQ2pCTixFQUFNOVUsS0FBS29WLE9BR2ZoQyxLQUFLMEIsTUFBUUEsRUFDYnRVLEdBQVFzVSxHQUFPLFNBQVVNLEdBQ3ZCLElBQ0lFLEVBQ0FDLEVBRkF0RixFQUFRbUYsRUFBS0ksa0JBR2pCaEosR0FBUXlELEVBQU8sVUFBVSxHQUVyQm5ELEVBQVE5SixTQUNWeUksR0FBUzJKLEVBQU10TyxHQUdqQjRHLEdBQVl1QyxFQUFPekksRUFBWThOLEVBQVMsU0FBZ0I5SCxHQUN0REwsR0FBZThDLEVBQU94SSxFQUFhOE4sR0FFL0J6SSxFQUFROUosU0FDVjZJLEdBQVl1SixFQUFNdE8sR0FHcEI4TixFQUFNYSxVQUFVakksSUFDZixDQUNEWixNQUFNLElBRVJjLEdBQVl1QyxFQUFPeEksRUFBYThOLEVBQVUsV0FDeENwSSxHQUFlOEMsRUFBT3pJLEVBQVk4TixHQUU5QnhJLEVBQVE5SixTQUNWNkksR0FBWXVKLEVBQU10TyxJQUVuQixDQUNEOEYsTUFBTSxPQUlORSxFQUFRakosWUFDVjZKLEdBQVk1QyxFQUFTckMsSUFBYyxXQUNqQ2dELEdBQVNvSixFQUFNM04sS0FDZCxDQUNEMEYsTUFBTSxLQUlaOEksV0FBWSxXQUNWLElBQUlULEVBQVE3QixLQUFLNkIsTUFDYkcsRUFBT2hDLEtBQUswQixNQUFNRyxHQUV0QixHQUFLRyxFQUFMLENBSUEsSUFBSU8sRUFBT1AsRUFBS1EsbUJBQ1pDLEVBQVNDLFNBQVN2USxPQUFPME8saUJBQWlCMEIsR0FBUVAsR0FBTVcsV0FBWSxJQUNwRXhCLEVBQWNhLEVBQUtiLFlBQ25CeUIsRUFBYXpCLEVBQWNzQixFQUUvQmhMLEdBQVN1SSxLQUFLeUIsS0FBTXRLLEdBQU8sQ0FDekJpRyxNQUFPd0YsRUFBYTVDLEtBQUs5UyxPQUFTdVYsR0FDakM3RyxHQUFjLENBQ2ZJLFlBQWFnRSxLQUFLZ0IsV0FBVzVELE1BQVErRCxHQUFlLEVBQUl5QixFQUFhZixRQUd6RWdCLFVBQVcsV0FDVCxJQUFJcEIsRUFBT3pCLEtBQUt5QixLQUNoQkEsRUFBS0UsVUFBWSxHQUNqQmxKLEdBQVlnSixFQUFNM04sR0FDbEIyRCxHQUFTZ0ssRUFBTTdGLEdBQWMsQ0FDM0JJLFdBQVksTUFHaEI4RyxVQUFXLFNBQW1CQyxHQUM1QixJQVNJQyxFQVRBQyxFQUFTakQsS0FFVHRHLEVBQVVzRyxLQUFLdEcsUUFDZm1ELEVBQVFtRCxLQUFLbkQsTUFDYm1FLEVBQWFoQixLQUFLZ0IsV0FDbEJrQyxFQUFlbEQsS0FBS21ELE9BQU8vQixhQUMzQmdDLEVBQWNwQyxFQUFXNUQsTUFDekJpRyxFQUFlbEYsS0FBSytDLElBQUlGLEVBQVczRCxPQUFTNkYsRUFBY0EsR0FDMURJLEVBQWV0RCxLQUFLdUQsV0FBYSxHQUVyQ3ZELEtBQUt3RCxrQkFBb0IsQ0FDdkJDLE1BQU8sV0FDTFQsRUFBWTdGLE9BQVMsT0FHekI2RixFQUFjcEcsR0FBcUJDLEVBQU9uRCxHQUFTLFNBQVVzRCxFQUFjQyxHQUN6RSxJQUFJeUcsRUFBYzFHLEVBQWVDLEVBQzdCRyxFQUFRZ0csRUFDUi9GLEVBQVNnRyxFQUNiSixFQUFPTyxtQkFBb0IsRUFFdkJILEVBQWVLLEVBQWNOLEVBQy9CL0YsRUFBUytGLEVBQWNNLEVBRXZCdEcsRUFBUWlHLEVBQWVLLEVBR3pCdEcsRUFBUWUsS0FBS3dGLElBQVksR0FBUnZHLEVBQWFKLEdBQzlCSyxFQUFTYyxLQUFLd0YsSUFBYSxHQUFUdEcsRUFBY0osR0FDaEMsSUFBSTNCLEdBQVE4SCxFQUFjaEcsR0FBUyxFQUMvQjNCLEdBQU80SCxFQUFlaEcsR0FBVSxFQUNoQ2tHLEVBQVksQ0FDZGpJLEtBQU1BLEVBQ05HLElBQUtBLEVBQ0xtSSxFQUFHdEksRUFDSHVJLEVBQUdwSSxFQUNIMkIsTUFBT0EsRUFDUEMsT0FBUUEsRUFDUnlHLFNBQVUsRUFDVmhGLE1BQU8xQixFQUFRSixFQUNmMEcsWUFBYUEsRUFDYjFHLGFBQWNBLEVBQ2RDLGNBQWVBLEdBRWI4RyxFQUFtQjVNLEdBQU8sR0FBSW9NLEdBRTlCN0osRUFBUXpKLFlBQ1ZzVCxFQUFVOVIsT0FBUzZSLEVBQWE3UixRQUFVLEVBQzFDc1MsRUFBaUJ0UyxPQUFTLEdBR3hCaUksRUFBUXhKLFdBQ1ZxVCxFQUFVekgsT0FBU3dILEVBQWF4SCxRQUFVLEVBQzFDeUgsRUFBVXhILE9BQVN1SCxFQUFhdkgsUUFBVSxFQUMxQ2dJLEVBQWlCakksT0FBUyxFQUMxQmlJLEVBQWlCaEksT0FBUyxHQUc1QmtILEVBQU9NLFVBQVlBLEVBQ25CTixFQUFPYyxpQkFBbUJBLEVBRXRCaEIsR0FDRkEsUUFJTmlCLFlBQWEsU0FBcUJqQixHQUNoQyxJQUFJa0IsRUFBU2pFLEtBRVRuRCxFQUFRbUQsS0FBS25ELE1BQ2IwRyxFQUFZdkQsS0FBS3VELFVBU3JCLEdBUkE5TCxHQUFTb0YsRUFBTzFGLEdBQU8sQ0FDckJpRyxNQUFPbUcsRUFBVW5HLE1BQ2pCQyxPQUFRa0csRUFBVWxHLE9BRWxCc0YsV0FBWVksRUFBVUssRUFDdEJNLFVBQVdYLEVBQVVNLEdBQ3BCakksR0FBYzJILEtBRWJSLEVBQ0YsSUFBSy9DLEtBQUttRSxTQUFXbkUsS0FBS29FLFFBQVVwRSxLQUFLcUUsVUFBWXJFLEtBQUtzRSxTQUFXdEUsS0FBS3VFLFVBQVl2RSxLQUFLdEcsUUFBUWpKLFlBQWN3SCxHQUFTNEUsRUFBTy9JLEdBQW1CLENBQ2xKLElBQUkwUSxFQUFrQixXQUNwQlAsRUFBT1EsZ0JBQWlCLEVBQ3hCMUIsS0FHRi9DLEtBQUt5RSxlQUFpQixDQUNwQmhCLE1BQU8sV0FDTDFKLEdBQWU4QyxFQUFPaEksRUFBc0IyUCxLQUdoRGxLLEdBQVl1QyxFQUFPaEksRUFBc0IyUCxFQUFpQixDQUN4RGhMLE1BQU0sU0FHUnVKLEtBSU4yQixXQUFZLFdBRVYsR0FBSTFFLEtBQUttRSxTQUFXbkUsS0FBSzFPLE9BQVEsQ0FDL0IsSUFBSXVMLEVBQVFtRCxLQUFLbkQsTUFFYm1ELEtBQUttRSxTQUNQbkUsS0FBS21FLFFBQVFWLFFBR2Y1RyxFQUFNOEgsV0FBV3JILFlBQVlULEdBQzdCbUQsS0FBS25ELE1BQVEsUUFLZitILEdBQVMsQ0FDWEMsS0FBTSxXQUNKLElBQUluTCxFQUFVc0csS0FBS3RHLFFBQ2Y2SCxFQUFTdkIsS0FBS3VCLE9BQ2R1RCxFQUFTOUUsS0FBSzhFLE9BQ2QxUyxFQUFXNE4sS0FBS3RJLFFBQVE0SSxjQUM1QmhHLEdBQVlpSCxFQUFReE4sRUFBYWlNLEtBQUsrRSxRQUFVL0UsS0FBS2dGLE1BQU1ILEtBQUs3RSxPQUNoRTFGLEdBQVlpSCxFQUFRdE4sRUFBa0IrTCxLQUFLaUYsWUFBY2pGLEtBQUtrRixVQUFVTCxLQUFLN0UsT0FDN0UxRixHQUFZd0ssRUFBUXJRLEVBQW9CdUwsS0FBS21GLGNBQWdCbkYsS0FBS29GLFlBQVlQLEtBQUs3RSxPQUNuRjFGLEdBQVlsSSxFQUFVc0MsRUFBb0JzTCxLQUFLcUYsY0FBZ0JyRixLQUFLc0YsWUFBWVQsS0FBSzdFLE9BQ3JGMUYsR0FBWWxJLEVBQVV1QyxFQUFrQnFMLEtBQUt1RixZQUFjdkYsS0FBS3dGLFVBQVVYLEtBQUs3RSxPQUMvRTFGLEdBQVlsSSxFQUFVK0IsRUFBZ0I2TCxLQUFLeUYsVUFBWXpGLEtBQUswRixRQUFRYixLQUFLN0UsT0FDekUxRixHQUFZbkksT0FBUXlDLEVBQWNvTCxLQUFLMkYsU0FBVzNGLEtBQUs0RixPQUFPZixLQUFLN0UsT0FFL0R0RyxFQUFRdkosVUFBWXVKLEVBQVFySixhQUM5QmlLLEdBQVlpSCxFQUFRek0sRUFBYWtMLEtBQUs2RixRQUFVN0YsS0FBSzhGLE1BQU1qQixLQUFLN0UsTUFBTyxDQUNyRStGLFNBQVMsRUFDVEMsU0FBUyxJQUlUdE0sRUFBUW5KLGtCQUNWK0osR0FBWXdLLEVBQVE5USxFQUFnQmdNLEtBQUtpRyxXQUFhakcsS0FBS2tHLFNBQVNyQixLQUFLN0UsUUFHN0VtRyxPQUFRLFdBQ04sSUFBSXpNLEVBQVVzRyxLQUFLdEcsUUFDZjZILEVBQVN2QixLQUFLdUIsT0FDZHVELEVBQVM5RSxLQUFLOEUsT0FDZDFTLEVBQVc0TixLQUFLdEksUUFBUTRJLGNBQzVCdkcsR0FBZXdILEVBQVF4TixFQUFhaU0sS0FBSytFLFNBQ3pDaEwsR0FBZXdILEVBQVF0TixFQUFrQitMLEtBQUtpRixhQUM5Q2xMLEdBQWUrSyxFQUFRclEsRUFBb0J1TCxLQUFLbUYsZUFDaERwTCxHQUFlM0gsRUFBVXNDLEVBQW9Cc0wsS0FBS3FGLGVBQ2xEdEwsR0FBZTNILEVBQVV1QyxFQUFrQnFMLEtBQUt1RixhQUNoRHhMLEdBQWUzSCxFQUFVK0IsRUFBZ0I2TCxLQUFLeUYsV0FDOUMxTCxHQUFlNUgsT0FBUXlDLEVBQWNvTCxLQUFLMkYsVUFFdENqTSxFQUFRdkosVUFBWXVKLEVBQVFySixhQUM5QjBKLEdBQWV3SCxFQUFRek0sRUFBYWtMLEtBQUs2RixRQUFTLENBQ2hERSxTQUFTLEVBQ1RDLFNBQVMsSUFJVHRNLEVBQVFuSixrQkFDVndKLEdBQWUrSyxFQUFROVEsRUFBZ0JnTSxLQUFLaUcsY0FLOUNHLEdBQVcsQ0FDYnBCLE1BQU8sU0FBZTVLLEdBQ3BCLElBQUlWLEVBQVVzRyxLQUFLdEcsUUFDZjZKLEVBQVl2RCxLQUFLdUQsVUFDakJ4VyxFQUFTcU4sRUFBTXJOLE9BQ2ZzWixFQUFTck4sR0FBUWpNLEVBQVFpSixJQVk3QixPQVZLcVEsR0FBK0IsUUFBckJ0WixFQUFPdVosV0FBMEQsT0FBbkN2WixFQUFPd1osY0FBY0QsWUFFaEVELEVBQVNyTixHQURUak0sRUFBU0EsRUFBT3daLGNBQ1N2USxLQUl2QjFELEdBQW1COEgsRUFBTW9NLFdBQWF6WixJQUFXaVQsS0FBSzhFLFFBQ3hEMkIsYUFBYXpHLEtBQUswRyxvQkFHWkwsR0FDTixJQUFLLE1BQ0NyRyxLQUFLMkcsT0FDUDNHLEtBQUtoTyxPQUNJMEgsRUFBUWxLLE9BQ2J3USxLQUFLc0IsT0FDUHRCLEtBQUs0RyxPQUVMNUcsS0FBSzZHLE9BR1A3RyxLQUFLN08sT0FHUCxNQUVGLElBQUssT0FDSDZPLEtBQUs3TyxPQUNMLE1BRUYsSUFBSyxPQUNINk8sS0FBSzNPLEtBQUsySCxHQUFRak0sRUFBUSxVQUMxQixNQUVGLElBQUssVUFDSGlULEtBQUtuTyxLQUFLLElBQUssR0FDZixNQUVGLElBQUssV0FDSG1PLEtBQUtuTyxNQUFNLElBQUssR0FDaEIsTUFFRixJQUFLLGFBQ0htTyxLQUFLOEcsU0FDTCxNQUVGLElBQUssUUFDSDlHLEtBQUsrRyxRQUNMLE1BRUYsSUFBSyxPQUNIL0csS0FBS2dILEtBQUt0TixFQUFRN0osTUFDbEIsTUFFRixJQUFLLE9BQ0htUSxLQUFLak8sS0FBSzJILEVBQVFySyxZQUNsQixNQUVGLElBQUssT0FDSDJRLEtBQUt1QyxLQUFLN0ksRUFBUTdKLE1BQ2xCLE1BRUYsSUFBSyxjQUNIbVEsS0FBS3ZPLFFBQVEsSUFDYixNQUVGLElBQUssZUFDSHVPLEtBQUt2TyxPQUFPLElBQ1osTUFFRixJQUFLLGtCQUNIdU8sS0FBS2xFLFFBQVF5SCxFQUFVekgsU0FBVyxHQUNsQyxNQUVGLElBQUssZ0JBQ0hrRSxLQUFLakUsUUFBUXdILEVBQVV4SCxTQUFXLEdBQ2xDLE1BRUYsUUFDTWlFLEtBQUsyRyxRQUNQM0csS0FBS2hPLFNBS2JrVSxTQUFVLFNBQWtCOUwsR0FDMUJBLEVBQU02TSxpQkFFRmpILEtBQUsxTyxRQUFVOEksRUFBTXJOLFNBQVdpVCxLQUFLbkQsUUFFbkN2SyxHQUFtQjhILEVBQU1vTSxXQUMzQkMsYUFBYXpHLEtBQUtrSCx5QkFHcEJsSCxLQUFLOEcsT0FBTzFNLEtBR2hCK00sS0FBTSxXQUNKLElBQUkzRixFQUFReEIsS0FFUkEsS0FBS29ILFVBQ1BYLGFBQWF6RyxLQUFLb0gsU0FDbEJwSCxLQUFLb0gsU0FBVSxHQUdqQixJQUFJMVAsRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUNmbUQsRUFBUW1ELEtBQUtuRCxNQUNiZ0YsRUFBUTdCLEtBQUs2QixNQUNiYixFQUFhaEIsS0FBS2dCLFdBQ3RCdkksR0FBWW9FLEVBQU9wSixHQUVmaUcsRUFBUTlKLFNBQ1Y2SSxHQUFZdUgsS0FBSzhFLE9BQVFwUixHQUczQm1KLEVBQU1qRixNQUFNNEYsUUFBVSxZQUFjLGVBQWUxSyxPQUFPa08sRUFBVzVELE1BQVEsRUFBRyxPQUFTLGNBQWN0SyxPQUFPa08sRUFBVzNELE9BQVMsRUFBRyxPQUEvRyxzREFDdEIyQyxLQUFLOEMsV0FBVSxXQUNibkssR0FBWWtFLEVBQU9sSixFQUFZK0YsRUFBUTFKLFNBQ3ZDMkksR0FBWWtFLEVBQU8vSSxFQUFrQjRGLEVBQVFqSixZQUU3QytRLEVBQU13QyxhQUFZLFdBQ2hCeEMsRUFBTWxRLFFBQVMsRUFDZmtRLEVBQU0yQyxTQUFVLEVBRVpyTixHQUFXNEMsRUFBUXBJLFNBQ3JCZ0osR0FBWTVDLEVBQVNyQyxHQUFjcUUsRUFBUXBJLE9BQVEsQ0FDakRrSSxNQUFNLElBSVZtQixHQUFjakQsRUFBU3JDLEdBQWMsQ0FDbkNnUyxjQUFlN0YsRUFBTUksT0FBT0MsR0FDNUJBLE1BQU9BLEVBQ1BoRixNQUFPQSxHQUNOLENBQ0Q5QixZQUFZLFdBS3BCc0gsVUFBVyxTQUFtQmpJLEdBQzVCLElBQUl5QyxFQUFRekMsRUFBTXJOLE9BQ2RrVSxFQUFTcEUsRUFBTThILFdBQ2YyQyxFQUFjckcsRUFBT0UsYUFBZSxHQUNwQ29HLEVBQWV0RyxFQUFPRyxjQUFnQixHQUN0Q29HLElBQVd4TyxHQUFRNkQsRUFBTyxVQUM5QkQsR0FBcUJDLEVBQU9tRCxLQUFLdEcsU0FBUyxTQUFVc0QsRUFBY0MsR0FDaEUsSUFBSXlHLEVBQWMxRyxFQUFlQyxFQUM3QkcsRUFBUWtLLEVBQ1JqSyxFQUFTa0ssRUFFVEEsRUFBZTdELEVBQWM0RCxFQUMzQkUsRUFDRnBLLEVBQVFtSyxFQUFlN0QsRUFFdkJyRyxFQUFTaUssRUFBYzVELEVBRWhCOEQsRUFDVG5LLEVBQVNpSyxFQUFjNUQsRUFFdkJ0RyxFQUFRbUssRUFBZTdELEVBR3pCak0sR0FBU29GLEVBQU8xRixHQUFPLENBQ3JCaUcsTUFBT0EsRUFDUEMsT0FBUUEsR0FDUHpCLEdBQWMsQ0FDZkksWUFBYXNMLEVBQWNsSyxHQUFTLEVBQ3BDbkIsWUFBYXNMLEVBQWVsSyxHQUFVLFVBSTVDcUksUUFBUyxTQUFpQnRMLEdBQ3hCLElBQUlWLEVBQVVzRyxLQUFLdEcsUUFFbkIsR0FBS0EsRUFBUWhLLFNBQWIsQ0FJQSxJQUFJK1gsRUFBVXJOLEVBQU1xTixTQUFXck4sRUFBTXNOLE9BQVN0TixFQUFNdU4sU0FZcEQsR0FSTyxLQUZDRixHQUdBekgsS0FBS3VCLE9BQU9wSixTQUFTaUMsRUFBTXJOLFNBQzdCaVQsS0FBS2dGLE1BQU01SyxHQU1aNEYsS0FBS3NCLE9BSVYsT0FBUW1HLEdBRU4sS0FBSyxHQUNDekgsS0FBSzJHLE9BQ1AzRyxLQUFLaE8sT0FDSTBILEVBQVFsSyxPQUNid1EsS0FBS3NCLFFBQ1B0QixLQUFLNEcsT0FHUDVHLEtBQUs3TyxPQUdQLE1BR0YsS0FBSyxHQUNDNk8sS0FBSzJHLFFBQ1AzRyxLQUFLaE8sT0FHUCxNQUdGLEtBQUssR0FDSGdPLEtBQUtnSCxLQUFLdE4sRUFBUTdKLE1BQ2xCLE1BR0YsS0FBSyxHQUVIdUssRUFBTTZNLGlCQUVOakgsS0FBS25PLEtBQUs2SCxFQUFROUksV0FBVyxHQUM3QixNQUdGLEtBQUssR0FDSG9QLEtBQUt1QyxLQUFLN0ksRUFBUTdKLE1BQ2xCLE1BR0YsS0FBSyxHQUVIdUssRUFBTTZNLGlCQUVOakgsS0FBS25PLE1BQU02SCxFQUFROUksV0FBVyxHQUM5QixNQUdGLEtBQUssR0FJTCxLQUFLLEdBQ0N3SixFQUFNd04sVUFDUnhOLEVBQU02TSxpQkFDTmpILEtBQUs4RyxhQU1iNUIsVUFBVyxTQUFtQjlLLEdBQ0csUUFBM0JBLEVBQU1yTixPQUFPdVosV0FDZmxNLEVBQU02TSxrQkFHVjdCLFlBQWEsU0FBcUJoTCxHQUNoQyxJQUFJVixFQUFVc0csS0FBS3RHLFFBQ2ZrRSxFQUFXb0MsS0FBS3BDLFNBQ2hCaUssRUFBVXpOLEVBQU15TixRQUNoQjlZLEVBQVNxTCxFQUFNckwsT0FFbkIsTUFBS2lSLEtBQUsxTyxRQUFVME8sS0FBSzhILFNBQVc5SCxLQUFLbUUsU0FBV25FLEtBQUsrSCxTQUN0QyxjQUFmM04sRUFBTUosTUFBdUMsZ0JBQWZJLEVBQU1KLE1BQWdELFVBQXRCSSxFQUFNNE4sZUFDeEUxUixHQUFTdVIsSUFBd0IsSUFBWkEsR0FBaUJ2UixHQUFTdkgsSUFBc0IsSUFBWEEsR0FDdkRxTCxFQUFNd04sVUFIVCxDQVFBeE4sRUFBTTZNLGlCQUVGN00sRUFBTTZOLGVBQ1I3YSxHQUFRZ04sRUFBTTZOLGdCQUFnQixTQUFVQyxHQUN0Q3RLLEVBQVNzSyxFQUFNQyxZQUFjakosR0FBV2dKLE1BRzFDdEssRUFBU3hELEVBQU00RCxXQUFhLEdBQUtrQixHQUFXOUUsR0FHOUMsSUFBSWlNLElBQVMzTSxFQUFRMUosU0FBVTBDLEVBRTNCZ0gsRUFBUXRKLGFBQWVzSixFQUFRdkosVUFBWTlELE9BQU9ELEtBQUt3UixHQUFVMVEsT0FBUyxFQUM1RW1aLEVBQVN6VCxFQUNBOEcsRUFBUXBKLGVBQXVDLFVBQXRCOEosRUFBTTROLGFBQTBDLGVBQWY1TixFQUFNSixPQUEwQmdHLEtBQUtvSSxpQkFDeEcvQixFQUFTMVQsSUFHUCtHLEVBQVFqSixZQUFlNFYsSUFBVzNULEdBQWUyVCxJQUFXelQsR0FDOUQ2RixHQUFZdUgsS0FBS25ELE1BQU8vSSxHQUcxQmtNLEtBQUtxRyxPQUFTQSxJQUVoQmYsWUFBYSxTQUFxQmxMLEdBQ2hDLElBQUl3RCxFQUFXb0MsS0FBS3BDLFNBQ2hCeUksRUFBU3JHLEtBQUtxRyxPQUVickcsS0FBSzFPLFFBQVcrVSxJQUlyQmpNLEVBQU02TSxpQkFFRjdNLEVBQU02TixlQUNSN2EsR0FBUWdOLEVBQU02TixnQkFBZ0IsU0FBVUMsR0FDdEMvUSxHQUFPeUcsRUFBU3NLLEVBQU1DLGFBQWUsR0FBSWpKLEdBQVdnSixHQUFPLE9BRzdEL1EsR0FBT3lHLEVBQVN4RCxFQUFNNEQsV0FBYSxJQUFNLEdBQUlrQixHQUFXOUUsR0FBTyxJQUdqRTRGLEtBQUtxSSxPQUFPak8sS0FFZG9MLFVBQVcsU0FBbUJwTCxHQUM1QixJQUtJMkQsRUFMQWtGLEVBQVNqRCxLQUVUdEcsRUFBVXNHLEtBQUt0RyxRQUNmMk0sRUFBU3JHLEtBQUtxRyxPQUNkekksRUFBV29DLEtBQUtwQyxTQUdoQnhELEVBQU02TixlQUNSN2EsR0FBUWdOLEVBQU02TixnQkFBZ0IsU0FBVUMsR0FDdENuSyxFQUFVSCxFQUFTc0ssRUFBTUMsbUJBQ2xCdkssRUFBU3NLLEVBQU1DLGdCQUd4QnBLLEVBQVVILEVBQVN4RCxFQUFNNEQsV0FBYSxVQUMvQkosRUFBU3hELEVBQU00RCxXQUFhLElBR2hDcUksSUFJTGpNLEVBQU02TSxrQkFFRnZOLEVBQVFqSixZQUFlNFYsSUFBVzNULEdBQWUyVCxJQUFXelQsR0FDOUR5RixHQUFTMkgsS0FBS25ELE1BQU8vSSxHQUd2QmtNLEtBQUtxRyxRQUFTLEVBRVYvVCxHQUFtQitULElBQVd6VCxHQUFlbUwsR0FBVzBCLEtBQUtDLE1BQVEzQixFQUFReUIsVUFBWSxNQUMzRmlILGFBQWF6RyxLQUFLMEcsb0JBQ2xCRCxhQUFhekcsS0FBS2tILHlCQUVkeE4sRUFBUW5KLGtCQUFvQnlQLEtBQUsxTyxRQUFVOEksRUFBTXJOLFNBQVdpVCxLQUFLbkQsTUFDL0RtRCxLQUFLc0ksY0FDUHRJLEtBQUtzSSxjQUFlLEVBRXBCdEksS0FBS2tILHdCQUEwQnFCLFlBQVcsV0FDeEM1TixHQUFjc0ksRUFBT3BHLE1BQU83SSxLQUMzQixNQUVIZ00sS0FBS3NJLGNBQWUsRUFFcEJ0SSxLQUFLa0gsd0JBQTBCcUIsWUFBVyxXQUN4Q3RGLEVBQU9xRixjQUFlLElBQ3JCLE9BR0x0SSxLQUFLc0ksY0FBZSxFQUVoQjVPLEVBQVE1SyxVQUFpQyxXQUFyQjRLLEVBQVE1SyxVQUF5QnNMLEVBQU1yTixTQUFXaVQsS0FBSzhFLFNBRTdFOUUsS0FBSzBHLG1CQUFxQjZCLFlBQVcsV0FDbkM1TixHQUFjc0ksRUFBTzZCLE9BQVEvUSxLQUM1QixTQUtYNlIsT0FBUSxXQUNOLElBQUkzQixFQUFTakUsS0FFYixHQUFLQSxLQUFLd0ksVUFBV3hJLEtBQUsrSCxTQUl0Qi9ILEtBQUtzQixTQUNQdEIsS0FBS3lJLFFBQ0x6SSxLQUFLSyxXQUNMTCxLQUFLMEksUUFHUDFJLEtBQUtDLGdCQUNMRCxLQUFLRSxhQUNMRixLQUFLSSxlQUNMSixLQUFLc0MsYUFFRHRDLEtBQUsxTyxRQUNQME8sS0FBSzhDLFdBQVUsV0FDYm1CLEVBQU9ELGlCQUlQaEUsS0FBSzJHLFFBQVEsQ0FDZixHQUFJM0csS0FBS3RHLFFBQVFySyxZQUFjMlEsS0FBS3NCLFVBQVlsUCxTQUFTdVcsbUJBQXFCdlcsU0FBU3dXLHlCQUEyQnhXLFNBQVN5VyxzQkFBd0J6VyxTQUFTMFcscUJBRTFKLFlBREE5SSxLQUFLaE8sT0FJUDVFLEdBQVE0UyxLQUFLK0ksT0FBT0MscUJBQXFCLFFBQVEsU0FBVW5NLEdBQ3pEdkMsR0FBWXVDLEVBQU96SSxFQUFZNlAsRUFBTzVCLFVBQVV3QyxLQUFLWixHQUFTLENBQzVEekssTUFBTSxJQUVSbUIsR0FBY2tDLEVBQU96SSxRQUkzQjBSLE1BQU8sU0FBZTFMLEdBQ3BCLElBQUk2TyxFQUFTakosS0FFYixHQUFLQSxLQUFLMU8sU0FJVjhJLEVBQU02TSxrQkFFRmpILEtBQUtrSixVQUFULENBSUFsSixLQUFLa0osVUFBVyxFQUNoQlgsWUFBVyxXQUNUVSxFQUFPQyxVQUFXLElBQ2pCLElBQ0gsSUFBSXBLLEVBQVF6SSxPQUFPMkosS0FBS3RHLFFBQVE5SSxZQUFjLEdBQzFDdVksRUFBUSxFQUVSL08sRUFBTWdQLE9BQ1JELEVBQVEvTyxFQUFNZ1AsT0FBUyxFQUFJLEdBQUssRUFDdkJoUCxFQUFNaVAsV0FDZkYsR0FBUy9PLEVBQU1pUCxXQUFhLElBQ25CalAsRUFBTVksU0FDZm1PLEVBQVEvTyxFQUFNWSxPQUFTLEVBQUksR0FBSyxHQUdsQ2dGLEtBQUtuTyxNQUFNc1gsRUFBUXJLLEdBQU8sRUFBTTFFLE1BSWhDa1AsR0FBVSxDQUtaclksS0FBTSxXQUNKLElBQUlzWSxFQUFZdGMsVUFBVUMsT0FBUyxRQUFzQitNLElBQWpCaE4sVUFBVSxJQUFtQkEsVUFBVSxHQUMzRXlLLEVBQVVzSSxLQUFLdEksUUFDZmdDLEVBQVVzRyxLQUFLdEcsUUFFbkIsR0FBSUEsRUFBUWxLLFFBQVV3USxLQUFLOEgsU0FBVzlILEtBQUt3SSxTQUFXeEksS0FBSzhILFFBQ3pELE9BQU85SCxLQUdULElBQUtBLEtBQUtoUCxNQU9SLE9BTkFnUCxLQUFLd0osUUFFRHhKLEtBQUtoUCxPQUNQZ1AsS0FBSy9PLEtBQUtzWSxHQUdMdkosS0FTVCxHQU5JbEosR0FBVzRDLEVBQVF6SSxPQUNyQnFKLEdBQVk1QyxFQUFTMUMsRUFBWTBFLEVBQVF6SSxLQUFNLENBQzdDdUksTUFBTSxLQUlpQyxJQUF2Q21CLEdBQWNqRCxFQUFTMUMsS0FBMEJnTCxLQUFLaFAsTUFDeEQsT0FBT2dQLEtBR0xBLEtBQUsrSCxRQUNQL0gsS0FBS3lKLGNBQWNoRyxRQUdyQnpELEtBQUs4SCxTQUFVLEVBQ2Y5SCxLQUFLMEksT0FDTCxJQUFJbkgsRUFBU3ZCLEtBQUt1QixPQU9sQixHQU5BOUksR0FBWThJLEVBQVFuTyxHQUNwQm1PLEVBQU9sSSxhQUFhLE9BQVEsVUFDNUJrSSxFQUFPbEksYUFBYSxrQkFBbUIyRyxLQUFLL1EsTUFBTTZRLElBQ2xEeUIsRUFBT2xJLGFBQWEsY0FBYyxHQUNsQ2tJLEVBQU9tSSxnQkFBZ0IsZUFFbkJoUSxFQUFRakosYUFBZThZLEVBQVcsQ0FDcEMsSUFBSXJZLEVBQVE4TyxLQUFLOU8sTUFBTTJULEtBQUs3RSxNQUM1QkEsS0FBS3lKLGNBQWdCLENBQ25CaEcsTUFBTyxXQUNMMUosR0FBZXdILEVBQVExTSxFQUFzQjNELEdBQzdDdUgsR0FBWThJLEVBQVEvTixLQUd4QjZFLEdBQVNrSixFQUFRek4sR0FFakJ5TixFQUFPb0ksbUJBQXFCcEksRUFBT0osWUFDbkM3RyxHQUFZaUgsRUFBUTFNLEVBQXNCM0QsRUFBTyxDQUMvQ3NJLE1BQU0sSUFFUm5CLEdBQVNrSixFQUFRL04sUUFFakI2RSxHQUFTa0osRUFBUS9OLEdBQ2pCd00sS0FBSzlPLFFBR1AsT0FBTzhPLE1BUVQ3TyxLQUFNLFdBQ0osSUFBSXFRLEVBQVF4QixLQUVSdUosRUFBWXRjLFVBQVVDLE9BQVMsUUFBc0IrTSxJQUFqQmhOLFVBQVUsSUFBbUJBLFVBQVUsR0FDM0V5SyxFQUFVc0ksS0FBS3RJLFFBQ2ZnQyxFQUFVc0csS0FBS3RHLFFBRW5CLEdBQUlBLEVBQVFsSyxRQUFVd1EsS0FBSytILFNBQVkvSCxLQUFLd0ksVUFBV3hJLEtBQUs4SCxRQUMxRCxPQUFPOUgsS0FTVCxHQU5JbEosR0FBVzRDLEVBQVF2SSxPQUNyQm1KLEdBQVk1QyxFQUFTeEMsRUFBWXdFLEVBQVF2SSxLQUFNLENBQzdDcUksTUFBTSxLQUlpQyxJQUF2Q21CLEdBQWNqRCxFQUFTeEMsR0FDekIsT0FBTzhLLEtBR0xBLEtBQUs4SCxTQUNQOUgsS0FBS3lKLGNBQWNoRyxRQUdyQnpELEtBQUsrSCxRQUFTLEVBRVYvSCxLQUFLMkcsT0FDUDNHLEtBQUtoTyxPQUNJZ08sS0FBS21FLFNBQ2RuRSxLQUFLbUUsUUFBUVYsUUFHZixJQUFJbEMsRUFBU3ZCLEtBQUt1QixPQUNkMUUsRUFBUW1ELEtBQUtuRCxNQUViK00sRUFBa0IsV0FDcEJuUixHQUFZOEksRUFBUS9OLEdBRXBCZ08sRUFBTXBRLFVBR1IsR0FBSXNJLEVBQVFqSixhQUFlOFksRUFBVyxDQUNwQyxJQUFJTSxFQUF3QixTQUFTQSxFQUFzQnpQLEdBRXJEQSxHQUFTQSxFQUFNck4sU0FBV3dVLElBQzVCeEgsR0FBZXdILEVBQVExTSxFQUFzQmdWLEdBRTdDckksRUFBTXBRLFdBSU4wWSxFQUF1QixXQUVyQjdSLEdBQVNzSixFQUFRek4sSUFDbkJ3RyxHQUFZaUgsRUFBUTFNLEVBQXNCZ1YsR0FDMUNwUixHQUFZOEksRUFBUS9OLElBRXBCb1csS0FJSjVKLEtBQUt5SixjQUFnQixDQUNuQmhHLE1BQU8sV0FDRGpDLEVBQU1sUSxRQUFVMkcsR0FBUzRFLEVBQU8vSSxHQUNsQ2lHLEdBQWU4QyxFQUFPaEksRUFBc0JpVixHQUNuQzdSLEdBQVNzSixFQUFRek4sSUFDMUJpRyxHQUFld0gsRUFBUTFNLEVBQXNCZ1YsS0FNL0M3SixLQUFLMU8sUUFBVTJHLEdBQVM0RSxFQUFPL0ksSUFDakN3RyxHQUFZdUMsRUFBT2hJLEVBQXNCaVYsRUFBc0IsQ0FDN0R0USxNQUFNLElBRVJ3RyxLQUFLK0osT0FBTyxHQUFHLEVBQU8sTUFBTSxJQUU1QkQsU0FHRkYsSUFHRixPQUFPNUosTUFRVDNPLEtBQU0sV0FDSixJQUFJNFIsRUFBU2pELEtBRVQ2QixFQUFRNVUsVUFBVUMsT0FBUyxRQUFzQitNLElBQWpCaE4sVUFBVSxHQUFtQkEsVUFBVSxHQUFLK1MsS0FBS3RHLFFBQVFuSyxpQkFHN0YsR0FGQXNTLEVBQVF4TCxPQUFPd0wsSUFBVSxFQUVyQjdCLEtBQUsrSCxRQUFVL0gsS0FBSzJHLFFBQVU5RSxFQUFRLEdBQUtBLEdBQVM3QixLQUFLOVMsUUFBVThTLEtBQUsxTyxRQUFVdVEsSUFBVTdCLEtBQUs2QixNQUNuRyxPQUFPN0IsS0FHVCxJQUFLQSxLQUFLd0ksUUFFUixPQURBeEksS0FBSzZCLE1BQVFBLEVBQ043QixLQUFLL08sT0FHVitPLEtBQUttRSxTQUNQbkUsS0FBS21FLFFBQVFWLFFBR2YsSUFBSS9MLEVBQVVzSSxLQUFLdEksUUFDZmdDLEVBQVVzRyxLQUFLdEcsUUFDZnpLLEVBQVErUSxLQUFLL1EsTUFDYjZWLEVBQVM5RSxLQUFLOEUsT0FDZDlDLEVBQU9oQyxLQUFLMEIsTUFBTUcsR0FDbEJJLEVBQU1ELEVBQUtnSSxjQUFjLE9BQ3pCalosRUFBTWlJLEdBQVFpSixFQUFLLGVBQ25CSCxFQUFNRyxFQUFJOUksYUFBYSxPQUN2QjBELEVBQVF6SyxTQUFTMkssY0FBYyxPQWlCbkMsR0FoQkEzUCxHQUFRc00sRUFBUXBLLHFCQUFxQixTQUFVMkosR0FDN0MsSUFBSXJLLEVBQVFxVCxFQUFJOUksYUFBYUYsR0FFZixPQUFWckssR0FDRmlPLEVBQU14RCxhQUFhSixFQUFNckssTUFHN0JpTyxFQUFNVSxJQUFNeE0sRUFDWjhMLEVBQU1pRixJQUFNQSxFQUVSaEwsR0FBVzRDLEVBQVFySSxPQUNyQmlKLEdBQVk1QyxFQUFTdEMsR0FBWXNFLEVBQVFySSxLQUFNLENBQzdDbUksTUFBTSxLQVFILElBSkhtQixHQUFjakQsRUFBU3RDLEdBQVksQ0FDckNpUyxjQUFlckgsS0FBSzRCLE9BQU9DLEdBQzNCQSxNQUFPQSxFQUNQaEYsTUFBT0EsTUFDUW1ELEtBQUt3SSxTQUFXeEksS0FBSytILFFBQVUvSCxLQUFLMkcsT0FDbkQsT0FBTzNHLEtBR1QsSUFBSWlLLEVBQWFqSyxLQUFLMEIsTUFBTTFCLEtBQUs2QixPQUU3Qm9JLElBQ0Z4UixHQUFZd1IsRUFBWXBYLEdBQ3hCb1gsRUFBV1AsZ0JBQWdCLGtCQUc3QnJSLEdBQVMySixFQUFNblAsR0FDZm1QLEVBQUszSSxhQUFhLGlCQUFpQixHQUUvQkssRUFBUS9KLE9BQ1ZxUyxFQUFLclMsUUFHUHFRLEtBQUtuRCxNQUFRQSxFQUNibUQsS0FBSzFPLFFBQVMsRUFDZDBPLEtBQUs2QixNQUFRQSxFQUNiN0IsS0FBS3VELFVBQVksR0FDakJsTCxHQUFTd0UsRUFBT3BKLEdBRVppRyxFQUFROUosU0FDVnlJLEdBQVN5TSxFQUFRcFIsR0FHbkJvUixFQUFPbkQsVUFBWSxHQUNuQm1ELEVBQU9ySCxZQUFZWixHQUVuQm1ELEtBQUtzQyxhQUVMclQsRUFBTTBTLFVBQVksR0FFbEIsSUFNSU8sRUFDQUMsRUFQQStILEVBQVcsV0FDYixJQUFJM0csRUFBWU4sRUFBT00sVUFDbkJ4RCxFQUFTOUksTUFBTUMsUUFBUXdDLEVBQVF6SyxPQUFTeUssRUFBUXpLLE1BQU0sR0FBS3lLLEVBQVF6SyxNQUN2RUEsRUFBTTBTLFVBQVk1SixHQUFtQmpCLEdBQVdpSixHQUFVQSxFQUFPbkosS0FBS3FNLEVBQVFwRyxFQUFPMEcsR0FBYSxHQUFHelEsT0FBT2dQLEVBQUssTUFBTWhQLE9BQU95USxFQUFVdkcsYUFBYyxPQUFVbEssT0FBT3lRLEVBQVV0RyxjQUFlLE9Bb0VsTSxPQS9EQTNDLEdBQVk1QyxFQUFTckMsR0FBYzZVLEVBQVUsQ0FDM0MxUSxNQUFNLElBRVJ3RyxLQUFLbUUsUUFBVSxDQUNiVixNQUFPLFdBQ0wxSixHQUFlckMsRUFBU3JDLEdBQWM2VSxHQUVsQ3JOLEVBQU1zTixTQUNKbEgsRUFBT3dCLGVBQ1R4QixFQUFPd0IsZUFBZWhCLFFBQ2JSLEVBQU9PLG1CQUNoQlAsRUFBT08sa0JBQWtCQyxTQUkzQjVHLEVBQU1VLElBQU0sR0FDWnhELEdBQWU4QyxFQUFPekksRUFBWThOLEdBRTlCZSxFQUFPbUUsU0FDVFgsYUFBYXhELEVBQU9tRSxZQU14QnZLLEVBQU1zTixTQUNSbkssS0FBS21ILFFBRUw3TSxHQUFZdUMsRUFBT3pJLEVBQVk4TixFQUFTLFdBQ3RDbkksR0FBZThDLEVBQU94SSxFQUFhOE4sR0FFbkNjLEVBQU9rRSxRQUNOLENBQ0QzTixNQUFNLElBRVJjLEdBQVl1QyxFQUFPeEksRUFBYThOLEVBQVUsV0FDeENwSSxHQUFlOEMsRUFBT3pJLEVBQVk4TixHQUU5QmUsRUFBT21FLFVBQ1RYLGFBQWF4RCxFQUFPbUUsU0FDcEJuRSxFQUFPbUUsU0FBVSxHQUduQjNPLEdBQVlvRSxFQUFPcEosR0FFZmlHLEVBQVE5SixTQUNWNkksR0FBWXdLLEVBQU82QixPQUFRcFIsSUFFNUIsQ0FDRDhGLE1BQU0sSUFHSndHLEtBQUtvSCxTQUNQWCxhQUFhekcsS0FBS29ILFNBSXBCcEgsS0FBS29ILFFBQVVtQixZQUFXLFdBQ3hCOVAsR0FBWW9FLEVBQU9wSixHQUNuQndQLEVBQU9tRSxTQUFVLElBQ2hCLE1BR0VwSCxNQVNUZ0gsS0FBTSxXQUNKLElBQUluWCxFQUFPNUMsVUFBVUMsT0FBUyxRQUFzQitNLElBQWpCaE4sVUFBVSxJQUFtQkEsVUFBVSxHQUN0RTRVLEVBQVE3QixLQUFLNkIsTUFBUSxFQU96QixPQUxJQSxFQUFRLElBQ1ZBLEVBQVFoUyxFQUFPbVEsS0FBSzlTLE9BQVMsRUFBSSxHQUduQzhTLEtBQUszTyxLQUFLd1EsR0FDSDdCLE1BU1R1QyxLQUFNLFdBQ0osSUFBSTFTLEVBQU81QyxVQUFVQyxPQUFTLFFBQXNCK00sSUFBakJoTixVQUFVLElBQW1CQSxVQUFVLEdBQ3RFbWQsRUFBV3BLLEtBQUs5UyxPQUFTLEVBQ3pCMlUsRUFBUTdCLEtBQUs2QixNQUFRLEVBT3pCLE9BTElBLEVBQVF1SSxJQUNWdkksRUFBUWhTLEVBQU8sRUFBSXVhLEdBR3JCcEssS0FBSzNPLEtBQUt3USxHQUNIN0IsTUFTVHpPLEtBQU0sU0FBY3FTLEdBQ2xCLElBQUlDLEVBQUk1VyxVQUFVQyxPQUFTLFFBQXNCK00sSUFBakJoTixVQUFVLEdBQW1CQSxVQUFVLEdBQUsyVyxFQUN4RUwsRUFBWXZELEtBQUt1RCxVQUVyQixPQURBdkQsS0FBS3FLLE9BQU85VCxHQUFZcU4sR0FBS0EsRUFBSUwsRUFBVUssRUFBSXZOLE9BQU91TixHQUFJck4sR0FBWXNOLEdBQUtBLEVBQUlOLEVBQVVNLEVBQUl4TixPQUFPd04sSUFDN0Y3RCxNQVVUcUssT0FBUSxTQUFnQnpHLEdBQ3RCLElBQUlLLEVBQVNqRSxLQUVUNkQsRUFBSTVXLFVBQVVDLE9BQVMsUUFBc0IrTSxJQUFqQmhOLFVBQVUsR0FBbUJBLFVBQVUsR0FBSzJXLEVBRXhFMEcsRUFBaUJyZCxVQUFVQyxPQUFTLFFBQXNCK00sSUFBakJoTixVQUFVLEdBQW1CQSxVQUFVLEdBQUssS0FFckZ5SyxFQUFVc0ksS0FBS3RJLFFBQ2ZnQyxFQUFVc0csS0FBS3RHLFFBQ2Y2SixFQUFZdkQsS0FBS3VELFVBSXJCLEdBSEFLLEVBQUl2TixPQUFPdU4sR0FDWEMsRUFBSXhOLE9BQU93TixHQUVQN0QsS0FBSzFPLFNBQVcwTyxLQUFLMkcsUUFBVWpOLEVBQVExSixRQUFTLENBQ2xELElBQUl1YSxFQUFPaEgsRUFBVUssRUFDakI0RyxFQUFPakgsRUFBVU0sRUFDakI0RyxHQUFVLEVBY2QsR0FaSW5VLEdBQVNzTixHQUNYNkcsR0FBVSxFQUVWN0csRUFBSTJHLEVBR0ZqVSxHQUFTdU4sR0FDWDRHLEdBQVUsRUFFVjVHLEVBQUkyRyxFQUdGQyxFQUFTLENBT1gsR0FOSTNULEdBQVc0QyxFQUFRbkksT0FDckIrSSxHQUFZNUMsRUFBU3BDLEdBQVlvRSxFQUFRbkksS0FBTSxDQUM3Q2lJLE1BQU0sS0FVSCxJQU5IbUIsR0FBY2pELEVBQVNwQyxHQUFZLENBQ3JDc08sRUFBR0EsRUFDSEMsRUFBR0EsRUFDSDBHLEtBQU1BLEVBQ05DLEtBQU1BLEVBQ05FLGNBQWVKLElBRWYsT0FBT3RLLEtBR1R1RCxFQUFVSyxFQUFJQSxFQUNkTCxFQUFVTSxFQUFJQSxFQUNkTixFQUFVakksS0FBT3NJLEVBQ2pCTCxFQUFVOUgsSUFBTW9JLEVBQ2hCN0QsS0FBS29FLFFBQVMsRUFDZHBFLEtBQUtnRSxhQUFZLFdBQ2ZDLEVBQU9HLFFBQVMsRUFFWnROLEdBQVc0QyxFQUFRbEksUUFDckI4SSxHQUFZNUMsRUFBU25DLEdBQWFtRSxFQUFRbEksTUFBTyxDQUMvQ2dJLE1BQU0sSUFJVm1CLEdBQWNqRCxFQUFTbkMsR0FBYSxDQUNsQ3FPLEVBQUdBLEVBQ0hDLEVBQUdBLEVBQ0gwRyxLQUFNQSxFQUNOQyxLQUFNQSxFQUNORSxjQUFlSixHQUNkLENBQ0R2UCxZQUFZLFFBTXBCLE9BQU9pRixNQVFUdk8sT0FBUSxTQUFnQmtaLEdBRXRCLE9BREEzSyxLQUFLNEssVUFBVTVLLEtBQUt1RCxVQUFVOVIsUUFBVSxHQUFLNEUsT0FBT3NVLElBQzdDM0ssTUFRVDRLLFNBQVUsU0FBa0JELEdBQzFCLElBQUkxQixFQUFTakosS0FFVHRJLEVBQVVzSSxLQUFLdEksUUFDZmdDLEVBQVVzRyxLQUFLdEcsUUFDZjZKLEVBQVl2RCxLQUFLdUQsVUFHckIsR0FBSWpOLEdBRkpxVSxFQUFTdFUsT0FBT3NVLEtBRVEzSyxLQUFLMU8sU0FBVzBPLEtBQUsyRyxRQUFVak4sRUFBUXpKLFVBQVcsQ0FDeEUsSUFBSTRhLEVBQVl0SCxFQUFVOVIsT0FRMUIsR0FOSXFGLEdBQVc0QyxFQUFRakksU0FDckI2SSxHQUFZNUMsRUFBU2xDLEdBQWNrRSxFQUFRakksT0FBUSxDQUNqRCtILE1BQU0sS0FPSCxJQUhIbUIsR0FBY2pELEVBQVNsQyxHQUFjLENBQ3ZDbVYsT0FBUUEsRUFDUkUsVUFBV0EsSUFFWCxPQUFPN0ssS0FHVHVELEVBQVU5UixPQUFTa1osRUFDbkIzSyxLQUFLcUUsVUFBVyxFQUNoQnJFLEtBQUtnRSxhQUFZLFdBQ2ZpRixFQUFPNUUsVUFBVyxFQUVkdk4sR0FBVzRDLEVBQVFoSSxVQUNyQjRJLEdBQVk1QyxFQUFTakMsR0FBZWlFLEVBQVFoSSxRQUFTLENBQ25EOEgsTUFBTSxJQUlWbUIsR0FBY2pELEVBQVNqQyxHQUFlLENBQ3BDa1YsT0FBUUEsRUFDUkUsVUFBV0EsR0FDVixDQUNEOVAsWUFBWSxPQUtsQixPQUFPaUYsTUFRVGxFLE9BQVEsU0FBZ0JnUCxHQUV0QixPQURBOUssS0FBS3JPLE1BQU1tWixFQUFTOUssS0FBS3VELFVBQVV4SCxRQUM1QmlFLE1BUVRqRSxPQUFRLFNBQWdCZ1AsR0FFdEIsT0FEQS9LLEtBQUtyTyxNQUFNcU8sS0FBS3VELFVBQVV6SCxPQUFRaVAsR0FDM0IvSyxNQVNUck8sTUFBTyxTQUFlbUssR0FDcEIsSUFBSWtQLEVBQVNoTCxLQUVUakUsRUFBUzlPLFVBQVVDLE9BQVMsUUFBc0IrTSxJQUFqQmhOLFVBQVUsR0FBbUJBLFVBQVUsR0FBSzZPLEVBQzdFcEUsRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUNmNkosRUFBWXZELEtBQUt1RCxVQUlyQixHQUhBekgsRUFBU3pGLE9BQU95RixHQUNoQkMsRUFBUzFGLE9BQU8wRixHQUVaaUUsS0FBSzFPLFNBQVcwTyxLQUFLMkcsUUFBVWpOLEVBQVF4SixTQUFVLENBQ25ELElBQUkrYSxFQUFZMUgsRUFBVXpILE9BQ3RCb1AsRUFBWTNILEVBQVV4SCxPQUN0QjBPLEdBQVUsRUFjZCxHQVpJblUsR0FBU3dGLEdBQ1gyTyxHQUFVLEVBRVYzTyxFQUFTbVAsRUFHUDNVLEdBQVN5RixHQUNYME8sR0FBVSxFQUVWMU8sRUFBU21QLEVBR1BULEVBQVMsQ0FPWCxHQU5JM1QsR0FBVzRDLEVBQVEvSCxRQUNyQjJJLEdBQVk1QyxFQUFTaEMsR0FBYWdFLEVBQVEvSCxNQUFPLENBQy9DNkgsTUFBTSxLQVNILElBTEhtQixHQUFjakQsRUFBU2hDLEdBQWEsQ0FDdENvRyxPQUFRQSxFQUNSQyxPQUFRQSxFQUNSa1AsVUFBV0EsRUFDWEMsVUFBV0EsSUFFWCxPQUFPbEwsS0FHVHVELEVBQVV6SCxPQUFTQSxFQUNuQnlILEVBQVV4SCxPQUFTQSxFQUNuQmlFLEtBQUtzRSxTQUFVLEVBQ2Z0RSxLQUFLZ0UsYUFBWSxXQUNmZ0gsRUFBTzFHLFNBQVUsRUFFYnhOLEdBQVc0QyxFQUFROUgsU0FDckIwSSxHQUFZNUMsRUFBUy9CLEdBQWMrRCxFQUFROUgsT0FBUSxDQUNqRDRILE1BQU0sSUFJVm1CLEdBQWNqRCxFQUFTL0IsR0FBYyxDQUNuQ21HLE9BQVFBLEVBQ1JDLE9BQVFBLEVBQ1JrUCxVQUFXQSxFQUNYQyxVQUFXQSxHQUNWLENBQ0RuUSxZQUFZLFFBTXBCLE9BQU9pRixNQVVUbk8sS0FBTSxTQUFjaU4sR0FDbEIsSUFBSXFNLEVBQWFsZSxVQUFVQyxPQUFTLFFBQXNCK00sSUFBakJoTixVQUFVLElBQW1CQSxVQUFVLEdBRTVFcWQsRUFBaUJyZCxVQUFVQyxPQUFTLFFBQXNCK00sSUFBakJoTixVQUFVLEdBQW1CQSxVQUFVLEdBQUssS0FFckZzVyxFQUFZdkQsS0FBS3VELFVBVXJCLE9BTkV6RSxHQUhGQSxFQUFRekksT0FBT3lJLElBRUgsRUFDRixHQUFLLEVBQUlBLEdBRVQsRUFBSUEsRUFHZGtCLEtBQUsrSixPQUFPeEcsRUFBVW5HLE1BQVEwQixFQUFReUUsRUFBVXZHLGFBQWNtTyxFQUFZYixHQUNuRXRLLE1BV1QrSixPQUFRLFNBQWdCakwsR0FDdEIsSUFBSXNNLEVBQVNwTCxLQUVUbUwsRUFBYWxlLFVBQVVDLE9BQVMsUUFBc0IrTSxJQUFqQmhOLFVBQVUsSUFBbUJBLFVBQVUsR0FFNUVxZCxFQUFpQnJkLFVBQVVDLE9BQVMsUUFBc0IrTSxJQUFqQmhOLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxLQUVyRm9lLEVBQVlwZSxVQUFVQyxPQUFTLFFBQXNCK00sSUFBakJoTixVQUFVLElBQW1CQSxVQUFVLEdBRTNFeUssRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUNma0UsRUFBV29DLEtBQUtwQyxTQUNoQjJGLEVBQVl2RCxLQUFLdUQsVUFDakJLLEVBQUlMLEVBQVVLLEVBQ2RDLEVBQUlOLEVBQVVNLEVBQ2R6RyxFQUFRbUcsRUFBVW5HLE1BQ2xCQyxFQUFTa0csRUFBVWxHLE9BQ25CTCxFQUFldUcsRUFBVXZHLGFBQ3pCQyxFQUFnQnNHLEVBQVV0RyxjQUc5QixHQUFJM0csR0FGSndJLEVBQVFYLEtBQUsrQyxJQUFJLEVBQUdwQyxLQUVHa0IsS0FBSzFPLFNBQVcwTyxLQUFLMkcsU0FBVzBFLEdBQWEzUixFQUFRdkosVUFBVyxDQUNyRixJQUFLa2IsRUFBVyxDQUNkLElBQUl4YSxFQUFlc04sS0FBSytDLElBQUksSUFBTXhILEVBQVE3SSxjQUN0Q0MsRUFBZXFOLEtBQUt3RixJQUFJLElBQUtqSyxFQUFRNUksY0FDekNnTyxFQUFRWCxLQUFLd0YsSUFBSXhGLEtBQUsrQyxJQUFJcEMsRUFBT2pPLEdBQWVDLEdBRzlDd1osR0FBa0I1USxFQUFROUksV0FBYSxNQUFTa08sRUFBUSxLQUFRQSxFQUFRLE9BQzFFQSxFQUFRLEdBR1YsSUFBSXdNLEVBQVd0TyxFQUFlOEIsRUFDMUJ5TSxFQUFZdE8sRUFBZ0I2QixFQUM1QnFDLEVBQWNtSyxFQUFXbE8sRUFDekJnRSxFQUFlbUssRUFBWWxPLEVBQzNCeUcsRUFBV1AsRUFBVXpFLE1BUXpCLEdBTkloSSxHQUFXNEMsRUFBUTdILE9BQ3JCeUksR0FBWTVDLEVBQVM5QixHQUFZOEQsRUFBUTdILEtBQU0sQ0FDN0MySCxNQUFNLEtBUUgsSUFKSG1CLEdBQWNqRCxFQUFTOUIsR0FBWSxDQUNyQ2tKLE1BQU9BLEVBQ1BnRixTQUFVQSxFQUNWNEcsY0FBZUosSUFFZixPQUFPdEssS0FLVCxHQUZBQSxLQUFLdUUsU0FBVSxFQUVYK0YsRUFBZ0IsQ0FDbEIsSUFBSWtCLEVBQVNyUSxHQUFVNkUsS0FBS3VCLFFBQ3hCa0ssRUFBUzdOLEdBQVl2UixPQUFPRCxLQUFLd1IsR0FBVTFRLE9BQVN5UyxHQUFrQi9CLEdBQVksQ0FDcEZ5QixNQUFPaUwsRUFBZWpMLE1BQ3RCQyxNQUFPZ0wsRUFBZWhMLE9BR3hCaUUsRUFBVUssR0FBS3pDLElBQWdCc0ssRUFBT3BNLE1BQVFtTSxFQUFPbFEsS0FBT3NJLEdBQUt4RyxHQUNqRW1HLEVBQVVNLEdBQUt6QyxJQUFpQnFLLEVBQU9uTSxNQUFRa00sRUFBTy9QLElBQU1vSSxHQUFLeEcsUUFHakVrRyxFQUFVSyxHQUFLekMsRUFBYyxFQUM3Qm9DLEVBQVVNLEdBQUt6QyxFQUFlLEVBR2hDbUMsRUFBVWpJLEtBQU9pSSxFQUFVSyxFQUMzQkwsRUFBVTlILElBQU04SCxFQUFVTSxFQUMxQk4sRUFBVW5HLE1BQVFrTyxFQUNsQi9ILEVBQVVsRyxPQUFTa08sRUFDbkJoSSxFQUFVTyxTQUFXQSxFQUNyQlAsRUFBVXpFLE1BQVFBLEVBQ2xCa0IsS0FBS2dFLGFBQVksV0FDZm9ILEVBQU83RyxTQUFVLEVBRWJ6TixHQUFXNEMsRUFBUTVILFNBQ3JCd0ksR0FBWTVDLEVBQVM3QixHQUFjNkQsRUFBUTVILE9BQVEsQ0FDakQwSCxNQUFNLElBSVZtQixHQUFjakQsRUFBUzdCLEdBQWMsQ0FDbkNpSixNQUFPQSxFQUNQZ0YsU0FBVUEsRUFDVjRHLGNBQWVKLEdBQ2QsQ0FDRHZQLFlBQVksT0FJWm9RLEdBQ0ZuTCxLQUFLeFAsVUFJVCxPQUFPd1AsTUFRVGpPLEtBQU0sV0FDSixJQUFJMlosRUFBUzFMLEtBRVQzUSxFQUFhcEMsVUFBVUMsT0FBUyxRQUFzQitNLElBQWpCaE4sVUFBVSxJQUFtQkEsVUFBVSxHQUVoRixJQUFLK1MsS0FBS3dJLFNBQVd4SSxLQUFLMkcsT0FDeEIsT0FBTzNHLEtBR1QsSUFBSXRJLEVBQVVzSSxLQUFLdEksUUFDZmdDLEVBQVVzRyxLQUFLdEcsUUFRbkIsR0FOSTVDLEdBQVc0QyxFQUFRM0gsT0FDckJ1SSxHQUFZNUMsRUFBUzVCLEdBQVk0RCxFQUFRM0gsS0FBTSxDQUM3Q3lILE1BQU0sS0FJaUMsSUFBdkNtQixHQUFjakQsRUFBUzVCLElBQ3pCLE9BQU9rSyxLQUdULElBQUkrSSxFQUFTL0ksS0FBSytJLE9BQ2Q3RyxFQUFTbEMsS0FBS3FDLFVBQVV3QyxLQUFLN0UsTUFDN0J5QixFQUFPLEdBQ1BrSyxFQUFRLEVBQ1I5SixFQUFRLEVBK0JaLEdBOUJBN0IsS0FBSzJHLFFBQVMsRUFDZDNHLEtBQUs0TCxlQUFpQjFKLEVBRWxCN1MsR0FDRjJRLEtBQUs2TCxrQkFBa0J4YyxHQUd6QmdKLEdBQVMwUSxFQUFRbFYsR0FDakJ6RyxHQUFRNFMsS0FBSzBCLE9BQU8sU0FBVU0sRUFBTWhWLEdBQ2xDLElBQUlpVixFQUFNRCxFQUFLZ0ksY0FBYyxPQUN6Qm5OLEVBQVF6SyxTQUFTMkssY0FBYyxPQUNuQ0YsRUFBTVUsSUFBTXZFLEdBQVFpSixFQUFLLGVBQ3pCcEYsRUFBTWlGLElBQU1HLEVBQUk5SSxhQUFhLE9BQzdCMEQsRUFBTWlQLGVBQWlCN0osRUFBSTZKLGVBQzNCSCxHQUFTLEVBQ1R0VCxHQUFTd0UsRUFBTzdKLEdBQ2hCMkYsR0FBWWtFLEVBQU8vSSxFQUFrQjRGLEVBQVFqSixZQUV6Q3dILEdBQVMrSixFQUFNblAsS0FDakJ3RixHQUFTd0UsRUFBT3JKLEdBQ2hCcU8sRUFBUTdVLEdBR1Z5VSxFQUFLN1UsS0FBS2lRLEdBQ1Z2QyxHQUFZdUMsRUFBT3pJLEVBQVk4TixFQUFRLENBQ3JDMUksTUFBTSxJQUVSdVAsRUFBT3RMLFlBQVlaLE1BR2pCdkcsR0FBU29ELEVBQVFqSyxXQUFhaUssRUFBUWpLLFNBQVcsRUFBRyxDQUN0RCxJQUFJc0MsRUFBTyxTQUFTQSxJQUNsQjJaLEVBQU9LLFFBQVV4RCxZQUFXLFdBQzFCOVAsR0FBWWdKLEVBQUtJLEdBQVFyTyxHQUd6QjZFLEdBQVNvSixFQURUSSxHQURBQSxHQUFTLEdBQ084SixFQUFROUosRUFBUSxHQUNWck8sR0FDdEJ6QixNQUNDMkgsRUFBUWpLLFdBR1RrYyxFQUFRLEdBQ1Y1WixJQUlKLE9BQU9pTyxNQUdUaE8sS0FBTSxXQUNKLElBQUlnYSxFQUFTaE0sS0FFYixJQUFLQSxLQUFLMkcsT0FDUixPQUFPM0csS0FHVCxJQUFJdEksRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQVFuQixHQU5JNUMsR0FBVzRDLEVBQVExSCxPQUNyQnNJLEdBQVk1QyxFQUFTM0IsR0FBWTJELEVBQVExSCxLQUFNLENBQzdDd0gsTUFBTSxLQUlpQyxJQUF2Q21CLEdBQWNqRCxFQUFTM0IsSUFDekIsT0FBT2lLLEtBR1QsSUFBSStJLEVBQVMvSSxLQUFLK0ksT0FTbEIsT0FSQS9JLEtBQUsyRyxRQUFTLEVBQ2RGLGFBQWF6RyxLQUFLK0wsU0FDbEIzZSxHQUFRMmIsRUFBT0MscUJBQXFCLFFBQVEsU0FBVW5NLEdBQ3BEOUMsR0FBZThDLEVBQU96SSxFQUFZNFgsRUFBT0osbUJBRTNDblQsR0FBWXNRLEVBQVFsVixHQUNwQmtWLEVBQU9wSCxVQUFZLEdBQ25CM0IsS0FBS2lNLGlCQUNFak0sTUFHVDZHLEtBQU0sV0FDSixJQUFJcUYsRUFBU2xNLEtBRVR0RyxFQUFVc0csS0FBS3RHLFFBQ2Y2SCxFQUFTdkIsS0FBS3VCLE9BQ2QxRSxFQUFRbUQsS0FBS25ELE1BQ2I0RSxFQUFPekIsS0FBS3lCLEtBRWhCLE9BQUt6QixLQUFLd0ksU0FBV3hJLEtBQUsyRyxRQUFVM0csS0FBS3NCLFNBQVc1SCxFQUFRbEssU0FJNUR3USxLQUFLc0IsUUFBUyxFQUNkdEIsS0FBSzBJLE9BQ0xyUSxHQUFTMkgsS0FBS2pSLE9BQVFvRSxHQUVsQnVHLEVBQVFqSixhQUNWZ0ksR0FBWWdKLEVBQU0zTixHQUVka00sS0FBSzFPLFFBQ1BtSCxHQUFZb0UsRUFBTy9JLElBSXZCdUUsR0FBU2tKLEVBQVF0TyxHQUNqQnNPLEVBQU9sSSxhQUFhLE9BQVEsVUFDNUJrSSxFQUFPbEksYUFBYSxrQkFBbUIyRyxLQUFLL1EsTUFBTTZRLElBQ2xEeUIsRUFBT2xJLGFBQWEsY0FBYyxHQUNsQ2tJLEVBQU9tSSxnQkFBZ0IsU0FDdkJqUyxHQUFTOEosRUFBUSxDQUNmN1EsT0FBUWdKLEVBQVFoSixTQUdkZ0osRUFBUS9KLE9BQ1ZxUSxLQUFLbU0sZUFHUG5NLEtBQUtDLGdCQUNMRCxLQUFLZ0IsV0FBYTdKLEdBQU8sR0FBSTZJLEtBQUtjLGVBQ2xDZCxLQUFLc0MsYUFFRHRDLEtBQUsxTyxRQUNQME8sS0FBSzhDLFdBQVUsV0FDYm9KLEVBQU9sSSxhQUFZLFdBQ2J0SyxFQUFRakosWUFDVjhYLFlBQVcsV0FDVGxRLEdBQVN3RSxFQUFPL0ksR0FDaEJ1RSxHQUFTb0osRUFBTTNOLEtBQ2QsVUF2Q0ZrTSxNQWdEWDRHLEtBQU0sV0FDSixJQUFJd0YsRUFBVXBNLEtBRVZ0RyxFQUFVc0csS0FBS3RHLFFBQ2Y2SCxFQUFTdkIsS0FBS3VCLE9BQ2QxRSxFQUFRbUQsS0FBS25ELE1BQ2I0RSxFQUFPekIsS0FBS3lCLEtBRWhCLE9BQUt6QixLQUFLd0ksVUFBV3hJLEtBQUsyRyxRQUFXM0csS0FBS3NCLFFBQVc1SCxFQUFRbEssUUFJN0R3USxLQUFLc0IsUUFBUyxFQUNkdEIsS0FBS3lJLFFBQ0xoUSxHQUFZdUgsS0FBS2pSLE9BQVFvRSxHQUVyQnVHLEVBQVFqSixhQUNWZ0ksR0FBWWdKLEVBQU0zTixHQUVka00sS0FBSzFPLFFBQ1BtSCxHQUFZb0UsRUFBTy9JLElBSW5CNEYsRUFBUS9KLE9BQ1ZxUSxLQUFLcU0sb0JBR1A5SyxFQUFPbUksZ0JBQWdCLFFBQ3ZCbkksRUFBT21JLGdCQUFnQixtQkFDdkJuSSxFQUFPbUksZ0JBQWdCLGNBQ3ZCalIsR0FBWThJLEVBQVF0TyxHQUNwQndFLEdBQVM4SixFQUFRLENBQ2Y3USxPQUFRZ0osRUFBUS9JLGVBRWxCcVAsS0FBS2dCLFdBQWE3SixHQUFPLEdBQUk2SSxLQUFLcUIsWUFDbENyQixLQUFLSSxlQUNMSixLQUFLc0MsYUFFRHRDLEtBQUsxTyxRQUNQME8sS0FBSzhDLFdBQVUsV0FDYnNKLEVBQVFwSSxhQUFZLFdBQ2R0SyxFQUFRakosWUFDVjhYLFlBQVcsV0FDVGxRLEdBQVN3RSxFQUFPL0ksR0FDaEJ1RSxHQUFTb0osRUFBTTNOLEtBQ2QsU0FNSmtNLE1BM0NFQSxNQThDWHhQLFFBQVMsV0FDUCxJQUFJOGIsRUFBVXRNLEtBRVZ0RyxFQUFVc0csS0FBS3RHLFFBQ2Y2UyxFQUFhdk0sS0FBS3VNLFdBQ2xCaEosRUFBWXZELEtBQUt1RCxVQUVyQixPQUFLdkQsS0FBSzFPLFNBQVUwTyxLQUFLMkcsUUFBV2pOLEVBQVFsSixTQUk1QytiLEVBQVdDLFlBQWMsR0FBRzFaLE9BQU9xTCxLQUFLc08sTUFBd0IsSUFBbEJsSixFQUFVekUsT0FBYyxLQUVqRWtCLEtBQUswTSxZQWtCUmpHLGFBQWF6RyxLQUFLME0sYUFqQmRoVCxFQUFRakosWUFDTnVQLEtBQUsyTSxRQUNQaFMsR0FBYzRSLEVBQVkxWCxHQUc1QndELEdBQVNrVSxFQUFZMVksR0FDckJ3RSxHQUFTa1UsRUFBWXZaLEdBQ3JCcUYsR0FBU2tVLEVBQVl6WSxHQUNyQnlZLEVBQVc3QyxnQkFBZ0IsZUFFM0I2QyxFQUFXNUMsbUJBQXFCNEMsRUFBV3BMLFlBQzNDOUksR0FBU2tVLEVBQVkvWSxLQUVyQjZFLEdBQVNrVSxFQUFZMVksR0FDckIwWSxFQUFXN0MsZ0JBQWdCLGdCQU0vQjFKLEtBQUswTSxZQUFjbkUsWUFBVyxXQUN4QjdPLEVBQVFqSixZQUNWNkosR0FBWWlTLEVBQVkxWCxHQUFzQixXQUM1QzRELEdBQVk4VCxFQUFZMVksR0FDeEI0RSxHQUFZOFQsRUFBWXZaLEdBQ3hCeUYsR0FBWThULEVBQVl6WSxHQUN4QnlZLEVBQVdsVCxhQUFhLGVBQWUsR0FDdkNpVCxFQUFRSyxRQUFTLElBQ2hCLENBQ0RuVCxNQUFNLElBRVJmLEdBQVk4VCxFQUFZL1ksR0FDeEI4WSxFQUFRSyxRQUFTLElBRWpCbFUsR0FBWThULEVBQVkxWSxHQUN4QjBZLEVBQVdsVCxhQUFhLGVBQWUsSUFHekNpVCxFQUFRSSxhQUFjLElBQ3JCLEtBQ0kxTSxNQTlDRUEsTUFzRFg4RyxPQUFRLFdBQ04sSUFBSXdELEVBQWlCcmQsVUFBVUMsT0FBUyxRQUFzQitNLElBQWpCaE4sVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEtBUXpGLE9BTjZCLElBQXpCK1MsS0FBS3VELFVBQVV6RSxNQUNqQmtCLEtBQUsrSixPQUFPL0osS0FBS3VELFVBQVVPLFVBQVUsRUFBTXdHLEdBRTNDdEssS0FBSytKLE9BQU8sR0FBRyxFQUFNTyxHQUdoQnRLLE1BR1QrRyxNQUFPLFdBTUwsT0FMSS9HLEtBQUsxTyxTQUFXME8sS0FBSzJHLFNBQ3ZCM0csS0FBS3VELFVBQVlwTSxHQUFPLEdBQUk2SSxLQUFLK0Qsa0JBQ2pDL0QsS0FBS2dFLGVBR0FoRSxNQUdUNE0sT0FBUSxXQUNOLElBQUlDLEVBQVU3TSxLQUVWdEksRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUNmb1QsRUFBUTlNLEtBQUs4TSxNQUVqQixHQUFJQSxJQUFVcFYsRUFBUWlOLFdBQ3BCLE9BQU8zRSxLQUFLK00sVUFHZCxJQUFJbkwsRUFBUyxHQVdiLEdBVkF4VSxHQUFRMGYsRUFBUSxDQUFDcFYsR0FBV0EsRUFBUXNWLGlCQUFpQixRQUFRLFNBQVVuUSxHQUNqRS9GLEdBQVc0QyxFQUFRbE4sUUFDakJrTixFQUFRbE4sT0FBT29LLEtBQUtpVyxFQUFTaFEsSUFDL0IrRSxFQUFPaFYsS0FBS2lRLEdBRUxnUSxFQUFROUssWUFBWWxGLElBQzdCK0UsRUFBT2hWLEtBQUtpUSxPQUlYK0UsRUFBTzFVLE9BQ1YsT0FBTzhTLEtBTVQsR0FIQUEsS0FBSzRCLE9BQVNBLEVBQ2Q1QixLQUFLOVMsT0FBUzBVLEVBQU8xVSxPQUVqQjhTLEtBQUtoUCxNQUFPLENBQ2QsSUFBSWljLEVBQWlCLEdBbUJyQixHQWxCQTdmLEdBQVE0UyxLQUFLMEIsT0FBTyxTQUFVTSxFQUFNaFYsR0FDbEMsSUFBSWlWLEVBQU1ELEVBQUtnSSxjQUFjLE9BQ3pCbk4sRUFBUStFLEVBQU81VSxHQUVmNlAsR0FBU29GLEdBQ1BwRixFQUFNVSxNQUFRMEUsRUFBSTFFLEtBQ25CVixFQUFNaUYsTUFBUUcsRUFBSUgsS0FJckJtTCxFQUFlcmdCLEtBQUtJLE1BR3hCeUssR0FBU3VJLEtBQUt5QixLQUFNLENBQ2xCckUsTUFBTyxTQUVUNEMsS0FBS0csV0FFREgsS0FBS3dJLFFBQ1AsR0FBSXhJLEtBQUs5UyxRQUNQLEdBQUk4UyxLQUFLMU8sT0FBUSxDQUNmLElBQUk0YixFQUFlRCxFQUFlN1UsUUFBUTRILEtBQUs2QixPQUUvQyxHQUFJcUwsR0FBZ0IsRUFDbEJsTixLQUFLMU8sUUFBUyxFQUNkME8sS0FBSzNPLEtBQUs4TSxLQUFLK0MsSUFBSS9DLEtBQUt3RixJQUFJM0QsS0FBSzZCLE1BQVFxTCxFQUFjbE4sS0FBSzlTLE9BQVMsR0FBSSxRQUNwRSxDQUNMLElBQUkrYyxFQUFhakssS0FBSzBCLE1BQU0xQixLQUFLNkIsT0FFakN4SixHQUFTNFIsRUFBWXBYLEdBQ3JCb1gsRUFBVzVRLGFBQWEsaUJBQWlCLFVBSTdDMkcsS0FBS25ELE1BQVEsS0FDYm1ELEtBQUsxTyxRQUFTLEVBQ2QwTyxLQUFLNkIsTUFBUSxFQUNiN0IsS0FBS3VELFVBQVksR0FDakJ2RCxLQUFLOEUsT0FBT25ELFVBQVksR0FDeEIzQixLQUFLL1EsTUFBTTBTLFVBQVksUUFJM0IzQixLQUFLd0osUUFHUCxPQUFPeEosTUFHVCtNLFFBQVMsV0FDUCxJQUFJclYsRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUVuQixPQUFLaEMsRUFBUWpGLElBSWJ1TixLQUFLbU4sV0FBWSxFQUVibk4sS0FBS2hQLE9BQ0hnUCxLQUFLMkcsUUFDUDNHLEtBQUtoTyxPQUdIMEgsRUFBUWxLLFFBQ053USxLQUFLc0IsUUFDUHRCLEtBQUs0RyxPQUdQNUcsS0FBS21HLFVBQ0luRyxLQUFLd0ksU0FDVnhJLEtBQUttRSxVQUNIbkUsS0FBS3lFLGVBQ1B6RSxLQUFLeUUsZUFBZWhCLFFBQ1h6RCxLQUFLd0QsbUJBQ2R4RCxLQUFLd0Qsa0JBQWtCQyxTQUl2QnpELEtBQUsrSCxRQUNQL0gsS0FBS3lKLGNBQWNoRyxRQUdyQnpELEtBQUs1TyxVQUNJNE8sS0FBSzhILFVBQ2Q5SCxLQUFLeUosY0FBY2hHLFFBQ25CekQsS0FBSzVPLFVBR1A0TyxLQUFLaFAsT0FBUSxFQUNiZ1AsS0FBS3VCLE9BQU9vRCxXQUFXckgsWUFBWTBDLEtBQUt1QixTQUMvQjdILEVBQVFsSyxTQUNid1EsS0FBS29OLFNBQ1BwTixLQUFLb04sU0FBUzNKLFFBQ0x6RCxLQUFLcU4sY0FDZHJOLEtBQUtxTixhQUFhNUosU0FJakIvSixFQUFRbEssUUFDWHVLLEdBQWVyQyxFQUFTM0QsRUFBYWlNLEtBQUtzTixTQUc1QzVWLEVBQVFqRixRQUFhd0gsRUFDZCtGLE1BbERFQSxPQXNEVHVOLEdBQVMsQ0FDWHhMLFlBQWEsU0FBcUJsRixHQUNoQyxJQUFJOUwsRUFBTWlQLEtBQUt0RyxRQUFRM0ksSUFVdkIsT0FQRUEsRUFERW9GLEdBQVNwRixHQUNMOEwsRUFBTTFELGFBQWFwSSxHQUNoQitGLEdBQVcvRixHQUNkQSxFQUFJNkYsS0FBS29KLEtBQU1uRCxHQUVmLElBS1ZzUCxhQUFjLFdBQ1osSUFBSTNLLEVBQVF4QixLQUVaQSxLQUFLcU0sb0JBQ0wvUixHQUFZbEksU0FBVThCLEVBQWU4TCxLQUFLd04sVUFBWSxTQUFVcFQsR0FDOUQsSUFBSW1ILEVBQVNDLEVBQU1ELE9BQ2Z4VSxFQUFTcU4sRUFBTXJOLE9BRWZBLElBQVdxRixVQUFZckYsSUFBV3dVLEdBQVdBLEVBQU9wSixTQUFTcEwsSUFDekIsT0FBcENBLEVBQU9vTSxhQUFhLGFBQThELFNBQXRDcE0sRUFBT29NLGFBQWEsZUFDbEVvSSxFQUFPNVIsV0FJYjBjLGtCQUFtQixXQUNick0sS0FBS3dOLFlBQ1B6VCxHQUFlM0gsU0FBVThCLEVBQWU4TCxLQUFLd04sV0FDN0N4TixLQUFLd04sVUFBWSxPQUdyQjlFLEtBQU0sV0FDSixJQUFJeEwsRUFBTzhDLEtBQUs5QyxLQUNoQjdFLEdBQVM2RSxFQUFNdEosR0FDZnNKLEVBQUt0RixNQUFNK0ksYUFBZSxHQUFHN04sT0FBT2tOLEtBQUtPLGdCQUFrQmtOLFdBQVd6TixLQUFLWSxrQ0FBb0MsR0FBSSxPQUVySDZILE1BQU8sV0FDTCxJQUFJdkwsRUFBTzhDLEtBQUs5QyxLQUNoQnpFLEdBQVl5RSxFQUFNdEosR0FDbEJzSixFQUFLdEYsTUFBTStJLGFBQWVYLEtBQUtVLHlCQUVqQ3hQLE1BQU8sV0FDTCxJQUFJd0csRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUNmNkgsRUFBU3ZCLEtBQUt1QixPQUNsQnZCLEtBQUtzQixRQUFTLEVBQ2R0QixLQUFLd0ksU0FBVSxFQUNmeEksS0FBS0QsU0FDTEMsS0FBSzZFLE9BQ0w3RSxLQUFLOEgsU0FBVSxFQUVYcE8sRUFBUS9KLFFBQ1Y0UixFQUFPNVIsUUFDUHFRLEtBQUttTSxnQkFHSHJWLEdBQVc0QyxFQUFReEksUUFDckJvSixHQUFZNUMsRUFBU3pDLEVBQWF5RSxFQUFReEksTUFBTyxDQUMvQ3NJLE1BQU0sS0FJa0MsSUFBeENtQixHQUFjakQsRUFBU3pDLElBSXZCK0ssS0FBS2hQLE9BQVNnUCxLQUFLd0ksVUFBWXhJLEtBQUsrSCxRQUN0Qy9ILEtBQUszTyxLQUFLMk8sS0FBSzZCLFFBR25CelEsT0FBUSxXQUNOLElBQUlzRyxFQUFVc0ksS0FBS3RJLFFBQ2ZnQyxFQUFVc0csS0FBS3RHLFFBQ2Y2SCxFQUFTdkIsS0FBS3VCLE9BRWQ3SCxFQUFRZ1UsT0FDVjFOLEtBQUtxTSxvQkFHUHJNLEtBQUtzQixRQUFTLEVBQ2R0QixLQUFLMU8sUUFBUyxFQUNkME8sS0FBS3dJLFNBQVUsRUFDZnhJLEtBQUt5SSxRQUNMekksS0FBS21HLFNBQ0w5TixHQUFTa0osRUFBUW5PLEdBQ2pCbU8sRUFBT21JLGdCQUFnQixRQUN2Qm5JLEVBQU9tSSxnQkFBZ0IsbUJBQ3ZCbkksRUFBT21JLGdCQUFnQixjQUN2Qm5JLEVBQU9sSSxhQUFhLGVBQWUsR0FDbkMyRyxLQUFLNkMsWUFDTDdDLEtBQUswRSxhQUNMMUUsS0FBSytILFFBQVMsRUFFVC9ILEtBQUttTixZQUNKclcsR0FBVzRDLEVBQVF0SSxTQUNyQmtKLEdBQVk1QyxFQUFTdkMsR0FBY3VFLEVBQVF0SSxPQUFRLENBQ2pEb0ksTUFBTSxJQUlWbUIsR0FBY2pELEVBQVN2QyxHQUFjLEtBQU0sQ0FDekM0RixZQUFZLE1BSWxCOFEsa0JBQW1CLFNBQTJCblMsR0FDNUMsSUFBSXRILEVBQVc0TixLQUFLdEksUUFBUTRJLGNBRTVCLEdBQUlOLEtBQUtzQixVQUFZbFAsRUFBU3VXLG1CQUFxQnZXLEVBQVN3Vyx5QkFBMkJ4VyxFQUFTeVcsc0JBQXdCelcsRUFBUzBXLHFCQUFzQixDQUNySixJQUFJdlcsRUFBa0JILEVBQVNHLGdCQUUzQkEsRUFBZ0JzWixrQkFFZG5WLEdBQWNnRCxHQUNoQm5ILEVBQWdCc1osa0JBQWtCblMsR0FFbENuSCxFQUFnQnNaLG9CQUVUdFosRUFBZ0JvYix3QkFDekJwYixFQUFnQm9iLHdCQUF3QkMsUUFBUUMsc0JBQ3ZDdGIsRUFBZ0J1YixxQkFDekJ2YixFQUFnQnViLHVCQUNQdmIsRUFBZ0J3YixxQkFDekJ4YixFQUFnQndiLHdCQUl0QjlCLGVBQWdCLFdBQ2QsSUFBSTdaLEVBQVc0TixLQUFLdEksUUFBUTRJLGNBRXhCTixLQUFLc0IsU0FBV2xQLEVBQVN1VyxtQkFBcUJ2VyxFQUFTd1cseUJBQTJCeFcsRUFBU3lXLHNCQUF3QnpXLEVBQVMwVyx1QkFFMUgxVyxFQUFTNlosZUFDWDdaLEVBQVM2WixpQkFDQTdaLEVBQVM0YixxQkFDbEI1YixFQUFTNGIsdUJBQ0E1YixFQUFTNmIsb0JBQ2xCN2IsRUFBUzZiLHNCQUNBN2IsRUFBUzhiLGtCQUNsQjliLEVBQVM4YixxQkFJZjdGLE9BQVEsU0FBZ0JqTyxHQUN0QixJQUFJVixFQUFVc0csS0FBS3RHLFFBQ2ZrRSxFQUFXb0MsS0FBS3BDLFNBQ2hCRyxFQUFVSCxFQUFTdlIsT0FBT0QsS0FBS3dSLEdBQVUsSUFFN0MsR0FBS0csRUFBTCxDQUlBLElBQUlvUSxFQUFVcFEsRUFBUVUsS0FBT1YsRUFBUU0sT0FDakMrUCxFQUFVclEsRUFBUVksS0FBT1osRUFBUVEsT0FFckMsT0FBUXlCLEtBQUtxRyxRQUVYLEtBQUszVCxFQUNIc04sS0FBS3pPLEtBQUs0YyxFQUFTQyxFQUFTaFUsR0FDNUIsTUFHRixLQUFLeEgsRUFDSG9OLEtBQUtuTyxLQUFLOEwsR0FBZ0JDLElBQVcsRUFBT3hELEdBQzVDLE1BRUYsS0FBS3pILEVBRURxTixLQUFLcUcsT0FBUyxXQUNkLElBQUlnSSxFQUFrQmxRLEtBQUtDLElBQUkrUCxHQUUzQkUsRUFBa0IsR0FBS0EsRUFBa0JsUSxLQUFLQyxJQUFJZ1EsS0FFcERwTyxLQUFLcEMsU0FBVyxHQUVadVEsRUFBVSxFQUNabk8sS0FBS2dILEtBQUt0TixFQUFRN0osTUFDVHNlLEdBQVcsR0FDcEJuTyxLQUFLdUMsS0FBSzdJLEVBQVE3SixPQVM1QnpDLEdBQVF3USxHQUFVLFNBQVUwUSxHQUMxQkEsRUFBRWpRLE9BQVNpUSxFQUFFN1AsS0FDYjZQLEVBQUUvUCxPQUFTK1AsRUFBRTNQLFVBR2pCeUosYUFBYyxXQUNaLElBQUk3RSxFQUFZdkQsS0FBS3VELFVBQ2pCdkMsRUFBYWhCLEtBQUtnQixXQUN0QixPQUFPaEIsS0FBSzlTLE9BQVMsR0FBS3FXLEVBQVVLLEdBQUssR0FBS0wsRUFBVU0sR0FBSyxHQUFLTixFQUFVbkcsT0FBUzRELEVBQVc1RCxPQUFTbUcsRUFBVWxHLFFBQVUyRCxFQUFXM0QsU0FJeElrUixHQUFnQmxjLEVBQU9tYyxPQUV2QkMsSUFBd0IzTyxJQUt6QixFQUpNLFdBRUwsT0FEQUEsSUFBTSxJQUtOME8sR0FBc0IsV0FNeEIsU0FBU0EsRUFBTzlXLEdBQ2QsSUFBSWdDLEVBQVV6TSxVQUFVQyxPQUFTLFFBQXNCK00sSUFBakJoTixVQUFVLEdBQW1CQSxVQUFVLEdBQUssR0FJbEYsR0FGQWUsRUFBZ0JnUyxLQUFNd08sSUFFakI5VyxHQUFnQyxJQUFyQkEsRUFBUWdYLFNBQ3RCLE1BQU0sSUFBSUMsTUFBTSwwREFHbEIzTyxLQUFLdEksUUFBVUEsRUFDZnNJLEtBQUt0RyxRQUFVdkMsR0FBTyxHQUFJdEksRUFBVTZILEdBQWNnRCxJQUFZQSxHQUM5RHNHLEtBQUtxRyxRQUFTLEVBQ2RyRyxLQUFLMk0sUUFBUyxFQUNkM00sS0FBS3NCLFFBQVMsRUFDZHRCLEtBQUsrSCxRQUFTLEVBQ2QvSCxLQUFLc0ksY0FBZSxFQUNwQnRJLEtBQUt1RCxVQUFZLEdBQ2pCdkQsS0FBSzZCLE1BQVE3QixLQUFLdEcsUUFBUW5LLGlCQUMxQnlRLEtBQUs4TSxPQUFRLEVBQ2I5TSxLQUFLd0ksU0FBVSxFQUNmeEksS0FBSzlTLE9BQVMsRUFDZDhTLEtBQUtvRSxRQUFTLEVBQ2RwRSxLQUFLMkcsUUFBUyxFQUNkM0csS0FBSytMLFNBQVUsRUFDZi9MLEtBQUtwQyxTQUFXLEdBQ2hCb0MsS0FBS2hQLE9BQVEsRUFDYmdQLEtBQUtxRSxVQUFXLEVBQ2hCckUsS0FBS3NFLFNBQVUsRUFDZnRFLEtBQUs4SCxTQUFVLEVBQ2Y5SCxLQUFLb0gsU0FBVSxFQUNmcEgsS0FBSzBNLGFBQWMsRUFDbkIxTSxLQUFLMU8sUUFBUyxFQUNkME8sS0FBS21FLFNBQVUsRUFDZm5FLEtBQUtrSixVQUFXLEVBQ2hCbEosS0FBS3VFLFNBQVUsRUFDZnZFLEtBQUtGLEdBQUsyTyxLQUNWek8sS0FBSzRPLE9Ba1NQLE9BL1JBbmdCLEVBQWErZixFQUFRLENBQUMsQ0FDcEJuaEIsSUFBSyxPQUNMdUIsTUFBTyxXQUNMLElBQUk0UyxFQUFReEIsS0FFUnRJLEVBQVVzSSxLQUFLdEksUUFDZmdDLEVBQVVzRyxLQUFLdEcsUUFFbkIsSUFBSWhDLEVBQVFqRixHQUFaLENBSUFpRixFQUFRakYsR0FBYXVOLEtBRWpCdEcsRUFBUS9KLFFBQVUrSixFQUFRaEssV0FDNUJnSyxFQUFRL0osT0FBUSxHQUdsQixJQUFJbWQsRUFBOEIsUUFBdEJwVixFQUFRNE8sVUFDaEIxRSxFQUFTLEdBbUJiLEdBbEJBeFUsR0FBUTBmLEVBQVEsQ0FBQ3BWLEdBQVdBLEVBQVFzVixpQkFBaUIsUUFBUSxTQUFVblEsR0FDakUvRixHQUFXNEMsRUFBUWxOLFFBQ2pCa04sRUFBUWxOLE9BQU9vSyxLQUFLNEssRUFBTzNFLElBQzdCK0UsRUFBT2hWLEtBQUtpUSxHQUVMMkUsRUFBTU8sWUFBWWxGLElBQzNCK0UsRUFBT2hWLEtBQUtpUSxNQUdoQm1ELEtBQUs4TSxNQUFRQSxFQUNiOU0sS0FBSzlTLE9BQVMwVSxFQUFPMVUsT0FDckI4UyxLQUFLNEIsT0FBU0EsRUFDZDVCLEtBQUtLLFdBRUQ5SixHQUFZbkUsU0FBUzJLLGNBQWN0SyxHQUFXbUYsTUFBTW5ILGNBQ3REaUosRUFBUWpKLFlBQWEsR0FHbkJpSixFQUFRbEssT0FBUSxDQUNsQixJQUFJb1EsRUFBUSxFQUVSaVAsRUFBVyxXQUlYLElBQUl6SCxHQUhOeEgsR0FBUyxLQUVLNEIsRUFBTXRVLFNBRWxCc1UsRUFBTTZMLGNBQWUsRUFDckI3TCxFQUFNNEwsU0FBVyxDQUNmM0osTUFBTyxXQUNMZ0QsYUFBYVcsS0FJakJBLEVBQVVtQixZQUFXLFdBQ25CL0csRUFBTTRMLFVBQVcsRUFFakI1TCxFQUFNZ0ksVUFDTCxLQUlQeEosS0FBS3FOLGFBQWUsQ0FDbEI1SixNQUFPLFdBQ0xyVyxHQUFRd1UsR0FBUSxTQUFVL0UsR0FDbkJBLEVBQU1zTixVQUNUcFEsR0FBZThDLEVBQU96SSxFQUFZeWEsUUFLMUN6aEIsR0FBUXdVLEdBQVEsU0FBVS9FLEdBQ3BCQSxFQUFNc04sU0FDUjBFLElBRUF2VSxHQUFZdUMsRUFBT3pJLEVBQVl5YSxFQUFVLENBQ3ZDclYsTUFBTSxZQUtaYyxHQUFZNUMsRUFBUzNELEVBQWFpTSxLQUFLc04sUUFBVSxTQUFVelIsR0FDekQsSUFBSTlPLEVBQVM4TyxFQUFLOU8sT0FFTyxRQUFyQkEsRUFBT3VaLFdBQXlCeFAsR0FBVzRDLEVBQVFsTixVQUFXa04sRUFBUWxOLE9BQU9vSyxLQUFLNEssRUFBT3pVLElBQzNGeVUsRUFBTW5RLEtBQUttUSxFQUFNSSxPQUFPeEosUUFBUXJMLFNBS3ZDLENBQ0RNLElBQUssUUFDTHVCLE1BQU8sV0FDTCxJQUFJb1IsS0FBS2hQLE1BQVQsQ0FJQSxJQUFJMEcsRUFBVXNJLEtBQUt0SSxRQUNmZ0MsRUFBVXNHLEtBQUt0RyxRQUNmdUgsRUFBU3ZKLEVBQVFpTixXQUNqQm1LLEVBQVcxYyxTQUFTMkssY0FBYyxPQUN0QytSLEVBQVNuTixVQUFZMVAsRUFDckIsSUFBSXNQLEVBQVN1TixFQUFTOUUsY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxlQUN0RHhELEVBQVFzUyxFQUFPeUksY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxXQUNuRHZELEVBQVVxUyxFQUFPeUksY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxhQUNyRHpELEVBQVN1UyxFQUFPeUksY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxZQUNwRDFELEVBQVN3UyxFQUFPeUksY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxZQUNwRHFTLEVBQVN2RCxFQUFPeUksY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxZQXFDeEQsR0FwQ0F1TixLQUFLaUIsT0FBU0EsRUFDZGpCLEtBQUt1QixPQUFTQSxFQUNkdkIsS0FBSy9RLE1BQVFBLEVBQ2IrUSxLQUFLOVEsUUFBVUEsRUFDZjhRLEtBQUtoUixPQUFTQSxFQUNkZ1IsS0FBS2pSLE9BQVNBLEVBQ2RpUixLQUFLOEUsT0FBU0EsRUFDZDlFLEtBQUttRCxPQUFTNUIsRUFBT3lJLGNBQWMsSUFBSWxYLE9BQU9MLEVBQVcsWUFDekR1TixLQUFLdU0sV0FBYWhMLEVBQU95SSxjQUFjLElBQUlsWCxPQUFPTCxFQUFXLGFBQzdEdU4sS0FBSytJLE9BQVN4SCxFQUFPeUksY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxZQUN6RHVOLEtBQUt5QixLQUFPRixFQUFPeUksY0FBYyxJQUFJbFgsT0FBT0wsRUFBVyxVQUN2RDhPLEVBQU96QixHQUFLLEdBQUdoTixPQUFPTCxHQUFXSyxPQUFPa04sS0FBS0YsSUFDN0M3USxFQUFNNlEsR0FBSyxHQUFHaE4sT0FBT0wsRUFBVyxTQUFTSyxPQUFPa04sS0FBS0YsSUFDckR6SCxHQUFTcEosRUFBUXlLLEVBQVF6SyxNQUFxQnlPLEdBQW1CekcsTUFBTUMsUUFBUXdDLEVBQVF6SyxPQUFTeUssRUFBUXpLLE1BQU0sR0FBS3lLLEVBQVF6SyxPQUExRm1FLEdBQ2pDaUYsR0FBU3JKLEVBQVMwSyxFQUFRMUssT0FBc0IwTyxHQUFtQmhFLEVBQVExSyxRQUF4Q29FLEdBQ25DdUYsR0FBWTVKLEVBQVFxRSxHQUFhc0csRUFBUTNLLFFBRXJDMkssRUFBUWhLLFVBQ1ZYLEVBQU9zSyxhQUFhLFdBQVksR0FHOUJLLEVBQVE1SyxXQUNWdUosR0FBU2tKLEVBQVEsR0FBR3pPLE9BQU9MLEVBQVcsY0FFakNpSCxFQUFRbEssUUFBK0IsV0FBckJrSyxFQUFRNUssVUFDN0JzSyxHQUFRMEwsRUFBUTlPLEdBQWEsU0FJN0JHLEdBQVN1RCxFQUFRdkssWUFBY3VLLEVBQVF2SyxXQUV6Q3VLLEVBQVF2SyxVQUFVZ0wsTUFBTWxFLElBQWU3SSxTQUFRLFNBQVUrQixHQUN2RGtKLEdBQVNrSixFQUFRcFMsTUFJakJ1SyxFQUFReEssUUFBUyxDQUNuQixJQUFJdVMsRUFBT3JQLFNBQVMySyxjQUFjLE1BQzlCZ1MsRUFBU3JZLEdBQWNnRCxFQUFReEssU0FDL0I4ZixFQUFjOVksR0FBUStZLE1BQU0sRUFBRyxHQUMvQkMsRUFBZ0JoWixHQUFRK1ksTUFBTSxFQUFHLEdBQ2pDRSxFQUFlalosR0FBUStZLE1BQU0sR0FFNUJGLEdBQ0gxVyxHQUFTbkosRUFBU3dPLEdBQW1CaEUsRUFBUXhLLFVBRy9DOUIsR0FBUTJoQixFQUFTclYsRUFBUXhLLFFBQVVnSCxJQUFTLFNBQVV0SCxFQUFPaVQsR0FDM0QsSUFBSXVOLEVBQU9MLEdBQVVyWSxHQUFjOUgsR0FDL0JxSyxFQUFPOFYsRUFBU2pXLEdBQVUrSSxHQUFTalQsRUFDbkNxQyxFQUFPbWUsSUFBUzdZLEdBQVkzSCxFQUFNcUMsTUFBUXJDLEVBQU1xQyxLQUFPckMsRUFFM0QsR0FBS3FDLElBQVN5SSxFQUFRdkosV0FBMkMsSUFBL0I2ZSxFQUFZNVcsUUFBUWEsTUFBaUJTLEVBQVF6SixZQUE4QyxJQUFqQ2lmLEVBQWM5VyxRQUFRYSxNQUFpQlMsRUFBUXhKLFdBQTRDLElBQWhDaWYsRUFBYS9XLFFBQVFhLElBQTVLLENBSUEsSUFBSW9XLEVBQU9ELElBQVM3WSxHQUFZM0gsRUFBTXlnQixNQUFRemdCLEVBQU15Z0IsS0FBT3pnQixFQUN2RG9XLEVBQVFvSyxJQUFTN1ksR0FBWTNILEVBQU1vVyxPQUFTcFcsRUFBTW9XLE1BQVFwVyxFQUMxRG9ULEVBQU81UCxTQUFTMkssY0FBYyxNQUU5QnJELEVBQVFoSyxVQUNWc1MsRUFBSzNJLGFBQWEsV0FBWSxHQUdoQzJJLEVBQUszSSxhQUFhLE9BQVEsVUFDMUJoQixHQUFTMkosRUFBTSxHQUFHbFAsT0FBT0wsRUFBVyxLQUFLSyxPQUFPbUcsSUFFM0NuQyxHQUFXa08sSUFDZDVMLEdBQVE0SSxFQUFNaE0sR0FBYWlELEdBR3pCM0MsR0FBU3JGLElBQ1hvSCxHQUFTMkosRUFBTXRFLEdBQW1Cek0sS0FHTSxJQUF0QyxDQUFDLFFBQVMsU0FBU21ILFFBQVFpWCxHQUM3QmhYLEdBQVMySixFQUFNLEdBQUdsUCxPQUFPTCxFQUFXLEtBQUtLLE9BQU91YyxJQUM5QixTQUFUcFcsR0FDVFosR0FBUzJKLEVBQU0sR0FBR2xQLE9BQU9MLEVBQVcsV0FHbENxRSxHQUFXa08sSUFDYjFLLEdBQVkwSCxFQUFNak8sRUFBYWlSLEdBR2pDdkQsRUFBS2hFLFlBQVl1RSxPQUVuQjlTLEVBQVF1TyxZQUFZZ0UsUUFFcEJwSixHQUFTbkosRUFBU2tFLEdBR3BCLElBQUtzRyxFQUFRekosVUFBVyxDQUN0QixJQUFJcWYsRUFBVXBnQixFQUFROGQsaUJBQWlCLHVCQUN2QzNVLEdBQVNpWCxFQUFTN2IsR0FDbEJyRyxHQUFRa2lCLEdBQVMsU0FBVTdkLEdBQ3pCdkMsRUFBUXVPLFlBQVloTSxNQUl4QixHQUFJaUksRUFBUWxLLE9BQ1Y2SSxHQUFTdEosRUFBUW1FLEdBQ2pCdUUsR0FBUzhKLEVBQVEsQ0FDZjdRLE9BQVFnSixFQUFRL0ksZUFHK0IsV0FBN0N3QixPQUFPME8saUJBQWlCSSxHQUFRc08sVUFDbEM5WCxHQUFTd0osRUFBUSxDQUNmc08sU0FBVSxhQUlkdE8sRUFBT3VPLGFBQWFqTyxFQUFRN0osRUFBUStYLGlCQUMvQixDQUNMcFgsR0FBU3RKLEVBQVFnRSxHQUNqQnNGLEdBQVNrSixFQUFRdE8sR0FDakJvRixHQUFTa0osRUFBUXZPLEdBQ2pCcUYsR0FBU2tKLEVBQVFuTyxHQUNqQnFFLEdBQVM4SixFQUFRLENBQ2Y3USxPQUFRZ0osRUFBUWhKLFNBRWxCLElBQUl0QixFQUFZc0ssRUFBUXRLLFVBRXBCK0csR0FBUy9HLEtBQ1hBLEVBQVlzSSxFQUFRNEksY0FBYzBKLGNBQWM1YSxJQUc3Q0EsSUFDSEEsRUFBWTRRLEtBQUs5QyxNQUduQjlOLEVBQVVxTyxZQUFZOEQsR0FHcEI3SCxFQUFRbEssU0FDVndRLEtBQUtELFNBQ0xDLEtBQUs2RSxPQUNMN0UsS0FBS3dJLFNBQVUsR0FHakJ4SSxLQUFLaFAsT0FBUSxFQUVUOEYsR0FBVzRDLEVBQVExSSxRQUNyQnNKLEdBQVk1QyxFQUFTM0MsRUFBYTJFLEVBQVExSSxNQUFPLENBQy9Dd0ksTUFBTSxLQUlrQyxJQUF4Q21CLEdBQWNqRCxFQUFTM0MsR0FLdkJpTCxLQUFLaFAsT0FBUzBJLEVBQVFsSyxRQUN4QndRLEtBQUszTyxLQUFLMk8sS0FBSzZCLE9BTGY3QixLQUFLaFAsT0FBUSxNQWFmLENBQUMsQ0FDSDNELElBQUssYUFDTHVCLE1BQU8sV0FFTCxPQURBdUQsT0FBT3FjLE9BQVNELEdBQ1RDLElBT1IsQ0FDRG5oQixJQUFLLGNBQ0x1QixNQUFPLFNBQXFCOEssR0FDMUJ2QyxHQUFPdEksRUFBVTZILEdBQWNnRCxJQUFZQSxPQUl4QzhVLEVBNVVpQixHQWlWMUIsT0FGQXJYLEdBQU9xWCxHQUFPemdCLFVBQVdnUyxHQUFRNkUsR0FBUXdCLEdBQVVrRCxHQUFTaUUsSUFFckRpQixHQW4rR3lFa0IsS0NWOUVDLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUI1VixJQUFqQjZWLEVBQ0gsT0FBT0EsRUFBYTlqQixRQUdyQixJQUFJRCxFQUFTNGpCLEVBQXlCRSxHQUFZLENBR2pEN2pCLFFBQVMsSUFPVixPQUhBK2pCLEVBQW9CRixHQUFValosS0FBSzdLLEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVM0akIsR0FHcEU3akIsRUFBT0MsUUNwQmY0akIsRUFBb0JJLEVBQUtqa0IsSUFDeEIsSUFBSWtrQixFQUFTbGtCLEdBQVVBLEVBQU9ta0IsV0FDN0IsSUFBT25rQixFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQTZqQixFQUFvQk8sRUFBRUYsRUFBUSxDQUFFalIsRUFBR2lSLElBQzVCQSxHQ0xSTCxFQUFvQk8sRUFBSSxDQUFDbmtCLEVBQVNva0IsS0FDakMsSUFBSSxJQUFJL2lCLEtBQU8raUIsRUFDWFIsRUFBb0JTLEVBQUVELEVBQVkvaUIsS0FBU3VpQixFQUFvQlMsRUFBRXJrQixFQUFTcUIsSUFDNUVoQixPQUFPb0IsZUFBZXpCLEVBQVNxQixFQUFLLENBQUVWLFlBQVksRUFBTWdOLElBQUt5VyxFQUFXL2lCLE1DSjNFdWlCLEVBQW9CUyxFQUFJLENBQUMxaUIsRUFBSzJpQixJQUFVamtCLE9BQU8wQixVQUFVMEksZUFBZUcsS0FBS2pKLEVBQUsyaUIsRyx5Q0NRbEYsTUFBTUMsRUFPRnppQixjQUpBLEtBQUEwaUIsa0JBQW9CLENBQ2xCLGtCQUlFLE1BQU1DLEVBQU96USxLQUNQMFEsRUFBaUMsQ0FDbkNsa0IsT0FBT3lWLEdBQ0l3TyxFQUFLRSxhQUFhMU8sSUFJakNqQyxLQUFLNFEsUUFBVSxJQUFJLElBQUosQ0FBV3hlLFNBQVM0WCxjQUFjLFFBQVMzZCxPQUFPOEssT0FBT3VaLEVBQWdCdmUsT0FBTzBlLGdCQUduR0MsTUFDSSxNQUFNTCxFQUFPelEsS0FDYjVOLFNBQVM0YSxpQkFBaUIsT0FBTzVmLFNBQVEsU0FBVTZVLEdBQ2IsTUFBOUJBLEVBQUlzRSxjQUFjd0ssU0FBbUJOLEVBQUtFLGFBQWExTyxJQUN6REEsRUFBSXBJLGlCQUFpQixTQUFTLFdBQzVCNFcsRUFBS0csUUFBUTNmLGFBTXpCMGYsYUFBYTFPLEdBQ1gsT0FBcUYsR0FBOUVqQyxLQUFLd1Esa0JBQWtCaGtCLFFBQU95TSxHQUFRZ0osRUFBSS9KLFVBQVVDLFNBQVNjLEtBQU8vTCxRQUlqRmtGLFNBQVN5SCxpQkFBaUIsb0JBQW9CLE1BQ3pDLElBQUkwVyxHQUFXTyxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaHVnby10aGVtZS1ib290c3RyYXAvLi9ub2RlX21vZHVsZXMvdmlld2VyanMvZGlzdC92aWV3ZXIuanMiLCJ3ZWJwYWNrOi8vaHVnby10aGVtZS1ib290c3RyYXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaHVnby10aGVtZS1ib290c3RyYXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vaHVnby10aGVtZS1ib290c3RyYXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2h1Z28tdGhlbWUtYm9vdHN0cmFwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaHVnby10aGVtZS1ib290c3RyYXAvLi9zcmMvdmlld2VyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogVmlld2VyLmpzIHYxLjEwLjJcbiAqIGh0dHBzOi8vZmVuZ3l1YW5jaGVuLmdpdGh1Yi5pby92aWV3ZXJqc1xuICpcbiAqIENvcHlyaWdodCAyMDE1LXByZXNlbnQgQ2hlbiBGZW5neXVhblxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKlxuICogRGF0ZTogMjAyMS0xMC0yMlQxMzo1OTo1MS4wNDZaXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuVmlld2VyID0gZmFjdG9yeSgpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG5cbiAgICAgIGlmIChlbnVtZXJhYmxlT25seSkge1xuICAgICAgICBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgREVGQVVMVFMgPSB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGEgbW9kYWwgYmFja2Ryb3AsIHNwZWNpZnkgYHN0YXRpY2AgZm9yIGEgYmFja2Ryb3BcbiAgICAgKiB3aGljaCBkb2Vzbid0IGNsb3NlIHRoZSBtb2RhbCBvbiBjbGljay5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBiYWNrZHJvcDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIGJ1dHRvbiBvbiB0aGUgdG9wLXJpZ2h0IG9mIHRoZSB2aWV3ZXIuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgYnV0dG9uOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgbmF2YmFyLlxuICAgICAqIEB0eXBlIHtib29sZWFuIHwgbnVtYmVyfVxuICAgICAqL1xuICAgIG5hdmJhcjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHZpc2liaWxpdHkgYW5kIHRoZSBjb250ZW50IG9mIHRoZSB0aXRsZS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbiB8IG51bWJlciB8IEZ1bmN0aW9uIHwgQXJyYXl9XG4gICAgICovXG4gICAgdGl0bGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSB0b29sYmFyLlxuICAgICAqIEB0eXBlIHtib29sZWFuIHwgbnVtYmVyIHwgT2JqZWN0fVxuICAgICAqL1xuICAgIHRvb2xiYXI6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20gY2xhc3MgbmFtZShzKSB0byBhZGQgdG8gdGhlIHZpZXdlcidzIHJvb3QgZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGNsYXNzTmFtZTogJycsXG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgd2hlcmUgdG8gcHV0IHRoZSB2aWV3ZXIgaW4gbW9kYWwgbW9kZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nIHwgRWxlbWVudH1cbiAgICAgKi9cbiAgICBjb250YWluZXI6ICdib2R5JyxcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0aGUgaW1hZ2VzIGZvciB2aWV3aW5nLiBSZXR1cm4gdHJ1ZSBpZiB0aGUgaW1hZ2UgaXMgdmlld2FibGUuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGZpbHRlcjogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0byByZXF1ZXN0IGZ1bGxzY3JlZW4gd2hlbiBwbGF5LlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRnVsbHNjcmVlbk9wdGlvbnN9XG4gICAgICogQHR5cGUge2Jvb2xlYW58RnVsbHNjcmVlbk9wdGlvbnN9XG4gICAgICovXG4gICAgZnVsbHNjcmVlbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIERlZmluZSB0aGUgZXh0cmEgYXR0cmlidXRlcyB0byBpbmhlcml0IGZyb20gdGhlIG9yaWdpbmFsIGltYWdlLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBpbmhlcml0ZWRBdHRyaWJ1dGVzOiBbJ2Nyb3NzT3JpZ2luJywgJ2RlY29kaW5nJywgJ2lzTWFwJywgJ2xvYWRpbmcnLCAncmVmZXJyZXJQb2xpY3knLCAnc2l6ZXMnLCAnc3Jjc2V0JywgJ3VzZU1hcCddLFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHRoZSBpbml0aWFsIGluZGV4IG9mIGltYWdlIGZvciB2aWV3aW5nLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgaW5pdGlhbFZpZXdJbmRleDogMCxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBpbmxpbmUgbW9kZS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpbmxpbmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiB0aW1lIHRvIGRlbGF5IGJldHdlZW4gYXV0b21hdGljYWxseSBjeWNsaW5nIGFuIGltYWdlIHdoZW4gcGxheWluZy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGludGVydmFsOiA1MDAwLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGtleWJvYXJkIHN1cHBvcnQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAga2V5Ym9hcmQ6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBGb2N1cyB0aGUgdmlld2VyIHdoZW4gaW5pdGlhbGl6ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgZm9jdXM6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZSBpZiBzaG93IGEgbG9hZGluZyBzcGlubmVyIHdoZW4gbG9hZCBpbWFnZSBvciBub3QuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgbG9hZGluZzogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlIGlmIGVuYWJsZSBsb29wIHZpZXdpbmcgb3Igbm90LlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGxvb3A6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBNaW4gd2lkdGggb2YgdGhlIHZpZXdlciBpbiBpbmxpbmUgbW9kZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1pbldpZHRoOiAyMDAsXG5cbiAgICAvKipcbiAgICAgKiBNaW4gaGVpZ2h0IG9mIHRoZSB2aWV3ZXIgaW4gaW5saW5lIG1vZGUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtaW5IZWlnaHQ6IDEwMCxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0byBtb3ZlIHRoZSBpbWFnZS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBtb3ZhYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRvIHJvdGF0ZSB0aGUgaW1hZ2UuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgcm90YXRhYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRvIHNjYWxlIHRoZSBpbWFnZS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzY2FsYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0byB6b29tIHRoZSBpbWFnZS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB6b29tYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0byB6b29tIHRoZSBjdXJyZW50IGltYWdlIGJ5IGRyYWdnaW5nIG9uIHRoZSB0b3VjaCBzY3JlZW4uXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgem9vbU9uVG91Y2g6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdG8gem9vbSB0aGUgaW1hZ2UgYnkgd2hlZWxpbmcgbW91c2UuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgem9vbU9uV2hlZWw6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdG8gc2xpZGUgdG8gdGhlIG5leHQgb3IgcHJldmlvdXMgaW1hZ2UgYnkgc3dpcGluZyBvbiB0aGUgdG91Y2ggc2NyZWVuLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHNsaWRlT25Ub3VjaDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlIGlmIHRvZ2dsZSB0aGUgaW1hZ2Ugc2l6ZSBiZXR3ZWVuIGl0cyBuYXR1cmFsIHNpemVcbiAgICAgKiBhbmQgaW5pdGlhbCBzaXplIHdoZW4gZG91YmxlIGNsaWNrIG9uIHRoZSBpbWFnZSBvciBub3QuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdG9nZ2xlT25EYmxjbGljazogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIHRvb2x0aXAgd2l0aCBpbWFnZSByYXRpbyAocGVyY2VudGFnZSkgd2hlbiB6b29tIGluIG9yIHpvb20gb3V0LlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRvb2x0aXA6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgQ1NTMyBUcmFuc2l0aW9uIGZvciBzb21lIHNwZWNpYWwgZWxlbWVudHMuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdHJhbnNpdGlvbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIERlZmluZSB0aGUgQ1NTIGB6LWluZGV4YCB2YWx1ZSBvZiB2aWV3ZXIgaW4gbW9kYWwgbW9kZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHpJbmRleDogMjAxNSxcblxuICAgIC8qKlxuICAgICAqIERlZmluZSB0aGUgQ1NTIGB6LWluZGV4YCB2YWx1ZSBvZiB2aWV3ZXIgaW4gaW5saW5lIG1vZGUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB6SW5kZXhJbmxpbmU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdGhlIHJhdGlvIHdoZW4gem9vbSB0aGUgaW1hZ2UgYnkgd2hlZWxpbmcgbW91c2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB6b29tUmF0aW86IDAuMSxcblxuICAgIC8qKlxuICAgICAqIERlZmluZSB0aGUgbWluIHJhdGlvIG9mIHRoZSBpbWFnZSB3aGVuIHpvb20gb3V0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgbWluWm9vbVJhdGlvOiAwLjAxLFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHRoZSBtYXggcmF0aW8gb2YgdGhlIGltYWdlIHdoZW4gem9vbSBpbi5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1heFpvb21SYXRpbzogMTAwLFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHdoZXJlIHRvIGdldCB0aGUgb3JpZ2luYWwgaW1hZ2UgVVJMIGZvciB2aWV3aW5nLlxuICAgICAqIEB0eXBlIHtzdHJpbmcgfCBGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB1cmw6ICdzcmMnLFxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgc2hvcnRjdXRzLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICByZWFkeTogbnVsbCxcbiAgICBzaG93OiBudWxsLFxuICAgIHNob3duOiBudWxsLFxuICAgIGhpZGU6IG51bGwsXG4gICAgaGlkZGVuOiBudWxsLFxuICAgIHZpZXc6IG51bGwsXG4gICAgdmlld2VkOiBudWxsLFxuICAgIG1vdmU6IG51bGwsXG4gICAgbW92ZWQ6IG51bGwsXG4gICAgcm90YXRlOiBudWxsLFxuICAgIHJvdGF0ZWQ6IG51bGwsXG4gICAgc2NhbGU6IG51bGwsXG4gICAgc2NhbGVkOiBudWxsLFxuICAgIHpvb206IG51bGwsXG4gICAgem9vbWVkOiBudWxsLFxuICAgIHBsYXk6IG51bGwsXG4gICAgc3RvcDogbnVsbFxuICB9O1xuXG4gIHZhciBURU1QTEFURSA9ICc8ZGl2IGNsYXNzPVwidmlld2VyLWNvbnRhaW5lclwiIHRhYmluZGV4PVwiLTFcIiB0b3VjaC1hY3Rpb249XCJub25lXCI+JyArICc8ZGl2IGNsYXNzPVwidmlld2VyLWNhbnZhc1wiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cInZpZXdlci1mb290ZXJcIj4nICsgJzxkaXYgY2xhc3M9XCJ2aWV3ZXItdGl0bGVcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJ2aWV3ZXItdG9vbGJhclwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cInZpZXdlci1uYXZiYXJcIj4nICsgJzx1bCBjbGFzcz1cInZpZXdlci1saXN0XCIgcm9sZT1cIm5hdmlnYXRpb25cIj48L3VsPicgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJ2aWV3ZXItdG9vbHRpcFwiIHJvbGU9XCJhbGVydFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cInZpZXdlci1idXR0b25cIiBkYXRhLXZpZXdlci1hY3Rpb249XCJtaXhcIiByb2xlPVwiYnV0dG9uXCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwidmlld2VyLXBsYXllclwiPjwvZGl2PicgKyAnPC9kaXY+JztcblxuICB2YXIgSVNfQlJPV1NFUiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuICB2YXIgV0lORE9XID0gSVNfQlJPV1NFUiA/IHdpbmRvdyA6IHt9O1xuICB2YXIgSVNfVE9VQ0hfREVWSUNFID0gSVNfQlJPV1NFUiAmJiBXSU5ET1cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gJ29udG91Y2hzdGFydCcgaW4gV0lORE9XLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGZhbHNlO1xuICB2YXIgSEFTX1BPSU5URVJfRVZFTlQgPSBJU19CUk9XU0VSID8gJ1BvaW50ZXJFdmVudCcgaW4gV0lORE9XIDogZmFsc2U7XG4gIHZhciBOQU1FU1BBQ0UgPSAndmlld2VyJzsgLy8gQWN0aW9uc1xuXG4gIHZhciBBQ1RJT05fTU9WRSA9ICdtb3ZlJztcbiAgdmFyIEFDVElPTl9TV0lUQ0ggPSAnc3dpdGNoJztcbiAgdmFyIEFDVElPTl9aT09NID0gJ3pvb20nOyAvLyBDbGFzc2VzXG5cbiAgdmFyIENMQVNTX0FDVElWRSA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItYWN0aXZlXCIpO1xuICB2YXIgQ0xBU1NfQ0xPU0UgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWNsb3NlXCIpO1xuICB2YXIgQ0xBU1NfRkFERSA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItZmFkZVwiKTtcbiAgdmFyIENMQVNTX0ZJWEVEID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1maXhlZFwiKTtcbiAgdmFyIENMQVNTX0ZVTExTQ1JFRU4gPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWZ1bGxzY3JlZW5cIik7XG4gIHZhciBDTEFTU19GVUxMU0NSRUVOX0VYSVQgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWZ1bGxzY3JlZW4tZXhpdFwiKTtcbiAgdmFyIENMQVNTX0hJREUgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWhpZGVcIik7XG4gIHZhciBDTEFTU19ISURFX01EX0RPV04gPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWhpZGUtbWQtZG93blwiKTtcbiAgdmFyIENMQVNTX0hJREVfU01fRE9XTiA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItaGlkZS1zbS1kb3duXCIpO1xuICB2YXIgQ0xBU1NfSElERV9YU19ET1dOID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1oaWRlLXhzLWRvd25cIik7XG4gIHZhciBDTEFTU19JTiA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItaW5cIik7XG4gIHZhciBDTEFTU19JTlZJU0lCTEUgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWludmlzaWJsZVwiKTtcbiAgdmFyIENMQVNTX0xPQURJTkcgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWxvYWRpbmdcIik7XG4gIHZhciBDTEFTU19NT1ZFID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1tb3ZlXCIpO1xuICB2YXIgQ0xBU1NfT1BFTiA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItb3BlblwiKTtcbiAgdmFyIENMQVNTX1NIT1cgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLXNob3dcIik7XG4gIHZhciBDTEFTU19UUkFOU0lUSU9OID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi10cmFuc2l0aW9uXCIpOyAvLyBOYXRpdmUgZXZlbnRzXG5cbiAgdmFyIEVWRU5UX0NMSUNLID0gJ2NsaWNrJztcbiAgdmFyIEVWRU5UX0RCTENMSUNLID0gJ2RibGNsaWNrJztcbiAgdmFyIEVWRU5UX0RSQUdfU1RBUlQgPSAnZHJhZ3N0YXJ0JztcbiAgdmFyIEVWRU5UX0ZPQ1VTSU4gPSAnZm9jdXNpbic7XG4gIHZhciBFVkVOVF9LRVlfRE9XTiA9ICdrZXlkb3duJztcbiAgdmFyIEVWRU5UX0xPQUQgPSAnbG9hZCc7XG4gIHZhciBFVkVOVF9FUlJPUiA9ICdlcnJvcic7XG4gIHZhciBFVkVOVF9UT1VDSF9FTkQgPSBJU19UT1VDSF9ERVZJQ0UgPyAndG91Y2hlbmQgdG91Y2hjYW5jZWwnIDogJ21vdXNldXAnO1xuICB2YXIgRVZFTlRfVE9VQ0hfTU9WRSA9IElTX1RPVUNIX0RFVklDRSA/ICd0b3VjaG1vdmUnIDogJ21vdXNlbW92ZSc7XG4gIHZhciBFVkVOVF9UT1VDSF9TVEFSVCA9IElTX1RPVUNIX0RFVklDRSA/ICd0b3VjaHN0YXJ0JyA6ICdtb3VzZWRvd24nO1xuICB2YXIgRVZFTlRfUE9JTlRFUl9ET1dOID0gSEFTX1BPSU5URVJfRVZFTlQgPyAncG9pbnRlcmRvd24nIDogRVZFTlRfVE9VQ0hfU1RBUlQ7XG4gIHZhciBFVkVOVF9QT0lOVEVSX01PVkUgPSBIQVNfUE9JTlRFUl9FVkVOVCA/ICdwb2ludGVybW92ZScgOiBFVkVOVF9UT1VDSF9NT1ZFO1xuICB2YXIgRVZFTlRfUE9JTlRFUl9VUCA9IEhBU19QT0lOVEVSX0VWRU5UID8gJ3BvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJyA6IEVWRU5UX1RPVUNIX0VORDtcbiAgdmFyIEVWRU5UX1JFU0laRSA9ICdyZXNpemUnO1xuICB2YXIgRVZFTlRfVFJBTlNJVElPTl9FTkQgPSAndHJhbnNpdGlvbmVuZCc7XG4gIHZhciBFVkVOVF9XSEVFTCA9ICd3aGVlbCc7IC8vIEN1c3RvbSBldmVudHNcblxuICB2YXIgRVZFTlRfUkVBRFkgPSAncmVhZHknO1xuICB2YXIgRVZFTlRfU0hPVyA9ICdzaG93JztcbiAgdmFyIEVWRU5UX1NIT1dOID0gJ3Nob3duJztcbiAgdmFyIEVWRU5UX0hJREUgPSAnaGlkZSc7XG4gIHZhciBFVkVOVF9ISURERU4gPSAnaGlkZGVuJztcbiAgdmFyIEVWRU5UX1ZJRVcgPSAndmlldyc7XG4gIHZhciBFVkVOVF9WSUVXRUQgPSAndmlld2VkJztcbiAgdmFyIEVWRU5UX01PVkUgPSAnbW92ZSc7XG4gIHZhciBFVkVOVF9NT1ZFRCA9ICdtb3ZlZCc7XG4gIHZhciBFVkVOVF9ST1RBVEUgPSAncm90YXRlJztcbiAgdmFyIEVWRU5UX1JPVEFURUQgPSAncm90YXRlZCc7XG4gIHZhciBFVkVOVF9TQ0FMRSA9ICdzY2FsZSc7XG4gIHZhciBFVkVOVF9TQ0FMRUQgPSAnc2NhbGVkJztcbiAgdmFyIEVWRU5UX1pPT00gPSAnem9vbSc7XG4gIHZhciBFVkVOVF9aT09NRUQgPSAnem9vbWVkJztcbiAgdmFyIEVWRU5UX1BMQVkgPSAncGxheSc7XG4gIHZhciBFVkVOVF9TVE9QID0gJ3N0b3AnOyAvLyBEYXRhIGtleXNcblxuICB2YXIgREFUQV9BQ1RJT04gPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiQWN0aW9uXCIpOyAvLyBSZWdFeHBzXG5cbiAgdmFyIFJFR0VYUF9TUEFDRVMgPSAvXFxzXFxzKi87IC8vIE1pc2NcblxuICB2YXIgQlVUVE9OUyA9IFsnem9vbS1pbicsICd6b29tLW91dCcsICdvbmUtdG8tb25lJywgJ3Jlc2V0JywgJ3ByZXYnLCAncGxheScsICduZXh0JywgJ3JvdGF0ZS1sZWZ0JywgJ3JvdGF0ZS1yaWdodCcsICdmbGlwLWhvcml6b250YWwnLCAnZmxpcC12ZXJ0aWNhbCddO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICovXG5cbiAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhIG51bWJlci5cbiAgICovXG5cbiAgdmFyIGlzTmFOID0gTnVtYmVyLmlzTmFOIHx8IFdJTkRPVy5pc05hTjtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG51bWJlci5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFpc05hTih2YWx1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgdW5kZWZpbmVkLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBvYmplY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIF90eXBlb2YodmFsdWUpID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbDtcbiAgfVxuICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB2YXIgX2NvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3I7XG4gICAgICB2YXIgcHJvdG90eXBlID0gX2NvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICAgIHJldHVybiBfY29uc3RydWN0b3IgJiYgcHJvdG90eXBlICYmIGhhc093blByb3BlcnR5LmNhbGwocHJvdG90eXBlLCAnaXNQcm90b3R5cGVPZicpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICB9XG4gIC8qKlxuICAgKiBJdGVyYXRlIHRoZSBnaXZlbiBkYXRhLlxuICAgKiBAcGFyYW0geyp9IGRhdGEgLSBUaGUgZGF0YSB0byBpdGVyYXRlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBwcm9jZXNzIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHsqfSBUaGUgb3JpZ2luYWwgZGF0YS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZm9yRWFjaChkYXRhLCBjYWxsYmFjaykge1xuICAgIGlmIChkYXRhICYmIGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSB8fCBpc051bWJlcihkYXRhLmxlbmd0aClcbiAgICAgIC8qIGFycmF5LWxpa2UgKi9cbiAgICAgICkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKGRhdGEsIGRhdGFbaV0sIGksIGRhdGEpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZGF0YSwgZGF0YVtrZXldLCBrZXksIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICAvKipcbiAgICogRXh0ZW5kIHRoZSBnaXZlbiBvYmplY3QuXG4gICAqIEBwYXJhbSB7Kn0gb2JqIC0gVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZC5cbiAgICogQHBhcmFtIHsqfSBhcmdzIC0gVGhlIHJlc3Qgb2JqZWN0cyB3aGljaCB3aWxsIGJlIG1lcmdlZCB0byB0aGUgZmlyc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZXh0ZW5kZWQgb2JqZWN0LlxuICAgKi9cblxuICB2YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBhc3NpZ24ob2JqKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0KG9iaikgJiYgYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgICAgICBpZiAoaXNPYmplY3QoYXJnKSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKGFyZykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGFyZ1trZXldO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuICB2YXIgUkVHRVhQX1NVRkZJWCA9IC9eKD86d2lkdGh8aGVpZ2h0fGxlZnR8dG9wfG1hcmdpbkxlZnR8bWFyZ2luVG9wKSQvO1xuICAvKipcbiAgICogQXBwbHkgc3R5bGVzIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZXMgLSBUaGUgc3R5bGVzIGZvciBhcHBseWluZy5cbiAgICovXG5cbiAgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgICBmb3JFYWNoKHN0eWxlcywgZnVuY3Rpb24gKHZhbHVlLCBwcm9wZXJ0eSkge1xuICAgICAgaWYgKFJFR0VYUF9TVUZGSVgudGVzdChwcm9wZXJ0eSkgJiYgaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlICs9ICdweCc7XG4gICAgICB9XG5cbiAgICAgIHN0eWxlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFc2NhcGUgYSBzdHJpbmcgZm9yIHVzaW5nIGluIEhUTUwuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSAtIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICovXG5cbiAgZnVuY3Rpb24gZXNjYXBlSFRNTEVudGl0aWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnJlcGxhY2UoLyYoPyFhbXA7fHF1b3Q7fCMzOTt8bHQ7fGd0OykvZywgJyZhbXA7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLnJlcGxhY2UoLycvZywgJyYjMzk7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKSA6IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBoYXMgYSBzcGVjaWFsIGNsYXNzLlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBjaGVjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGNsYXNzIHRvIHNlYXJjaC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBzcGVjaWFsIGNsYXNzIHdhcyBmb3VuZC5cbiAgICovXG5cbiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoIWVsZW1lbnQgfHwgIXZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnModmFsdWUpIDogZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZih2YWx1ZSkgPiAtMTtcbiAgfVxuICAvKipcbiAgICogQWRkIGNsYXNzZXMgdG8gdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGNsYXNzZXMgdG8gYmUgYWRkZWQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKCFlbGVtZW50IHx8ICF2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihlbGVtZW50Lmxlbmd0aCkpIHtcbiAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodmFsdWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS50cmltKCk7XG5cbiAgICBpZiAoIWNsYXNzTmFtZSkge1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZS5pbmRleE9mKHZhbHVlKSA8IDApIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJcIi5jb25jYXQoY2xhc3NOYW1lLCBcIiBcIikuY29uY2F0KHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBjbGFzc2VzIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGNsYXNzZXMgdG8gYmUgcmVtb3ZlZC5cbiAgICovXG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoIWVsZW1lbnQgfHwgIXZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKGVsZW1lbnQubGVuZ3RoKSkge1xuICAgICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICByZW1vdmVDbGFzcyhlbGVtLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YodmFsdWUpID49IDApIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSh2YWx1ZSwgJycpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkIG9yIHJlbW92ZSBjbGFzc2VzIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGNsYXNzZXMgdG8gYmUgdG9nZ2xlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBhZGRlZCAtIEFkZCBvbmx5LlxuICAgKi9cblxuICBmdW5jdGlvbiB0b2dnbGVDbGFzcyhlbGVtZW50LCB2YWx1ZSwgYWRkZWQpIHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKGVsZW1lbnQubGVuZ3RoKSkge1xuICAgICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB0b2dnbGVDbGFzcyhlbGVtLCB2YWx1ZSwgYWRkZWQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBJRTEwLTExIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgc2Vjb25kIHBhcmFtZXRlciBvZiBgY2xhc3NMaXN0LnRvZ2dsZWBcblxuXG4gICAgaWYgKGFkZGVkKSB7XG4gICAgICBhZGRDbGFzcyhlbGVtZW50LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgdmFyIFJFR0VYUF9IWVBIRU5BVEUgPSAvKFthLXpcXGRdKShbQS1aXSkvZztcbiAgLyoqXG4gICAqIFRyYW5zZm9ybSB0aGUgZ2l2ZW4gc3RyaW5nIGZyb20gY2FtZWxDYXNlIHRvIGtlYmFiLWNhc2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHRyYW5zZm9ybWVkIHZhbHVlLlxuICAgKi9cblxuICBmdW5jdGlvbiBoeXBoZW5hdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShSRUdFWFBfSFlQSEVOQVRFLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgZGF0YSBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIGRhdGEga2V5IHRvIGdldC5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGRhdGEgdmFsdWUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldERhdGEoZWxlbWVudCwgbmFtZSkge1xuICAgIGlmIChpc09iamVjdChlbGVtZW50W25hbWVdKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuZGF0YXNldCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuZGF0YXNldFtuYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiLmNvbmNhdChoeXBoZW5hdGUobmFtZSkpKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGRhdGEgdG8gdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgZGF0YSBrZXkgdG8gc2V0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAtIFRoZSBkYXRhIHZhbHVlLlxuICAgKi9cblxuICBmdW5jdGlvbiBzZXREYXRhKGVsZW1lbnQsIG5hbWUsIGRhdGEpIHtcbiAgICBpZiAoaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIGVsZW1lbnRbbmFtZV0gPSBkYXRhO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5kYXRhc2V0KSB7XG4gICAgICBlbGVtZW50LmRhdGFzZXRbbmFtZV0gPSBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtXCIuY29uY2F0KGh5cGhlbmF0ZShuYW1lKSksIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvbmNlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdXBwb3J0ZWQgPSBmYWxzZTtcblxuICAgIGlmIChJU19CUk9XU0VSKSB7XG4gICAgICB2YXIgb25jZSA9IGZhbHNlO1xuXG4gICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcigpIHt9O1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ29uY2UnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIG9uY2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0dGVyIGNhbiBmaXggYSBgVHlwZUVycm9yYCBpbiBzdHJpY3QgbW9kZVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRXJyb3JzL0dldHRlcl9vbmx5fVxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICBvbmNlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgV0lORE9XLmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICBXSU5ET1cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xuICB9KCk7XG4gIC8qKlxuICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBldmVudCB0YXJnZXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGV2ZW50IHR5cGUocykuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIC0gVGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBldmVudCBvcHRpb25zLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIHZhciBoYW5kbGVyID0gbGlzdGVuZXI7XG4gICAgdHlwZS50cmltKCkuc3BsaXQoUkVHRVhQX1NQQUNFUykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghb25jZVN1cHBvcnRlZCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gZWxlbWVudC5saXN0ZW5lcnM7XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnNbZXZlbnRdICYmIGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdKSB7XG4gICAgICAgICAgaGFuZGxlciA9IGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdO1xuICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXTtcblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhsaXN0ZW5lcnNbZXZlbnRdKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhsaXN0ZW5lcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQubGlzdGVuZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZXZlbnQgdGFyZ2V0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBldmVudCB0eXBlKHMpLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBldmVudCBsaXN0ZW5lci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgZXZlbnQgb3B0aW9ucy5cbiAgICovXG5cbiAgZnVuY3Rpb24gYWRkTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgdmFyIF9oYW5kbGVyID0gbGlzdGVuZXI7XG4gICAgdHlwZS50cmltKCkuc3BsaXQoUkVHRVhQX1NQQUNFUykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChvcHRpb25zLm9uY2UgJiYgIW9uY2VTdXBwb3J0ZWQpIHtcbiAgICAgICAgdmFyIF9lbGVtZW50JGxpc3RlbmVycyA9IGVsZW1lbnQubGlzdGVuZXJzLFxuICAgICAgICAgICAgbGlzdGVuZXJzID0gX2VsZW1lbnQkbGlzdGVuZXJzID09PSB2b2lkIDAgPyB7fSA6IF9lbGVtZW50JGxpc3RlbmVycztcblxuICAgICAgICBfaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgZGVsZXRlIGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgX2hhbmRsZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXIuYXBwbHkoZWxlbWVudCwgYXJncyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFsaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXSA9IF9oYW5kbGVyO1xuICAgICAgICBlbGVtZW50Lmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBfaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc3BhdGNoIGV2ZW50IG9uIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHRhcmdldC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZXZlbnQgdHlwZShzKS5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgYWRkaXRpb25hbCBldmVudCBkYXRhLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBhZGRpdGlvbmFsIGV2ZW50IG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBJbmRpY2F0ZSBpZiB0aGUgZXZlbnQgaXMgZGVmYXVsdCBwcmV2ZW50ZWQgb3Igbm90LlxuICAgKi9cblxuICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIHR5cGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICB2YXIgZXZlbnQ7IC8vIEV2ZW50IGFuZCBDdXN0b21FdmVudCBvbiBJRTktMTEgYXJlIGdsb2JhbCBvYmplY3RzLCBub3QgY29uc3RydWN0b3JzXG5cbiAgICBpZiAoaXNGdW5jdGlvbihFdmVudCkgJiYgaXNGdW5jdGlvbihDdXN0b21FdmVudCkpIHtcbiAgICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIF9vYmplY3RTcHJlYWQyKHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgZGV0YWlsOiBkYXRhXG4gICAgICB9LCBvcHRpb25zKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgb2Zmc2V0IGJhc2Ugb24gdGhlIGRvY3VtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvZmZzZXQgZGF0YS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0T2Zmc2V0KGVsZW1lbnQpIHtcbiAgICB2YXIgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogYm94LmxlZnQgKyAod2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQpLFxuICAgICAgdG9wOiBib3gudG9wICsgKHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3ApXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRyYW5zZm9ybXMgYmFzZSBvbiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gVGhlIHRhcmdldCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5nIGNvbnRhaW5zIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFRyYW5zZm9ybXMoX3JlZikge1xuICAgIHZhciByb3RhdGUgPSBfcmVmLnJvdGF0ZSxcbiAgICAgICAgc2NhbGVYID0gX3JlZi5zY2FsZVgsXG4gICAgICAgIHNjYWxlWSA9IF9yZWYuc2NhbGVZLFxuICAgICAgICB0cmFuc2xhdGVYID0gX3JlZi50cmFuc2xhdGVYLFxuICAgICAgICB0cmFuc2xhdGVZID0gX3JlZi50cmFuc2xhdGVZO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmIChpc051bWJlcih0cmFuc2xhdGVYKSAmJiB0cmFuc2xhdGVYICE9PSAwKSB7XG4gICAgICB2YWx1ZXMucHVzaChcInRyYW5zbGF0ZVgoXCIuY29uY2F0KHRyYW5zbGF0ZVgsIFwicHgpXCIpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIodHJhbnNsYXRlWSkgJiYgdHJhbnNsYXRlWSAhPT0gMCkge1xuICAgICAgdmFsdWVzLnB1c2goXCJ0cmFuc2xhdGVZKFwiLmNvbmNhdCh0cmFuc2xhdGVZLCBcInB4KVwiKSk7XG4gICAgfSAvLyBSb3RhdGUgc2hvdWxkIGNvbWUgZmlyc3QgYmVmb3JlIHNjYWxlIHRvIG1hdGNoIG9yaWVudGF0aW9uIHRyYW5zZm9ybVxuXG5cbiAgICBpZiAoaXNOdW1iZXIocm90YXRlKSAmJiByb3RhdGUgIT09IDApIHtcbiAgICAgIHZhbHVlcy5wdXNoKFwicm90YXRlKFwiLmNvbmNhdChyb3RhdGUsIFwiZGVnKVwiKSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKHNjYWxlWCkgJiYgc2NhbGVYICE9PSAxKSB7XG4gICAgICB2YWx1ZXMucHVzaChcInNjYWxlWChcIi5jb25jYXQoc2NhbGVYLCBcIilcIikpO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihzY2FsZVkpICYmIHNjYWxlWSAhPT0gMSkge1xuICAgICAgdmFsdWVzLnB1c2goXCJzY2FsZVkoXCIuY29uY2F0KHNjYWxlWSwgXCIpXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgdHJhbnNmb3JtID0gdmFsdWVzLmxlbmd0aCA/IHZhbHVlcy5qb2luKCcgJykgOiAnbm9uZSc7XG4gICAgcmV0dXJuIHtcbiAgICAgIFdlYmtpdFRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgbXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFuIGltYWdlIG5hbWUgZnJvbSBhbiBpbWFnZSB1cmwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdGFyZ2V0IHVybC5cbiAgICogQGV4YW1wbGVcbiAgICogLy8gcGljdHVyZS5qcGdcbiAgICogZ2V0SW1hZ2VOYW1lRnJvbVVSTCgnaHR0cHM6Ly9kb21haW4uY29tL3BhdGgvdG8vcGljdHVyZS5qcGc/c2l6ZT0xMjgww5c5NjAnKVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyBjb250YWlucyB0aGUgaW1hZ2UgbmFtZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0SW1hZ2VOYW1lRnJvbVVSTCh1cmwpIHtcbiAgICByZXR1cm4gaXNTdHJpbmcodXJsKSA/IGRlY29kZVVSSUNvbXBvbmVudCh1cmwucmVwbGFjZSgvXi4qXFwvLywgJycpLnJlcGxhY2UoL1s/JiNdLiokLywgJycpKSA6ICcnO1xuICB9XG4gIHZhciBJU19TQUZBUkkgPSBXSU5ET1cubmF2aWdhdG9yICYmIC8oTWFjaW50b3NofGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdC9pLnRlc3QoV0lORE9XLm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAvKipcbiAgICogR2V0IGFuIGltYWdlJ3MgbmF0dXJhbCBzaXplcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlIC0gVGhlIHRhcmdldCBpbWFnZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgdmlld2VyIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7SFRNTEltYWdlRWxlbWVudH0gVGhlIG5ldyBpbWFnZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0SW1hZ2VOYXR1cmFsU2l6ZXMoaW1hZ2UsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG5ld0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7IC8vIE1vZGVybiBicm93c2VycyAoZXhjZXB0IFNhZmFyaSlcblxuICAgIGlmIChpbWFnZS5uYXR1cmFsV2lkdGggJiYgIUlTX1NBRkFSSSkge1xuICAgICAgY2FsbGJhY2soaW1hZ2UubmF0dXJhbFdpZHRoLCBpbWFnZS5uYXR1cmFsSGVpZ2h0KTtcbiAgICAgIHJldHVybiBuZXdJbWFnZTtcbiAgICB9XG5cbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgbmV3SW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobmV3SW1hZ2Uud2lkdGgsIG5ld0ltYWdlLmhlaWdodCk7XG5cbiAgICAgIGlmICghSVNfU0FGQVJJKSB7XG4gICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQobmV3SW1hZ2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3JFYWNoKG9wdGlvbnMuaW5oZXJpdGVkQXR0cmlidXRlcywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGltYWdlLmdldEF0dHJpYnV0ZShuYW1lKTtcblxuICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIG5ld0ltYWdlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3SW1hZ2Uuc3JjID0gaW1hZ2Uuc3JjOyAvLyBpT1MgU2FmYXJpIHdpbGwgY29udmVydCB0aGUgaW1hZ2UgYXV0b21hdGljYWxseVxuICAgIC8vIHdpdGggaXRzIG9yaWVudGF0aW9uIG9uY2UgYXBwZW5kIGl0IGludG8gRE9NXG5cbiAgICBpZiAoIUlTX1NBRkFSSSkge1xuICAgICAgbmV3SW1hZ2Uuc3R5bGUuY3NzVGV4dCA9ICdsZWZ0OjA7JyArICdtYXgtaGVpZ2h0Om5vbmUhaW1wb3J0YW50OycgKyAnbWF4LXdpZHRoOm5vbmUhaW1wb3J0YW50OycgKyAnbWluLWhlaWdodDowIWltcG9ydGFudDsnICsgJ21pbi13aWR0aDowIWltcG9ydGFudDsnICsgJ29wYWNpdHk6MDsnICsgJ3Bvc2l0aW9uOmFic29sdXRlOycgKyAndG9wOjA7JyArICd6LWluZGV4Oi0xOyc7XG4gICAgICBib2R5LmFwcGVuZENoaWxkKG5ld0ltYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3SW1hZ2U7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVsYXRlZCBjbGFzcyBuYW1lIG9mIGEgcmVzcG9uc2l2ZSB0eXBlIG51bWJlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgcmVzcG9uc2l2ZSB0eXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVsYXRlZCBjbGFzcyBuYW1lLlxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRSZXNwb25zaXZlQ2xhc3ModHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gQ0xBU1NfSElERV9YU19ET1dOO1xuXG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBDTEFTU19ISURFX1NNX0RPV047XG5cbiAgICAgIGNhc2UgNDpcbiAgICAgICAgcmV0dXJuIENMQVNTX0hJREVfTURfRE9XTjtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBtYXggcmF0aW8gb2YgYSBncm91cCBvZiBwb2ludGVycy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvaW50ZXJzIC0gVGhlIHRhcmdldCBwb2ludGVycy5cbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHJlc3VsdCByYXRpby5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0TWF4Wm9vbVJhdGlvKHBvaW50ZXJzKSB7XG4gICAgdmFyIHBvaW50ZXJzMiA9IF9vYmplY3RTcHJlYWQyKHt9LCBwb2ludGVycyk7XG5cbiAgICB2YXIgcmF0aW9zID0gW107XG4gICAgZm9yRWFjaChwb2ludGVycywgZnVuY3Rpb24gKHBvaW50ZXIsIHBvaW50ZXJJZCkge1xuICAgICAgZGVsZXRlIHBvaW50ZXJzMltwb2ludGVySWRdO1xuICAgICAgZm9yRWFjaChwb2ludGVyczIsIGZ1bmN0aW9uIChwb2ludGVyMikge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLmFicyhwb2ludGVyLnN0YXJ0WCAtIHBvaW50ZXIyLnN0YXJ0WCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGguYWJzKHBvaW50ZXIuc3RhcnRZIC0gcG9pbnRlcjIuc3RhcnRZKTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5hYnMocG9pbnRlci5lbmRYIC0gcG9pbnRlcjIuZW5kWCk7XG4gICAgICAgIHZhciB5MiA9IE1hdGguYWJzKHBvaW50ZXIuZW5kWSAtIHBvaW50ZXIyLmVuZFkpO1xuICAgICAgICB2YXIgejEgPSBNYXRoLnNxcnQoeDEgKiB4MSArIHkxICogeTEpO1xuICAgICAgICB2YXIgejIgPSBNYXRoLnNxcnQoeDIgKiB4MiArIHkyICogeTIpO1xuICAgICAgICB2YXIgcmF0aW8gPSAoejIgLSB6MSkgLyB6MTtcbiAgICAgICAgcmF0aW9zLnB1c2gocmF0aW8pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmF0aW9zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyhhKSA8IE1hdGguYWJzKGIpO1xuICAgIH0pO1xuICAgIHJldHVybiByYXRpb3NbMF07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHBvaW50ZXIgZnJvbSBhbiBldmVudCBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIFRoZSB0YXJnZXQgZXZlbnQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuZE9ubHkgLSBJbmRpY2F0ZXMgaWYgb25seSByZXR1cm5zIHRoZSBlbmQgcG9pbnQgY29vcmRpbmF0ZSBvciBub3QuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHQgcG9pbnRlciBjb250YWlucyBzdGFydCBhbmQvb3IgZW5kIHBvaW50IGNvb3JkaW5hdGVzLlxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRQb2ludGVyKF9yZWYyLCBlbmRPbmx5KSB7XG4gICAgdmFyIHBhZ2VYID0gX3JlZjIucGFnZVgsXG4gICAgICAgIHBhZ2VZID0gX3JlZjIucGFnZVk7XG4gICAgdmFyIGVuZCA9IHtcbiAgICAgIGVuZFg6IHBhZ2VYLFxuICAgICAgZW5kWTogcGFnZVlcbiAgICB9O1xuICAgIHJldHVybiBlbmRPbmx5ID8gZW5kIDogX29iamVjdFNwcmVhZDIoe1xuICAgICAgdGltZVN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgIHN0YXJ0WTogcGFnZVlcbiAgICB9LCBlbmQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNlbnRlciBwb2ludCBjb29yZGluYXRlIG9mIGEgZ3JvdXAgb2YgcG9pbnRlcnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVycyAtIFRoZSB0YXJnZXQgcG9pbnRlcnMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBjZW50ZXIgcG9pbnQgY29vcmRpbmF0ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRlcnNDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcGFnZVggPSAwO1xuICAgIHZhciBwYWdlWSA9IDA7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICBmb3JFYWNoKHBvaW50ZXJzLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgIHZhciBzdGFydFggPSBfcmVmMy5zdGFydFgsXG4gICAgICAgICAgc3RhcnRZID0gX3JlZjMuc3RhcnRZO1xuICAgICAgcGFnZVggKz0gc3RhcnRYO1xuICAgICAgcGFnZVkgKz0gc3RhcnRZO1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9KTtcbiAgICBwYWdlWCAvPSBjb3VudDtcbiAgICBwYWdlWSAvPSBjb3VudDtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZVg6IHBhZ2VYLFxuICAgICAgcGFnZVk6IHBhZ2VZXG4gICAgfTtcbiAgfVxuXG4gIHZhciByZW5kZXIgPSB7XG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB0aGlzLmluaXRDb250YWluZXIoKTtcbiAgICAgIHRoaXMuaW5pdFZpZXdlcigpO1xuICAgICAgdGhpcy5pbml0TGlzdCgpO1xuICAgICAgdGhpcy5yZW5kZXJWaWV3ZXIoKTtcbiAgICB9LFxuICAgIGluaXRCb2R5OiBmdW5jdGlvbiBpbml0Qm9keSgpIHtcbiAgICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICB2YXIgYm9keSA9IG93bmVyRG9jdW1lbnQuYm9keSB8fCBvd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBvd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgIHRoaXMuaW5pdGlhbEJvZHlQYWRkaW5nUmlnaHQgPSBib2R5LnN0eWxlLnBhZGRpbmdSaWdodDtcbiAgICAgIHRoaXMuaW5pdGlhbEJvZHlDb21wdXRlZFBhZGRpbmdSaWdodCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGJvZHkpLnBhZGRpbmdSaWdodDtcbiAgICB9LFxuICAgIGluaXRDb250YWluZXI6IGZ1bmN0aW9uIGluaXRDb250YWluZXIoKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lckRhdGEgPSB7XG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgIH07XG4gICAgfSxcbiAgICBpbml0Vmlld2VyOiBmdW5jdGlvbiBpbml0Vmlld2VyKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICB2YXIgdmlld2VyRGF0YTtcblxuICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgIHZpZXdlckRhdGEgPSB7XG4gICAgICAgICAgd2lkdGg6IE1hdGgubWF4KHBhcmVudC5vZmZzZXRXaWR0aCwgb3B0aW9ucy5taW5XaWR0aCksXG4gICAgICAgICAgaGVpZ2h0OiBNYXRoLm1heChwYXJlbnQub2Zmc2V0SGVpZ2h0LCBvcHRpb25zLm1pbkhlaWdodClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wYXJlbnREYXRhID0gdmlld2VyRGF0YTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZnVsbGVkIHx8ICF2aWV3ZXJEYXRhKSB7XG4gICAgICAgIHZpZXdlckRhdGEgPSB0aGlzLmNvbnRhaW5lckRhdGE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudmlld2VyRGF0YSA9IGFzc2lnbih7fSwgdmlld2VyRGF0YSk7XG4gICAgfSxcbiAgICByZW5kZXJWaWV3ZXI6IGZ1bmN0aW9uIHJlbmRlclZpZXdlcigpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5saW5lICYmICF0aGlzLmZ1bGxlZCkge1xuICAgICAgICBzZXRTdHlsZSh0aGlzLnZpZXdlciwgdGhpcy52aWV3ZXJEYXRhKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGluaXRMaXN0OiBmdW5jdGlvbiBpbml0TGlzdCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgbGlzdCA9IHRoaXMubGlzdDtcbiAgICAgIHZhciBpdGVtcyA9IFtdOyAvLyBpbml0TGlzdCBtYXkgYmUgY2FsbGVkIGluIHRoaXMudXBkYXRlLCBzbyBzaG91bGQga2VlcCBpZGVtcG90ZW50XG5cbiAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBmb3JFYWNoKHRoaXMuaW1hZ2VzLCBmdW5jdGlvbiAoaW1hZ2UsIGluZGV4KSB7XG4gICAgICAgIHZhciBzcmMgPSBpbWFnZS5zcmM7XG4gICAgICAgIHZhciBhbHQgPSBpbWFnZS5hbHQgfHwgZ2V0SW1hZ2VOYW1lRnJvbVVSTChzcmMpO1xuXG4gICAgICAgIHZhciB1cmwgPSBfdGhpcy5nZXRJbWFnZVVSTChpbWFnZSk7XG5cbiAgICAgICAgaWYgKHNyYyB8fCB1cmwpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgIGZvckVhY2gob3B0aW9ucy5pbmhlcml0ZWRBdHRyaWJ1dGVzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gaW1hZ2UuZ2V0QXR0cmlidXRlKG5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW1nLnNyYyA9IHNyYyB8fCB1cmw7XG4gICAgICAgICAgaW1nLmFsdCA9IGFsdDtcbiAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXVybCcsIHVybCB8fCBzcmMpO1xuICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgaW5kZXgpO1xuICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXZpZXdlci1hY3Rpb24nLCAndmlldycpO1xuICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICAgICAgZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGltYWdlID0gaXRlbS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgdmFyIG9uTG9hZDtcbiAgICAgICAgdmFyIG9uRXJyb3I7XG4gICAgICAgIHNldERhdGEoaW1hZ2UsICdmaWxsZWQnLCB0cnVlKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5sb2FkaW5nKSB7XG4gICAgICAgICAgYWRkQ2xhc3MoaXRlbSwgQ0xBU1NfTE9BRElORyk7XG4gICAgICAgIH1cblxuICAgICAgICBhZGRMaXN0ZW5lcihpbWFnZSwgRVZFTlRfTE9BRCwgb25Mb2FkID0gZnVuY3Rpb24gb25Mb2FkKGV2ZW50KSB7XG4gICAgICAgICAgcmVtb3ZlTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX0VSUk9SLCBvbkVycm9yKTtcblxuICAgICAgICAgIGlmIChvcHRpb25zLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGl0ZW0sIENMQVNTX0xPQURJTkcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmxvYWRJbWFnZShldmVudCk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBhZGRMaXN0ZW5lcihpbWFnZSwgRVZFTlRfRVJST1IsIG9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBvbkxvYWQpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMubG9hZGluZykge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgQ0xBU1NfTE9BRElORyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1ZJRVdFRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFkZENsYXNzKGxpc3QsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlckxpc3Q6IGZ1bmN0aW9uIHJlbmRlckxpc3QoKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2luZGV4XTtcblxuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5leHQgPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIHZhciBndXR0ZXIgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuZXh0IHx8IGl0ZW0pLm1hcmdpbkxlZnQsIDEwKTtcbiAgICAgIHZhciBvZmZzZXRXaWR0aCA9IGl0ZW0ub2Zmc2V0V2lkdGg7XG4gICAgICB2YXIgb3V0ZXJXaWR0aCA9IG9mZnNldFdpZHRoICsgZ3V0dGVyOyAvLyBQbGFjZSB0aGUgYWN0aXZlIGl0ZW0gaW4gdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuXG5cbiAgICAgIHNldFN0eWxlKHRoaXMubGlzdCwgYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IG91dGVyV2lkdGggKiB0aGlzLmxlbmd0aCAtIGd1dHRlclxuICAgICAgfSwgZ2V0VHJhbnNmb3Jtcyh7XG4gICAgICAgIHRyYW5zbGF0ZVg6ICh0aGlzLnZpZXdlckRhdGEud2lkdGggLSBvZmZzZXRXaWR0aCkgLyAyIC0gb3V0ZXJXaWR0aCAqIGluZGV4XG4gICAgICB9KSkpO1xuICAgIH0sXG4gICAgcmVzZXRMaXN0OiBmdW5jdGlvbiByZXNldExpc3QoKSB7XG4gICAgICB2YXIgbGlzdCA9IHRoaXMubGlzdDtcbiAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICByZW1vdmVDbGFzcyhsaXN0LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgIHNldFN0eWxlKGxpc3QsIGdldFRyYW5zZm9ybXMoe1xuICAgICAgICB0cmFuc2xhdGVYOiAwXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBpbml0SW1hZ2U6IGZ1bmN0aW9uIGluaXRJbWFnZShkb25lKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIHZpZXdlckRhdGEgPSB0aGlzLnZpZXdlckRhdGE7XG4gICAgICB2YXIgZm9vdGVySGVpZ2h0ID0gdGhpcy5mb290ZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgdmFyIHZpZXdlcldpZHRoID0gdmlld2VyRGF0YS53aWR0aDtcbiAgICAgIHZhciB2aWV3ZXJIZWlnaHQgPSBNYXRoLm1heCh2aWV3ZXJEYXRhLmhlaWdodCAtIGZvb3RlckhlaWdodCwgZm9vdGVySGVpZ2h0KTtcbiAgICAgIHZhciBvbGRJbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YSB8fCB7fTtcbiAgICAgIHZhciBzaXppbmdJbWFnZTtcbiAgICAgIHRoaXMuaW1hZ2VJbml0aWFsaXppbmcgPSB7XG4gICAgICAgIGFib3J0OiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgICAgICBzaXppbmdJbWFnZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2l6aW5nSW1hZ2UgPSBnZXRJbWFnZU5hdHVyYWxTaXplcyhpbWFnZSwgb3B0aW9ucywgZnVuY3Rpb24gKG5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodCkge1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBuYXR1cmFsV2lkdGggLyBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSB2aWV3ZXJXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHZpZXdlckhlaWdodDtcbiAgICAgICAgX3RoaXMyLmltYWdlSW5pdGlhbGl6aW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHZpZXdlckhlaWdodCAqIGFzcGVjdFJhdGlvID4gdmlld2VyV2lkdGgpIHtcbiAgICAgICAgICBoZWlnaHQgPSB2aWV3ZXJXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpZHRoID0gdmlld2VySGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICB3aWR0aCA9IE1hdGgubWluKHdpZHRoICogMC45LCBuYXR1cmFsV2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLm1pbihoZWlnaHQgKiAwLjksIG5hdHVyYWxIZWlnaHQpO1xuICAgICAgICB2YXIgbGVmdCA9ICh2aWV3ZXJXaWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgIHZhciB0b3AgPSAodmlld2VySGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgIHZhciBpbWFnZURhdGEgPSB7XG4gICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICB4OiBsZWZ0LFxuICAgICAgICAgIHk6IHRvcCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgb2xkUmF0aW86IDEsXG4gICAgICAgICAgcmF0aW86IHdpZHRoIC8gbmF0dXJhbFdpZHRoLFxuICAgICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgICBuYXR1cmFsV2lkdGg6IG5hdHVyYWxXaWR0aCxcbiAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBuYXR1cmFsSGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIHZhciBpbml0aWFsSW1hZ2VEYXRhID0gYXNzaWduKHt9LCBpbWFnZURhdGEpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgICAgIGltYWdlRGF0YS5yb3RhdGUgPSBvbGRJbWFnZURhdGEucm90YXRlIHx8IDA7XG4gICAgICAgICAgaW5pdGlhbEltYWdlRGF0YS5yb3RhdGUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGFibGUpIHtcbiAgICAgICAgICBpbWFnZURhdGEuc2NhbGVYID0gb2xkSW1hZ2VEYXRhLnNjYWxlWCB8fCAxO1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVkgPSBvbGRJbWFnZURhdGEuc2NhbGVZIHx8IDE7XG4gICAgICAgICAgaW5pdGlhbEltYWdlRGF0YS5zY2FsZVggPSAxO1xuICAgICAgICAgIGluaXRpYWxJbWFnZURhdGEuc2NhbGVZID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5pbWFnZURhdGEgPSBpbWFnZURhdGE7XG4gICAgICAgIF90aGlzMi5pbml0aWFsSW1hZ2VEYXRhID0gaW5pdGlhbEltYWdlRGF0YTtcblxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICByZW5kZXJJbWFnZTogZnVuY3Rpb24gcmVuZGVySW1hZ2UoZG9uZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG4gICAgICBzZXRTdHlsZShpbWFnZSwgYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICAvLyBYWFg6IE5vdCB0byB1c2UgdHJhbnNsYXRlWC9ZIHRvIGF2b2lkIGltYWdlIHNoYWtpbmcgd2hlbiB6b29taW5nXG4gICAgICAgIG1hcmdpbkxlZnQ6IGltYWdlRGF0YS54LFxuICAgICAgICBtYXJnaW5Ub3A6IGltYWdlRGF0YS55XG4gICAgICB9LCBnZXRUcmFuc2Zvcm1zKGltYWdlRGF0YSkpKTtcblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgaWYgKCh0aGlzLnZpZXdpbmcgfHwgdGhpcy5tb3ZpbmcgfHwgdGhpcy5yb3RhdGluZyB8fCB0aGlzLnNjYWxpbmcgfHwgdGhpcy56b29taW5nKSAmJiB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiAmJiBoYXNDbGFzcyhpbWFnZSwgQ0xBU1NfVFJBTlNJVElPTikpIHtcbiAgICAgICAgICB2YXIgb25UcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkge1xuICAgICAgICAgICAgX3RoaXMzLmltYWdlUmVuZGVyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRoaXMuaW1hZ2VSZW5kZXJpbmcgPSB7XG4gICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGltYWdlLCBFVkVOVF9UUkFOU0lUSU9OX0VORCwgb25UcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9UUkFOU0lUSU9OX0VORCwgb25UcmFuc2l0aW9uRW5kLCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZXNldEltYWdlOiBmdW5jdGlvbiByZXNldEltYWdlKCkge1xuICAgICAgLy8gdGhpcy5pbWFnZSBvbmx5IGRlZmluZWQgYWZ0ZXIgdmlld2VkXG4gICAgICBpZiAodGhpcy52aWV3aW5nIHx8IHRoaXMudmlld2VkKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2luZykge1xuICAgICAgICAgIHRoaXMudmlld2luZy5hYm9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbWFnZSk7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgZXZlbnRzID0ge1xuICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB2aWV3ZXIgPSB0aGlzLnZpZXdlcixcbiAgICAgICAgICBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50O1xuICAgICAgYWRkTGlzdGVuZXIodmlld2VyLCBFVkVOVF9DTElDSywgdGhpcy5vbkNsaWNrID0gdGhpcy5jbGljay5iaW5kKHRoaXMpKTtcbiAgICAgIGFkZExpc3RlbmVyKHZpZXdlciwgRVZFTlRfRFJBR19TVEFSVCwgdGhpcy5vbkRyYWdTdGFydCA9IHRoaXMuZHJhZ3N0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgYWRkTGlzdGVuZXIoY2FudmFzLCBFVkVOVF9QT0lOVEVSX0RPV04sIHRoaXMub25Qb2ludGVyRG93biA9IHRoaXMucG9pbnRlcmRvd24uYmluZCh0aGlzKSk7XG4gICAgICBhZGRMaXN0ZW5lcihkb2N1bWVudCwgRVZFTlRfUE9JTlRFUl9NT1ZFLCB0aGlzLm9uUG9pbnRlck1vdmUgPSB0aGlzLnBvaW50ZXJtb3ZlLmJpbmQodGhpcykpO1xuICAgICAgYWRkTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX1BPSU5URVJfVVAsIHRoaXMub25Qb2ludGVyVXAgPSB0aGlzLnBvaW50ZXJ1cC5iaW5kKHRoaXMpKTtcbiAgICAgIGFkZExpc3RlbmVyKGRvY3VtZW50LCBFVkVOVF9LRVlfRE9XTiwgdGhpcy5vbktleURvd24gPSB0aGlzLmtleWRvd24uYmluZCh0aGlzKSk7XG4gICAgICBhZGRMaXN0ZW5lcih3aW5kb3csIEVWRU5UX1JFU0laRSwgdGhpcy5vblJlc2l6ZSA9IHRoaXMucmVzaXplLmJpbmQodGhpcykpO1xuXG4gICAgICBpZiAob3B0aW9ucy56b29tYWJsZSAmJiBvcHRpb25zLnpvb21PbldoZWVsKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKHZpZXdlciwgRVZFTlRfV0hFRUwsIHRoaXMub25XaGVlbCA9IHRoaXMud2hlZWwuYmluZCh0aGlzKSwge1xuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnRvZ2dsZU9uRGJsY2xpY2spIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoY2FudmFzLCBFVkVOVF9EQkxDTElDSywgdGhpcy5vbkRibGNsaWNrID0gdGhpcy5kYmxjbGljay5iaW5kKHRoaXMpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgdmlld2VyID0gdGhpcy52aWV3ZXIsXG4gICAgICAgICAgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICB2YXIgZG9jdW1lbnQgPSB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKHZpZXdlciwgRVZFTlRfQ0xJQ0ssIHRoaXMub25DbGljayk7XG4gICAgICByZW1vdmVMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX0RSQUdfU1RBUlQsIHRoaXMub25EcmFnU3RhcnQpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoY2FudmFzLCBFVkVOVF9QT0lOVEVSX0RPV04sIHRoaXMub25Qb2ludGVyRG93bik7XG4gICAgICByZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwgRVZFTlRfUE9JTlRFUl9NT1ZFLCB0aGlzLm9uUG9pbnRlck1vdmUpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX1BPSU5URVJfVVAsIHRoaXMub25Qb2ludGVyVXApO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX0tFWV9ET1dOLCB0aGlzLm9uS2V5RG93bik7XG4gICAgICByZW1vdmVMaXN0ZW5lcih3aW5kb3csIEVWRU5UX1JFU0laRSwgdGhpcy5vblJlc2l6ZSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnpvb21hYmxlICYmIG9wdGlvbnMuem9vbU9uV2hlZWwpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIodmlld2VyLCBFVkVOVF9XSEVFTCwgdGhpcy5vbldoZWVsLCB7XG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMudG9nZ2xlT25EYmxjbGljaykge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihjYW52YXMsIEVWRU5UX0RCTENMSUNLLCB0aGlzLm9uRGJsY2xpY2spO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlcnMgPSB7XG4gICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGV2ZW50KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTtcbiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICB2YXIgYWN0aW9uID0gZ2V0RGF0YSh0YXJnZXQsIERBVEFfQUNUSU9OKTtcblxuICAgICAgaWYgKCFhY3Rpb24gJiYgdGFyZ2V0LmxvY2FsTmFtZSA9PT0gJ2ltZycgJiYgdGFyZ2V0LnBhcmVudEVsZW1lbnQubG9jYWxOYW1lID09PSAnbGknKSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBhY3Rpb24gPSBnZXREYXRhKHRhcmdldCwgREFUQV9BQ1RJT04pO1xuICAgICAgfSAvLyBDYW5jZWwgdGhlIGVtdWxhdGVkIGNsaWNrIHdoZW4gdGhlIG5hdGl2ZSBjbGljayBldmVudCB3YXMgdHJpZ2dlcmVkLlxuXG5cbiAgICAgIGlmIChJU19UT1VDSF9ERVZJQ0UgJiYgZXZlbnQuaXNUcnVzdGVkICYmIHRhcmdldCA9PT0gdGhpcy5jYW52YXMpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tDYW52YXNUaW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSAnbWl4JzpcbiAgICAgICAgICBpZiAodGhpcy5wbGF5ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZ1bGxlZCkge1xuICAgICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZnVsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdoaWRlJzpcbiAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd2aWV3JzpcbiAgICAgICAgICB0aGlzLnZpZXcoZ2V0RGF0YSh0YXJnZXQsICdpbmRleCcpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd6b29tLWluJzpcbiAgICAgICAgICB0aGlzLnpvb20oMC4xLCB0cnVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd6b29tLW91dCc6XG4gICAgICAgICAgdGhpcy56b29tKC0wLjEsIHRydWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ29uZS10by1vbmUnOlxuICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdwcmV2JzpcbiAgICAgICAgICB0aGlzLnByZXYob3B0aW9ucy5sb29wKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdwbGF5JzpcbiAgICAgICAgICB0aGlzLnBsYXkob3B0aW9ucy5mdWxsc2NyZWVuKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgICB0aGlzLm5leHQob3B0aW9ucy5sb29wKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyb3RhdGUtbGVmdCc6XG4gICAgICAgICAgdGhpcy5yb3RhdGUoLTkwKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyb3RhdGUtcmlnaHQnOlxuICAgICAgICAgIHRoaXMucm90YXRlKDkwKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmbGlwLWhvcml6b250YWwnOlxuICAgICAgICAgIHRoaXMuc2NhbGVYKC1pbWFnZURhdGEuc2NhbGVYIHx8IC0xKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmbGlwLXZlcnRpY2FsJzpcbiAgICAgICAgICB0aGlzLnNjYWxlWSgtaW1hZ2VEYXRhLnNjYWxlWSB8fCAtMSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAodGhpcy5wbGF5ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgIH1cblxuICAgICAgfVxuICAgIH0sXG4gICAgZGJsY2xpY2s6IGZ1bmN0aW9uIGRibGNsaWNrKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAodGhpcy52aWV3ZWQgJiYgZXZlbnQudGFyZ2V0ID09PSB0aGlzLmltYWdlKSB7XG4gICAgICAgIC8vIENhbmNlbCB0aGUgZW11bGF0ZWQgZG91YmxlIGNsaWNrIHdoZW4gdGhlIG5hdGl2ZSBkYmxjbGljayBldmVudCB3YXMgdHJpZ2dlcmVkLlxuICAgICAgICBpZiAoSVNfVE9VQ0hfREVWSUNFICYmIGV2ZW50LmlzVHJ1c3RlZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRvdWJsZUNsaWNrSW1hZ2VUaW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudG9nZ2xlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgaW5kZXggPSB0aGlzLmluZGV4LFxuICAgICAgICAgIHZpZXdlckRhdGEgPSB0aGlzLnZpZXdlckRhdGE7XG4gICAgICByZW1vdmVDbGFzcyhpbWFnZSwgQ0xBU1NfSU5WSVNJQkxFKTtcblxuICAgICAgaWYgKG9wdGlvbnMubG9hZGluZykge1xuICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmNhbnZhcywgQ0xBU1NfTE9BRElORyk7XG4gICAgICB9XG5cbiAgICAgIGltYWdlLnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OjA7JyArIFwibWFyZ2luLWxlZnQ6XCIuY29uY2F0KHZpZXdlckRhdGEud2lkdGggLyAyLCBcInB4O1wiKSArIFwibWFyZ2luLXRvcDpcIi5jb25jYXQodmlld2VyRGF0YS5oZWlnaHQgLyAyLCBcInB4O1wiKSArICdtYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnQ7JyArICdwb3NpdGlvbjpyZWxhdGl2ZTsnICsgJ3dpZHRoOjA7JztcbiAgICAgIHRoaXMuaW5pdEltYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoaW1hZ2UsIENMQVNTX01PVkUsIG9wdGlvbnMubW92YWJsZSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OLCBvcHRpb25zLnRyYW5zaXRpb24pO1xuXG4gICAgICAgIF90aGlzLnJlbmRlckltYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy52aWV3ZWQgPSB0cnVlO1xuICAgICAgICAgIF90aGlzLnZpZXdpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMudmlld2VkKSkge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfVklFV0VELCBvcHRpb25zLnZpZXdlZCwge1xuICAgICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1ZJRVdFRCwge1xuICAgICAgICAgICAgb3JpZ2luYWxJbWFnZTogX3RoaXMuaW1hZ2VzW2luZGV4XSxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2FkSW1hZ2U6IGZ1bmN0aW9uIGxvYWRJbWFnZShldmVudCkge1xuICAgICAgdmFyIGltYWdlID0gZXZlbnQudGFyZ2V0O1xuICAgICAgdmFyIHBhcmVudCA9IGltYWdlLnBhcmVudE5vZGU7XG4gICAgICB2YXIgcGFyZW50V2lkdGggPSBwYXJlbnQub2Zmc2V0V2lkdGggfHwgMzA7XG4gICAgICB2YXIgcGFyZW50SGVpZ2h0ID0gcGFyZW50Lm9mZnNldEhlaWdodCB8fCA1MDtcbiAgICAgIHZhciBmaWxsZWQgPSAhIWdldERhdGEoaW1hZ2UsICdmaWxsZWQnKTtcbiAgICAgIGdldEltYWdlTmF0dXJhbFNpemVzKGltYWdlLCB0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uIChuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQpIHtcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodDtcbiAgICAgICAgdmFyIHdpZHRoID0gcGFyZW50V2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBwYXJlbnRIZWlnaHQ7XG5cbiAgICAgICAgaWYgKHBhcmVudEhlaWdodCAqIGFzcGVjdFJhdGlvID4gcGFyZW50V2lkdGgpIHtcbiAgICAgICAgICBpZiAoZmlsbGVkKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHBhcmVudEhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJlbnRXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmaWxsZWQpIHtcbiAgICAgICAgICBoZWlnaHQgPSBwYXJlbnRXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpZHRoID0gcGFyZW50SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTdHlsZShpbWFnZSwgYXNzaWduKHtcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfSwgZ2V0VHJhbnNmb3Jtcyh7XG4gICAgICAgICAgdHJhbnNsYXRlWDogKHBhcmVudFdpZHRoIC0gd2lkdGgpIC8gMixcbiAgICAgICAgICB0cmFuc2xhdGVZOiAocGFyZW50SGVpZ2h0IC0gaGVpZ2h0KSAvIDJcbiAgICAgICAgfSkpKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAga2V5ZG93bjogZnVuY3Rpb24ga2V5ZG93bihldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgIGlmICghb3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC53aGljaCB8fCBldmVudC5jaGFyQ29kZTtcblxuICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgIC8vIEVudGVyXG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgaWYgKHRoaXMudmlld2VyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpY2soZXZlbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuZnVsbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgIC8vIEVzY2FwZVxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGlmICh0aGlzLnBsYXllZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmlubGluZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZnVsbGVkKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gU3BhY2VcblxuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgIGlmICh0aGlzLnBsYXllZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIEFycm93TGVmdFxuXG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgdGhpcy5wcmV2KG9wdGlvbnMubG9vcCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIEFycm93VXBcblxuICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgIC8vIFByZXZlbnQgc2Nyb2xsIG9uIEZpcmVmb3hcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBab29tIGluXG5cbiAgICAgICAgICB0aGlzLnpvb20ob3B0aW9ucy56b29tUmF0aW8sIHRydWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBBcnJvd1JpZ2h0XG5cbiAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICB0aGlzLm5leHQob3B0aW9ucy5sb29wKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQXJyb3dEb3duXG5cbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAvLyBQcmV2ZW50IHNjcm9sbCBvbiBGaXJlZm94XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gWm9vbSBvdXRcblxuICAgICAgICAgIHRoaXMuem9vbSgtb3B0aW9ucy56b29tUmF0aW8sIHRydWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBDdHJsICsgMFxuXG4gICAgICAgIGNhc2UgNDg6IC8vIEZhbGwgdGhyb3VnaFxuICAgICAgICAvLyBDdHJsICsgMVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcblxuICAgICAgICBjYXNlIDQ5OlxuICAgICAgICAgIGlmIChldmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdzdGFydDogZnVuY3Rpb24gZHJhZ3N0YXJ0KGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmxvY2FsTmFtZSA9PT0gJ2ltZycpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHBvaW50ZXJkb3duOiBmdW5jdGlvbiBwb2ludGVyZG93bihldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgdmFyIGJ1dHRvbnMgPSBldmVudC5idXR0b25zLFxuICAgICAgICAgIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcblxuICAgICAgaWYgKCF0aGlzLnZpZXdlZCB8fCB0aGlzLnNob3dpbmcgfHwgdGhpcy52aWV3aW5nIHx8IHRoaXMuaGlkaW5nIC8vIEhhbmRsZSBtb3VzZSBldmVudCBhbmQgcG9pbnRlciBldmVudCBhbmQgaWdub3JlIHRvdWNoIGV2ZW50XG4gICAgICB8fCAoZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgfHwgZXZlbnQudHlwZSA9PT0gJ3BvaW50ZXJkb3duJyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgJiYgKCAvLyBObyBwcmltYXJ5IGJ1dHRvbiAoVXN1YWxseSB0aGUgbGVmdCBidXR0b24pXG4gICAgICBpc051bWJlcihidXR0b25zKSAmJiBidXR0b25zICE9PSAxIHx8IGlzTnVtYmVyKGJ1dHRvbikgJiYgYnV0dG9uICE9PSAwIC8vIE9wZW4gY29udGV4dCBtZW51XG4gICAgICB8fCBldmVudC5jdHJsS2V5KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFByZXZlbnQgZGVmYXVsdCBiZWhhdmlvdXJzIGFzIHBhZ2Ugem9vbWluZyBpbiB0b3VjaCBkZXZpY2VzLlxuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmIChldmVudC5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICBmb3JFYWNoKGV2ZW50LmNoYW5nZWRUb3VjaGVzLCBmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgICAgICBwb2ludGVyc1t0b3VjaC5pZGVudGlmaWVyXSA9IGdldFBvaW50ZXIodG91Y2gpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvaW50ZXJzW2V2ZW50LnBvaW50ZXJJZCB8fCAwXSA9IGdldFBvaW50ZXIoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWN0aW9uID0gb3B0aW9ucy5tb3ZhYmxlID8gQUNUSU9OX01PVkUgOiBmYWxzZTtcblxuICAgICAgaWYgKG9wdGlvbnMuem9vbU9uVG91Y2ggJiYgb3B0aW9ucy56b29tYWJsZSAmJiBPYmplY3Qua2V5cyhwb2ludGVycykubGVuZ3RoID4gMSkge1xuICAgICAgICBhY3Rpb24gPSBBQ1RJT05fWk9PTTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5zbGlkZU9uVG91Y2ggJiYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnIHx8IGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JykgJiYgdGhpcy5pc1N3aXRjaGFibGUoKSkge1xuICAgICAgICBhY3Rpb24gPSBBQ1RJT05fU1dJVENIO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uICYmIChhY3Rpb24gPT09IEFDVElPTl9NT1ZFIHx8IGFjdGlvbiA9PT0gQUNUSU9OX1pPT00pKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICB9LFxuICAgIHBvaW50ZXJtb3ZlOiBmdW5jdGlvbiBwb2ludGVybW92ZShldmVudCkge1xuICAgICAgdmFyIHBvaW50ZXJzID0gdGhpcy5wb2ludGVycyxcbiAgICAgICAgICBhY3Rpb24gPSB0aGlzLmFjdGlvbjtcblxuICAgICAgaWYgKCF0aGlzLnZpZXdlZCB8fCAhYWN0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIGZvckVhY2goZXZlbnQuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0b3VjaCkge1xuICAgICAgICAgIGFzc2lnbihwb2ludGVyc1t0b3VjaC5pZGVudGlmaWVyXSB8fCB7fSwgZ2V0UG9pbnRlcih0b3VjaCwgdHJ1ZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnbihwb2ludGVyc1tldmVudC5wb2ludGVySWQgfHwgMF0gfHwge30sIGdldFBvaW50ZXIoZXZlbnQsIHRydWUpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jaGFuZ2UoZXZlbnQpO1xuICAgIH0sXG4gICAgcG9pbnRlcnVwOiBmdW5jdGlvbiBwb2ludGVydXAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBhY3Rpb24gPSB0aGlzLmFjdGlvbixcbiAgICAgICAgICBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgICB2YXIgcG9pbnRlcjtcblxuICAgICAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIGZvckVhY2goZXZlbnQuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0b3VjaCkge1xuICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyc1t0b3VjaC5pZGVudGlmaWVyXTtcbiAgICAgICAgICBkZWxldGUgcG9pbnRlcnNbdG91Y2guaWRlbnRpZmllcl07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9pbnRlciA9IHBvaW50ZXJzW2V2ZW50LnBvaW50ZXJJZCB8fCAwXTtcbiAgICAgICAgZGVsZXRlIHBvaW50ZXJzW2V2ZW50LnBvaW50ZXJJZCB8fCAwXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uICYmIChhY3Rpb24gPT09IEFDVElPTl9NT1ZFIHx8IGFjdGlvbiA9PT0gQUNUSU9OX1pPT00pKSB7XG4gICAgICAgIGFkZENsYXNzKHRoaXMuaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGlvbiA9IGZhbHNlOyAvLyBFbXVsYXRlIGNsaWNrIGFuZCBkb3VibGUgY2xpY2sgaW4gdG91Y2ggZGV2aWNlcyB0byBzdXBwb3J0IGJhY2tkcm9wIGFuZCBpbWFnZSB6b29taW5nICgjMjEwKS5cblxuICAgICAgaWYgKElTX1RPVUNIX0RFVklDRSAmJiBhY3Rpb24gIT09IEFDVElPTl9aT09NICYmIHBvaW50ZXIgJiYgRGF0ZS5ub3coKSAtIHBvaW50ZXIudGltZVN0YW1wIDwgNTAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsaWNrQ2FudmFzVGltZW91dCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRvdWJsZUNsaWNrSW1hZ2VUaW1lb3V0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy50b2dnbGVPbkRibGNsaWNrICYmIHRoaXMudmlld2VkICYmIGV2ZW50LnRhcmdldCA9PT0gdGhpcy5pbWFnZSkge1xuICAgICAgICAgIGlmICh0aGlzLmltYWdlQ2xpY2tlZCkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZUNsaWNrZWQgPSBmYWxzZTsgLy8gVGhpcyB0aW1lb3V0IHdpbGwgYmUgY2xlYXJlZCBsYXRlciB3aGVuIGEgbmF0aXZlIGRibGNsaWNrIGV2ZW50IGlzIHRyaWdnZXJpbmdcblxuICAgICAgICAgICAgdGhpcy5kb3VibGVDbGlja0ltYWdlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KF90aGlzMi5pbWFnZSwgRVZFTlRfREJMQ0xJQ0spO1xuICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlQ2xpY2tlZCA9IHRydWU7IC8vIFRoZSBkZWZhdWx0IHRpbWluZyBvZiBhIGRvdWJsZSBjbGljayBpbiBXaW5kb3dzIGlzIDUwMCBtc1xuXG4gICAgICAgICAgICB0aGlzLmRvdWJsZUNsaWNrSW1hZ2VUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5pbWFnZUNsaWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaW1hZ2VDbGlja2VkID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5iYWNrZHJvcCAmJiBvcHRpb25zLmJhY2tkcm9wICE9PSAnc3RhdGljJyAmJiBldmVudC50YXJnZXQgPT09IHRoaXMuY2FudmFzKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHRpbWVvdXQgd2lsbCBiZSBjbGVhcmVkIGxhdGVyIHdoZW4gYSBuYXRpdmUgY2xpY2sgZXZlbnQgaXMgdHJpZ2dlcmluZ1xuICAgICAgICAgICAgdGhpcy5jbGlja0NhbnZhc1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChfdGhpczIuY2FudmFzLCBFVkVOVF9DTElDSyk7XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuaXNTaG93biB8fCB0aGlzLmhpZGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmZ1bGxlZCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuaW5pdEJvZHkoKTtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5pdENvbnRhaW5lcigpO1xuICAgICAgdGhpcy5pbml0Vmlld2VyKCk7XG4gICAgICB0aGlzLnJlbmRlclZpZXdlcigpO1xuICAgICAgdGhpcy5yZW5kZXJMaXN0KCk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXdlZCkge1xuICAgICAgICB0aGlzLmluaXRJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLnJlbmRlckltYWdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wbGF5ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuICYmIHRoaXMuZnVsbGVkICYmICEoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCkpIHtcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoKHRoaXMucGxheWVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKSwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX0xPQUQsIF90aGlzMy5sb2FkSW1hZ2UuYmluZChfdGhpczMpLCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudChpbWFnZSwgRVZFTlRfTE9BRCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlZWw6IGZ1bmN0aW9uIHdoZWVsKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLnZpZXdlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIExpbWl0IHdoZWVsIHNwZWVkIHRvIHByZXZlbnQgem9vbSB0b28gZmFzdFxuXG4gICAgICBpZiAodGhpcy53aGVlbGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMud2hlZWxpbmcgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC53aGVlbGluZyA9IGZhbHNlO1xuICAgICAgfSwgNTApO1xuICAgICAgdmFyIHJhdGlvID0gTnVtYmVyKHRoaXMub3B0aW9ucy56b29tUmF0aW8pIHx8IDAuMTtcbiAgICAgIHZhciBkZWx0YSA9IDE7XG5cbiAgICAgIGlmIChldmVudC5kZWx0YVkpIHtcbiAgICAgICAgZGVsdGEgPSBldmVudC5kZWx0YVkgPiAwID8gMSA6IC0xO1xuICAgICAgfSBlbHNlIGlmIChldmVudC53aGVlbERlbHRhKSB7XG4gICAgICAgIGRlbHRhID0gLWV2ZW50LndoZWVsRGVsdGEgLyAxMjA7XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmRldGFpbCkge1xuICAgICAgICBkZWx0YSA9IGV2ZW50LmRldGFpbCA+IDAgPyAxIDogLTE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuem9vbSgtZGVsdGEgKiByYXRpbywgdHJ1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbWV0aG9kcyA9IHtcbiAgICAvKiogU2hvdyB0aGUgdmlld2VyIChvbmx5IGF2YWlsYWJsZSBpbiBtb2RhbCBtb2RlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ltbWVkaWF0ZT1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgc2hvdyB0aGUgdmlld2VyIGltbWVkaWF0ZWx5IG9yIG5vdC5cbiAgICAgKiBAcmV0dXJucyB7Vmlld2VyfSB0aGlzXG4gICAgICovXG4gICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIHZhciBpbW1lZGlhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgaWYgKG9wdGlvbnMuaW5saW5lIHx8IHRoaXMuc2hvd2luZyB8fCB0aGlzLmlzU2hvd24gfHwgdGhpcy5zaG93aW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICAgICAgdGhpcy5idWlsZCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICAgICAgdGhpcy5zaG93KGltbWVkaWF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5zaG93KSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9TSE9XLCBvcHRpb25zLnNob3csIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9TSE9XKSA9PT0gZmFsc2UgfHwgIXRoaXMucmVhZHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmhpZGluZykge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcuYWJvcnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zaG93aW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgICAgdmFyIHZpZXdlciA9IHRoaXMudmlld2VyO1xuICAgICAgcmVtb3ZlQ2xhc3Modmlld2VyLCBDTEFTU19ISURFKTtcbiAgICAgIHZpZXdlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG4gICAgICB2aWV3ZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCB0aGlzLnRpdGxlLmlkKTtcbiAgICAgIHZpZXdlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCB0cnVlKTtcbiAgICAgIHZpZXdlci5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG5cbiAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24gJiYgIWltbWVkaWF0ZSkge1xuICAgICAgICB2YXIgc2hvd24gPSB0aGlzLnNob3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHtcbiAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX1RSQU5TSVRJT05fRU5ELCBzaG93bik7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyh2aWV3ZXIsIENMQVNTX0lOKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfVFJBTlNJVElPTik7IC8vIEZvcmNlIHJlZmxvdyB0byBlbmFibGUgQ1NTMyB0cmFuc2l0aW9uXG5cbiAgICAgICAgdmlld2VyLmluaXRpYWxPZmZzZXRXaWR0aCA9IHZpZXdlci5vZmZzZXRXaWR0aDtcbiAgICAgICAgYWRkTGlzdGVuZXIodmlld2VyLCBFVkVOVF9UUkFOU0lUSU9OX0VORCwgc2hvd24sIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX0lOKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfSU4pO1xuICAgICAgICB0aGlzLnNob3duKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSB2aWV3ZXIgKG9ubHkgYXZhaWxhYmxlIGluIG1vZGFsIG1vZGUpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW1tZWRpYXRlPWZhbHNlXSAtIEluZGljYXRlcyBpZiBoaWRlIHRoZSB2aWV3ZXIgaW1tZWRpYXRlbHkgb3Igbm90LlxuICAgICAqIEByZXR1cm5zIHtWaWV3ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGltbWVkaWF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICBpZiAob3B0aW9ucy5pbmxpbmUgfHwgdGhpcy5oaWRpbmcgfHwgISh0aGlzLmlzU2hvd24gfHwgdGhpcy5zaG93aW5nKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5oaWRlKSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9ISURFLCBvcHRpb25zLmhpZGUsIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9ISURFKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNob3dpbmcpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nLmFib3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGlkaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMucGxheWVkKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnZpZXdpbmcpIHtcbiAgICAgICAgdGhpcy52aWV3aW5nLmFib3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2aWV3ZXIgPSB0aGlzLnZpZXdlcixcbiAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2U7XG5cbiAgICAgIHZhciBoaWRlSW1tZWRpYXRlbHkgPSBmdW5jdGlvbiBoaWRlSW1tZWRpYXRlbHkoKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKHZpZXdlciwgQ0xBU1NfSU4pO1xuXG4gICAgICAgIF90aGlzLmhpZGRlbigpO1xuICAgICAgfTtcblxuICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbiAmJiAhaW1tZWRpYXRlKSB7XG4gICAgICAgIHZhciBvblZpZXdlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiBvblZpZXdlclRyYW5zaXRpb25FbmQoZXZlbnQpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgYWxsIHByb3BhZ2F0aW5nIGB0cmFuc2l0aW9uZW5kYCBldmVudHMgKCMyNzUpLlxuICAgICAgICAgIGlmIChldmVudCAmJiBldmVudC50YXJnZXQgPT09IHZpZXdlcikge1xuICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIodmlld2VyLCBFVkVOVF9UUkFOU0lUSU9OX0VORCwgb25WaWV3ZXJUcmFuc2l0aW9uRW5kKTtcblxuICAgICAgICAgICAgX3RoaXMuaGlkZGVuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvbkltYWdlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIG9uSW1hZ2VUcmFuc2l0aW9uRW5kKCkge1xuICAgICAgICAgIC8vIEluIGNhc2Ugb2Ygc2hvdyB0aGUgdmlld2VyIGJ5IGB2aWV3ZXIuc2hvdyh0cnVlKWAgcHJldmlvdXNseSAoIzQwNykuXG4gICAgICAgICAgaWYgKGhhc0NsYXNzKHZpZXdlciwgQ0xBU1NfVFJBTlNJVElPTikpIHtcbiAgICAgICAgICAgIGFkZExpc3RlbmVyKHZpZXdlciwgRVZFTlRfVFJBTlNJVElPTl9FTkQsIG9uVmlld2VyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyh2aWV3ZXIsIENMQVNTX0lOKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGlkZUltbWVkaWF0ZWx5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHtcbiAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudmlld2VkICYmIGhhc0NsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKSkge1xuICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcihpbWFnZSwgRVZFTlRfVFJBTlNJVElPTl9FTkQsIG9uSW1hZ2VUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3Modmlld2VyLCBDTEFTU19UUkFOU0lUSU9OKSkge1xuICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX1RSQU5TSVRJT05fRU5ELCBvblZpZXdlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTsgLy8gSW4gY2FzZSBvZiBoaWRpbmcgdGhlIHZpZXdlciB3aGVuIGhvbGRpbmcgb24gdGhlIGltYWdlICgjMjU1KSxcbiAgICAgICAgLy8gbm90ZSB0aGF0IHRoZSBgQ0xBU1NfVFJBTlNJVElPTmAgY2xhc3Mgd2lsbCBiZSByZW1vdmVkIG9uIHBvaW50ZXIgZG93bi5cblxuICAgICAgICBpZiAodGhpcy52aWV3ZWQgJiYgaGFzQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pKSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX1RSQU5TSVRJT05fRU5ELCBvbkltYWdlVHJhbnNpdGlvbkVuZCwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuem9vbVRvKDAsIGZhbHNlLCBudWxsLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbkltYWdlVHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSW1tZWRpYXRlbHkoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb25lIG9mIHRoZSBpbWFnZXMgd2l0aCBpbWFnZSdzIGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBpbWFnZSB0byB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtWaWV3ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICB2aWV3OiBmdW5jdGlvbiB2aWV3KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5vcHRpb25zLmluaXRpYWxWaWV3SW5kZXg7XG4gICAgICBpbmRleCA9IE51bWJlcihpbmRleCkgfHwgMDtcblxuICAgICAgaWYgKHRoaXMuaGlkaW5nIHx8IHRoaXMucGxheWVkIHx8IGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmxlbmd0aCB8fCB0aGlzLnZpZXdlZCAmJiBpbmRleCA9PT0gdGhpcy5pbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmlzU2hvd24pIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gdGhpcy5zaG93KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZpZXdpbmcpIHtcbiAgICAgICAgdGhpcy52aWV3aW5nLmFib3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgdGl0bGUgPSB0aGlzLnRpdGxlLFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICAgIHZhciBpbWcgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgdmFyIHVybCA9IGdldERhdGEoaW1nLCAnb3JpZ2luYWxVcmwnKTtcbiAgICAgIHZhciBhbHQgPSBpbWcuZ2V0QXR0cmlidXRlKCdhbHQnKTtcbiAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgZm9yRWFjaChvcHRpb25zLmluaGVyaXRlZEF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGltZy5nZXRBdHRyaWJ1dGUobmFtZSk7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbWFnZS5zcmMgPSB1cmw7XG4gICAgICBpbWFnZS5hbHQgPSBhbHQ7XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMudmlldykpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfVklFVywgb3B0aW9ucy52aWV3LCB7XG4gICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfVklFVywge1xuICAgICAgICBvcmlnaW5hbEltYWdlOiB0aGlzLmltYWdlc1tpbmRleF0sXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgaW1hZ2U6IGltYWdlXG4gICAgICB9KSA9PT0gZmFsc2UgfHwgIXRoaXMuaXNTaG93biB8fCB0aGlzLmhpZGluZyB8fCB0aGlzLnBsYXllZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGl2ZUl0ZW0gPSB0aGlzLml0ZW1zW3RoaXMuaW5kZXhdO1xuXG4gICAgICBpZiAoYWN0aXZlSXRlbSkge1xuICAgICAgICByZW1vdmVDbGFzcyhhY3RpdmVJdGVtLCBDTEFTU19BQ1RJVkUpO1xuICAgICAgICBhY3RpdmVJdGVtLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBhZGRDbGFzcyhpdGVtLCBDTEFTU19BQ1RJVkUpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCB0cnVlKTtcblxuICAgICAgaWYgKG9wdGlvbnMuZm9jdXMpIHtcbiAgICAgICAgaXRlbS5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgICB0aGlzLnZpZXdlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgdGhpcy5pbWFnZURhdGEgPSB7fTtcbiAgICAgIGFkZENsYXNzKGltYWdlLCBDTEFTU19JTlZJU0lCTEUpO1xuXG4gICAgICBpZiAob3B0aW9ucy5sb2FkaW5nKSB7XG4gICAgICAgIGFkZENsYXNzKGNhbnZhcywgQ0xBU1NfTE9BRElORyk7XG4gICAgICB9XG5cbiAgICAgIGNhbnZhcy5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZChpbWFnZSk7IC8vIENlbnRlciBjdXJyZW50IGl0ZW1cblxuICAgICAgdGhpcy5yZW5kZXJMaXN0KCk7IC8vIENsZWFyIHRpdGxlXG5cbiAgICAgIHRpdGxlLmlubmVySFRNTCA9ICcnOyAvLyBHZW5lcmF0ZSB0aXRsZSBhZnRlciB2aWV3ZWRcblxuICAgICAgdmFyIG9uVmlld2VkID0gZnVuY3Rpb24gb25WaWV3ZWQoKSB7XG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpczIuaW1hZ2VEYXRhO1xuICAgICAgICB2YXIgcmVuZGVyID0gQXJyYXkuaXNBcnJheShvcHRpb25zLnRpdGxlKSA/IG9wdGlvbnMudGl0bGVbMV0gOiBvcHRpb25zLnRpdGxlO1xuICAgICAgICB0aXRsZS5pbm5lckhUTUwgPSBlc2NhcGVIVE1MRW50aXRpZXMoaXNGdW5jdGlvbihyZW5kZXIpID8gcmVuZGVyLmNhbGwoX3RoaXMyLCBpbWFnZSwgaW1hZ2VEYXRhKSA6IFwiXCIuY29uY2F0KGFsdCwgXCIgKFwiKS5jb25jYXQoaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aCwgXCIgXFx4RDcgXCIpLmNvbmNhdChpbWFnZURhdGEubmF0dXJhbEhlaWdodCwgXCIpXCIpKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBvbkxvYWQ7XG4gICAgICB2YXIgb25FcnJvcjtcbiAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1ZJRVdFRCwgb25WaWV3ZWQsIHtcbiAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnZpZXdpbmcgPSB7XG4gICAgICAgIGFib3J0OiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9WSUVXRUQsIG9uVmlld2VkKTtcblxuICAgICAgICAgIGlmIChpbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzMi5pbWFnZVJlbmRlcmluZykge1xuICAgICAgICAgICAgICBfdGhpczIuaW1hZ2VSZW5kZXJpbmcuYWJvcnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmltYWdlSW5pdGlhbGl6aW5nKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5pbWFnZUluaXRpYWxpemluZy5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDYW5jZWwgZG93bmxvYWQgdG8gc2F2ZSBiYW5kd2lkdGguXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBvbkxvYWQpO1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMyLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMi50aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChpbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBvbkxvYWQgPSBmdW5jdGlvbiBvbkxvYWQoKSB7XG4gICAgICAgICAgcmVtb3ZlTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX0VSUk9SLCBvbkVycm9yKTtcblxuICAgICAgICAgIF90aGlzMi5sb2FkKCk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBhZGRMaXN0ZW5lcihpbWFnZSwgRVZFTlRfRVJST1IsIG9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBvbkxvYWQpO1xuXG4gICAgICAgICAgaWYgKF90aGlzMi50aW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMyLnRpbWVvdXQpO1xuICAgICAgICAgICAgX3RoaXMyLnRpbWVvdXQgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZW1vdmVDbGFzcyhpbWFnZSwgQ0xBU1NfSU5WSVNJQkxFKTtcblxuICAgICAgICAgIGlmIChvcHRpb25zLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKF90aGlzMi5jYW52YXMsIENMQVNTX0xPQURJTkcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9IC8vIE1ha2UgdGhlIGltYWdlIHZpc2libGUgaWYgaXQgZmFpbHMgdG8gbG9hZCB3aXRoaW4gMXNcblxuXG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlbW92ZUNsYXNzKGltYWdlLCBDTEFTU19JTlZJU0lCTEUpO1xuICAgICAgICAgIF90aGlzMi50aW1lb3V0ID0gZmFsc2U7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVmlldyB0aGUgcHJldmlvdXMgaW1hZ2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtsb29wPWZhbHNlXSAtIEluZGljYXRlIGlmIHZpZXcgdGhlIGxhc3Qgb25lXG4gICAgICogd2hlbiBpdCBpcyB0aGUgZmlyc3Qgb25lIGF0IHByZXNlbnQuXG4gICAgICogQHJldHVybnMge1ZpZXdlcn0gdGhpc1xuICAgICAqL1xuICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoKSB7XG4gICAgICB2YXIgbG9vcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4IC0gMTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IGxvb3AgPyB0aGlzLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZpZXcoaW5kZXgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFZpZXcgdGhlIG5leHQgaW1hZ2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtsb29wPWZhbHNlXSAtIEluZGljYXRlIGlmIHZpZXcgdGhlIGZpcnN0IG9uZVxuICAgICAqIHdoZW4gaXQgaXMgdGhlIGxhc3Qgb25lIGF0IHByZXNlbnQuXG4gICAgICogQHJldHVybnMge1ZpZXdlcn0gdGhpc1xuICAgICAqL1xuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB2YXIgbG9vcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ICsgMTtcblxuICAgICAgaWYgKGluZGV4ID4gbWF4SW5kZXgpIHtcbiAgICAgICAgaW5kZXggPSBsb29wID8gMCA6IG1heEluZGV4O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZpZXcoaW5kZXgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdGhlIGltYWdlIHdpdGggcmVsYXRpdmUgb2Zmc2V0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBtb3ZpbmcgZGlzdGFuY2UgaW4gdGhlIGhvcml6b250YWwgZGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSBUaGUgbW92aW5nIGRpc3RhbmNlIGluIHRoZSB2ZXJ0aWNhbCBkaXJlY3Rpb24uXG4gICAgICogQHJldHVybnMge1ZpZXdlcn0gdGhpc1xuICAgICAqL1xuICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoeCkge1xuICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHg7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG4gICAgICB0aGlzLm1vdmVUbyhpc1VuZGVmaW5lZCh4KSA/IHggOiBpbWFnZURhdGEueCArIE51bWJlcih4KSwgaXNVbmRlZmluZWQoeSkgPyB5IDogaW1hZ2VEYXRhLnkgKyBOdW1iZXIoeSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdGhlIGltYWdlIHRvIGFuIGFic29sdXRlIHBvaW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIG5ldyBwb3NpdGlvbiBpbiB0aGUgaG9yaXpvbnRhbCBkaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gVGhlIG5ldyBwb3NpdGlvbiBpbiB0aGUgdmVydGljYWwgZGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtfb3JpZ2luYWxFdmVudD1udWxsXSAtIFRoZSBvcmlnaW5hbCBldmVudCBpZiBhbnkuXG4gICAgICogQHJldHVybnMge1ZpZXdlcn0gdGhpc1xuICAgICAqL1xuICAgIG1vdmVUbzogZnVuY3Rpb24gbW92ZVRvKHgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogeDtcblxuICAgICAgdmFyIF9vcmlnaW5hbEV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGltYWdlRGF0YSA9IHRoaXMuaW1hZ2VEYXRhO1xuICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgIHkgPSBOdW1iZXIoeSk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXdlZCAmJiAhdGhpcy5wbGF5ZWQgJiYgb3B0aW9ucy5tb3ZhYmxlKSB7XG4gICAgICAgIHZhciBvbGRYID0gaW1hZ2VEYXRhLng7XG4gICAgICAgIHZhciBvbGRZID0gaW1hZ2VEYXRhLnk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKHgpKSB7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeCA9IG9sZFg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoeSkpIHtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB5ID0gb2xkWTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5tb3ZlKSkge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfTU9WRSwgb3B0aW9ucy5tb3ZlLCB7XG4gICAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX01PVkUsIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgb2xkWDogb2xkWCxcbiAgICAgICAgICAgIG9sZFk6IG9sZFksXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBfb3JpZ2luYWxFdmVudFxuICAgICAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW1hZ2VEYXRhLnggPSB4O1xuICAgICAgICAgIGltYWdlRGF0YS55ID0geTtcbiAgICAgICAgICBpbWFnZURhdGEubGVmdCA9IHg7XG4gICAgICAgICAgaW1hZ2VEYXRhLnRvcCA9IHk7XG4gICAgICAgICAgdGhpcy5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucmVuZGVySW1hZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLm1vdmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLm1vdmVkKSkge1xuICAgICAgICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9NT1ZFRCwgb3B0aW9ucy5tb3ZlZCwge1xuICAgICAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfTU9WRUQsIHtcbiAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgb2xkWDogb2xkWCxcbiAgICAgICAgICAgICAgb2xkWTogb2xkWSxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogX29yaWdpbmFsRXZlbnRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGltYWdlIHdpdGggYSByZWxhdGl2ZSBkZWdyZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZSAtIFRoZSByb3RhdGUgZGVncmVlLlxuICAgICAqIEByZXR1cm5zIHtWaWV3ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByb3RhdGU6IGZ1bmN0aW9uIHJvdGF0ZShkZWdyZWUpIHtcbiAgICAgIHRoaXMucm90YXRlVG8oKHRoaXMuaW1hZ2VEYXRhLnJvdGF0ZSB8fCAwKSArIE51bWJlcihkZWdyZWUpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGltYWdlIHRvIGFuIGFic29sdXRlIGRlZ3JlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVncmVlIC0gVGhlIHJvdGF0ZSBkZWdyZWUuXG4gICAgICogQHJldHVybnMge1ZpZXdlcn0gdGhpc1xuICAgICAqL1xuICAgIHJvdGF0ZVRvOiBmdW5jdGlvbiByb3RhdGVUbyhkZWdyZWUpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGltYWdlRGF0YSA9IHRoaXMuaW1hZ2VEYXRhO1xuICAgICAgZGVncmVlID0gTnVtYmVyKGRlZ3JlZSk7XG5cbiAgICAgIGlmIChpc051bWJlcihkZWdyZWUpICYmIHRoaXMudmlld2VkICYmICF0aGlzLnBsYXllZCAmJiBvcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgICB2YXIgb2xkRGVncmVlID0gaW1hZ2VEYXRhLnJvdGF0ZTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnJvdGF0ZSkpIHtcbiAgICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9ST1RBVEUsIG9wdGlvbnMucm90YXRlLCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9ST1RBVEUsIHtcbiAgICAgICAgICBkZWdyZWU6IGRlZ3JlZSxcbiAgICAgICAgICBvbGREZWdyZWU6IG9sZERlZ3JlZVxuICAgICAgICB9KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlRGF0YS5yb3RhdGUgPSBkZWdyZWU7XG4gICAgICAgIHRoaXMucm90YXRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlckltYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczQucm90YXRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMucm90YXRlZCkpIHtcbiAgICAgICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1JPVEFURUQsIG9wdGlvbnMucm90YXRlZCwge1xuICAgICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1JPVEFURUQsIHtcbiAgICAgICAgICAgIGRlZ3JlZTogZGVncmVlLFxuICAgICAgICAgICAgb2xkRGVncmVlOiBvbGREZWdyZWVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBpbWFnZSBvbiB0aGUgeC1heGlzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBUaGUgc2NhbGUgcmF0aW8gb24gdGhlIHgtYXhpcy5cbiAgICAgKiBAcmV0dXJucyB7Vmlld2VyfSB0aGlzXG4gICAgICovXG4gICAgc2NhbGVYOiBmdW5jdGlvbiBzY2FsZVgoX3NjYWxlWCkge1xuICAgICAgdGhpcy5zY2FsZShfc2NhbGVYLCB0aGlzLmltYWdlRGF0YS5zY2FsZVkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBpbWFnZSBvbiB0aGUgeS1heGlzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBUaGUgc2NhbGUgcmF0aW8gb24gdGhlIHktYXhpcy5cbiAgICAgKiBAcmV0dXJucyB7Vmlld2VyfSB0aGlzXG4gICAgICovXG4gICAgc2NhbGVZOiBmdW5jdGlvbiBzY2FsZVkoX3NjYWxlWSkge1xuICAgICAgdGhpcy5zY2FsZSh0aGlzLmltYWdlRGF0YS5zY2FsZVgsIF9zY2FsZVkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBpbWFnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gVGhlIHNjYWxlIHJhdGlvIG9uIHRoZSB4LWF4aXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVk9c2NhbGVYXSAtIFRoZSBzY2FsZSByYXRpbyBvbiB0aGUgeS1heGlzLlxuICAgICAqIEByZXR1cm5zIHtWaWV3ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBzY2FsZTogZnVuY3Rpb24gc2NhbGUoc2NhbGVYKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIHNjYWxlWSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogc2NhbGVYO1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTtcbiAgICAgIHNjYWxlWCA9IE51bWJlcihzY2FsZVgpO1xuICAgICAgc2NhbGVZID0gTnVtYmVyKHNjYWxlWSk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXdlZCAmJiAhdGhpcy5wbGF5ZWQgJiYgb3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgICB2YXIgb2xkU2NhbGVYID0gaW1hZ2VEYXRhLnNjYWxlWDtcbiAgICAgICAgdmFyIG9sZFNjYWxlWSA9IGltYWdlRGF0YS5zY2FsZVk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKHNjYWxlWCkpIHtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY2FsZVggPSBvbGRTY2FsZVg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoc2NhbGVZKSkge1xuICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNjYWxlWSA9IG9sZFNjYWxlWTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5zY2FsZSkpIHtcbiAgICAgICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1NDQUxFLCBvcHRpb25zLnNjYWxlLCB7XG4gICAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1NDQUxFLCB7XG4gICAgICAgICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgICAgICAgIHNjYWxlWTogc2NhbGVZLFxuICAgICAgICAgICAgb2xkU2NhbGVYOiBvbGRTY2FsZVgsXG4gICAgICAgICAgICBvbGRTY2FsZVk6IG9sZFNjYWxlWVxuICAgICAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW1hZ2VEYXRhLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICBpbWFnZURhdGEuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgICAgIHRoaXMuc2NhbGluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZW5kZXJJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczUuc2NhbGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnNjYWxlZCkpIHtcbiAgICAgICAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfU0NBTEVELCBvcHRpb25zLnNjYWxlZCwge1xuICAgICAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfU0NBTEVELCB7XG4gICAgICAgICAgICAgIHNjYWxlWDogc2NhbGVYLFxuICAgICAgICAgICAgICBzY2FsZVk6IHNjYWxlWSxcbiAgICAgICAgICAgICAgb2xkU2NhbGVYOiBvbGRTY2FsZVgsXG4gICAgICAgICAgICAgIG9sZFNjYWxlWTogb2xkU2NhbGVZXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNhbmNlbGFibGU6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWm9vbSB0aGUgaW1hZ2Ugd2l0aCBhIHJlbGF0aXZlIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYXRpbyAtIFRoZSB0YXJnZXQgcmF0aW8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGFzVG9vbHRpcD1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgaXQgaGFzIGEgdG9vbHRpcCBvciBub3QuXG4gICAgICogQHBhcmFtIHtFdmVudH0gW19vcmlnaW5hbEV2ZW50PW51bGxdIC0gVGhlIG9yaWdpbmFsIGV2ZW50IGlmIGFueS5cbiAgICAgKiBAcmV0dXJucyB7Vmlld2VyfSB0aGlzXG4gICAgICovXG4gICAgem9vbTogZnVuY3Rpb24gem9vbShyYXRpbykge1xuICAgICAgdmFyIGhhc1Rvb2x0aXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICB2YXIgX29yaWdpbmFsRXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgICAgIHZhciBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTtcbiAgICAgIHJhdGlvID0gTnVtYmVyKHJhdGlvKTtcblxuICAgICAgaWYgKHJhdGlvIDwgMCkge1xuICAgICAgICByYXRpbyA9IDEgLyAoMSAtIHJhdGlvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhdGlvID0gMSArIHJhdGlvO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnpvb21UbyhpbWFnZURhdGEud2lkdGggKiByYXRpbyAvIGltYWdlRGF0YS5uYXR1cmFsV2lkdGgsIGhhc1Rvb2x0aXAsIF9vcmlnaW5hbEV2ZW50KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBab29tIHRoZSBpbWFnZSB0byBhbiBhYnNvbHV0ZSByYXRpby5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gLSBUaGUgdGFyZ2V0IHJhdGlvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhc1Rvb2x0aXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGl0IGhhcyBhIHRvb2x0aXAgb3Igbm90LlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtfb3JpZ2luYWxFdmVudD1udWxsXSAtIFRoZSBvcmlnaW5hbCBldmVudCBpZiBhbnkuXG4gICAgICogQHBhcmFtIHtFdmVudH0gW196b29tYWJsZT1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgdGhlIGN1cnJlbnQgem9vbSBpcyBhdmFpbGFibGUgb3Igbm90LlxuICAgICAqIEByZXR1cm5zIHtWaWV3ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICB6b29tVG86IGZ1bmN0aW9uIHpvb21UbyhyYXRpbykge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHZhciBoYXNUb29sdGlwID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgdmFyIF9vcmlnaW5hbEV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgICB2YXIgX3pvb21hYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBwb2ludGVycyA9IHRoaXMucG9pbnRlcnMsXG4gICAgICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG4gICAgICB2YXIgeCA9IGltYWdlRGF0YS54LFxuICAgICAgICAgIHkgPSBpbWFnZURhdGEueSxcbiAgICAgICAgICB3aWR0aCA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICAgIG5hdHVyYWxXaWR0aCA9IGltYWdlRGF0YS5uYXR1cmFsV2lkdGgsXG4gICAgICAgICAgbmF0dXJhbEhlaWdodCA9IGltYWdlRGF0YS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgcmF0aW8gPSBNYXRoLm1heCgwLCByYXRpbyk7XG5cbiAgICAgIGlmIChpc051bWJlcihyYXRpbykgJiYgdGhpcy52aWV3ZWQgJiYgIXRoaXMucGxheWVkICYmIChfem9vbWFibGUgfHwgb3B0aW9ucy56b29tYWJsZSkpIHtcbiAgICAgICAgaWYgKCFfem9vbWFibGUpIHtcbiAgICAgICAgICB2YXIgbWluWm9vbVJhdGlvID0gTWF0aC5tYXgoMC4wMSwgb3B0aW9ucy5taW5ab29tUmF0aW8pO1xuICAgICAgICAgIHZhciBtYXhab29tUmF0aW8gPSBNYXRoLm1pbigxMDAsIG9wdGlvbnMubWF4Wm9vbVJhdGlvKTtcbiAgICAgICAgICByYXRpbyA9IE1hdGgubWluKE1hdGgubWF4KHJhdGlvLCBtaW5ab29tUmF0aW8pLCBtYXhab29tUmF0aW8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9vcmlnaW5hbEV2ZW50ICYmIG9wdGlvbnMuem9vbVJhdGlvID49IDAuMDU1ICYmIHJhdGlvID4gMC45NSAmJiByYXRpbyA8IDEuMDUpIHtcbiAgICAgICAgICByYXRpbyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV3V2lkdGggPSBuYXR1cmFsV2lkdGggKiByYXRpbztcbiAgICAgICAgdmFyIG5ld0hlaWdodCA9IG5hdHVyYWxIZWlnaHQgKiByYXRpbztcbiAgICAgICAgdmFyIG9mZnNldFdpZHRoID0gbmV3V2lkdGggLSB3aWR0aDtcbiAgICAgICAgdmFyIG9mZnNldEhlaWdodCA9IG5ld0hlaWdodCAtIGhlaWdodDtcbiAgICAgICAgdmFyIG9sZFJhdGlvID0gaW1hZ2VEYXRhLnJhdGlvO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuem9vbSkpIHtcbiAgICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9aT09NLCBvcHRpb25zLnpvb20sIHtcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1pPT00sIHtcbiAgICAgICAgICByYXRpbzogcmF0aW8sXG4gICAgICAgICAgb2xkUmF0aW86IG9sZFJhdGlvLFxuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IF9vcmlnaW5hbEV2ZW50XG4gICAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy56b29taW5nID0gdHJ1ZTtcblxuICAgICAgICBpZiAoX29yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0T2Zmc2V0KHRoaXMudmlld2VyKTtcbiAgICAgICAgICB2YXIgY2VudGVyID0gcG9pbnRlcnMgJiYgT2JqZWN0LmtleXMocG9pbnRlcnMpLmxlbmd0aCA/IGdldFBvaW50ZXJzQ2VudGVyKHBvaW50ZXJzKSA6IHtcbiAgICAgICAgICAgIHBhZ2VYOiBfb3JpZ2luYWxFdmVudC5wYWdlWCxcbiAgICAgICAgICAgIHBhZ2VZOiBfb3JpZ2luYWxFdmVudC5wYWdlWVxuICAgICAgICAgIH07IC8vIFpvb20gZnJvbSB0aGUgdHJpZ2dlcmluZyBwb2ludCBvZiB0aGUgZXZlbnRcblxuICAgICAgICAgIGltYWdlRGF0YS54IC09IG9mZnNldFdpZHRoICogKChjZW50ZXIucGFnZVggLSBvZmZzZXQubGVmdCAtIHgpIC8gd2lkdGgpO1xuICAgICAgICAgIGltYWdlRGF0YS55IC09IG9mZnNldEhlaWdodCAqICgoY2VudGVyLnBhZ2VZIC0gb2Zmc2V0LnRvcCAtIHkpIC8gaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBab29tIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgaW1hZ2VcbiAgICAgICAgICBpbWFnZURhdGEueCAtPSBvZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgICAgaW1hZ2VEYXRhLnkgLT0gb2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlRGF0YS5sZWZ0ID0gaW1hZ2VEYXRhLng7XG4gICAgICAgIGltYWdlRGF0YS50b3AgPSBpbWFnZURhdGEueTtcbiAgICAgICAgaW1hZ2VEYXRhLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgIGltYWdlRGF0YS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICAgIGltYWdlRGF0YS5vbGRSYXRpbyA9IG9sZFJhdGlvO1xuICAgICAgICBpbWFnZURhdGEucmF0aW8gPSByYXRpbztcbiAgICAgICAgdGhpcy5yZW5kZXJJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM2Lnpvb21pbmcgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuem9vbWVkKSkge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfWk9PTUVELCBvcHRpb25zLnpvb21lZCwge1xuICAgICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1pPT01FRCwge1xuICAgICAgICAgICAgcmF0aW86IHJhdGlvLFxuICAgICAgICAgICAgb2xkUmF0aW86IG9sZFJhdGlvLFxuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogX29yaWdpbmFsRXZlbnRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaGFzVG9vbHRpcCkge1xuICAgICAgICAgIHRoaXMudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQbGF5IHRoZSBpbWFnZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58RnVsbHNjcmVlbk9wdGlvbnN9IFtmdWxsc2NyZWVuPWZhbHNlXSAtIEluZGljYXRlIGlmIHJlcXVlc3QgZnVsbHNjcmVlbiBvciBub3QuXG4gICAgICogQHJldHVybnMge1ZpZXdlcn0gdGhpc1xuICAgICAqL1xuICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdmFyIGZ1bGxzY3JlZW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICBpZiAoIXRoaXMuaXNTaG93biB8fCB0aGlzLnBsYXllZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5wbGF5KSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9QTEFZLCBvcHRpb25zLnBsYXksIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9QTEFZKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcbiAgICAgIHZhciBvbkxvYWQgPSB0aGlzLmxvYWRJbWFnZS5iaW5kKHRoaXMpO1xuICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdGhpcy5wbGF5ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5vbkxvYWRXaGVuUGxheSA9IG9uTG9hZDtcblxuICAgICAgaWYgKGZ1bGxzY3JlZW4pIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RnVsbHNjcmVlbihmdWxsc2NyZWVuKTtcbiAgICAgIH1cblxuICAgICAgYWRkQ2xhc3MocGxheWVyLCBDTEFTU19TSE9XKTtcbiAgICAgIGZvckVhY2godGhpcy5pdGVtcywgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgdmFyIGltZyA9IGl0ZW0ucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICBpbWFnZS5zcmMgPSBnZXREYXRhKGltZywgJ29yaWdpbmFsVXJsJyk7XG4gICAgICAgIGltYWdlLmFsdCA9IGltZy5nZXRBdHRyaWJ1dGUoJ2FsdCcpO1xuICAgICAgICBpbWFnZS5yZWZlcnJlclBvbGljeSA9IGltZy5yZWZlcnJlclBvbGljeTtcbiAgICAgICAgdG90YWwgKz0gMTtcbiAgICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX0ZBREUpO1xuICAgICAgICB0b2dnbGVDbGFzcyhpbWFnZSwgQ0xBU1NfVFJBTlNJVElPTiwgb3B0aW9ucy50cmFuc2l0aW9uKTtcblxuICAgICAgICBpZiAoaGFzQ2xhc3MoaXRlbSwgQ0xBU1NfQUNUSVZFKSkge1xuICAgICAgICAgIGFkZENsYXNzKGltYWdlLCBDTEFTU19JTik7XG4gICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGltYWdlKTtcbiAgICAgICAgYWRkTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX0xPQUQsIG9uTG9hZCwge1xuICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXllci5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMuaW50ZXJ2YWwpICYmIG9wdGlvbnMuaW50ZXJ2YWwgPiAwKSB7XG4gICAgICAgIHZhciBwbGF5ID0gZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgICBfdGhpczcucGxheWluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MobGlzdFtpbmRleF0sIENMQVNTX0lOKTtcbiAgICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgICAgICBpbmRleCA9IGluZGV4IDwgdG90YWwgPyBpbmRleCA6IDA7XG4gICAgICAgICAgICBhZGRDbGFzcyhsaXN0W2luZGV4XSwgQ0xBU1NfSU4pO1xuICAgICAgICAgICAgcGxheSgpO1xuICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0b3RhbCA+IDEpIHtcbiAgICAgICAgICBwbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvLyBTdG9wIHBsYXlcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5wbGF5ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuc3RvcCkpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfU1RPUCwgb3B0aW9ucy5zdG9wLCB7XG4gICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfU1RPUCkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGxheWVyID0gdGhpcy5wbGF5ZXI7XG4gICAgICB0aGlzLnBsYXllZCA9IGZhbHNlO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGxheWluZyk7XG4gICAgICBmb3JFYWNoKHBsYXllci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyksIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihpbWFnZSwgRVZFTlRfTE9BRCwgX3RoaXM4Lm9uTG9hZFdoZW5QbGF5KTtcbiAgICAgIH0pO1xuICAgICAgcmVtb3ZlQ2xhc3MocGxheWVyLCBDTEFTU19TSE9XKTtcbiAgICAgIHBsYXllci5pbm5lckhUTUwgPSAnJztcbiAgICAgIHRoaXMuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgLy8gRW50ZXIgbW9kYWwgbW9kZSAob25seSBhdmFpbGFibGUgaW4gaW5saW5lIG1vZGUpXG4gICAgZnVsbDogZnVuY3Rpb24gZnVsbCgpIHtcbiAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB2aWV3ZXIgPSB0aGlzLnZpZXdlcixcbiAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgbGlzdCA9IHRoaXMubGlzdDtcblxuICAgICAgaWYgKCF0aGlzLmlzU2hvd24gfHwgdGhpcy5wbGF5ZWQgfHwgdGhpcy5mdWxsZWQgfHwgIW9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZ1bGxlZCA9IHRydWU7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIGFkZENsYXNzKHRoaXMuYnV0dG9uLCBDTEFTU19GVUxMU0NSRUVOX0VYSVQpO1xuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGxpc3QsIENMQVNTX1RSQU5TSVRJT04pO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlZCkge1xuICAgICAgICAgIHJlbW92ZUNsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX0ZJWEVEKTtcbiAgICAgIHZpZXdlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG4gICAgICB2aWV3ZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCB0aGlzLnRpdGxlLmlkKTtcbiAgICAgIHZpZXdlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCB0cnVlKTtcbiAgICAgIHZpZXdlci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBzZXRTdHlsZSh2aWV3ZXIsIHtcbiAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChvcHRpb25zLmZvY3VzKSB7XG4gICAgICAgIHRoaXMuZW5mb3JjZUZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5pdENvbnRhaW5lcigpO1xuICAgICAgdGhpcy52aWV3ZXJEYXRhID0gYXNzaWduKHt9LCB0aGlzLmNvbnRhaW5lckRhdGEpO1xuICAgICAgdGhpcy5yZW5kZXJMaXN0KCk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXdlZCkge1xuICAgICAgICB0aGlzLmluaXRJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM5LnJlbmRlckltYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGxpc3QsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgLy8gRXhpdCBtb2RhbCBtb2RlIChvbmx5IGF2YWlsYWJsZSBpbiBpbmxpbmUgbW9kZSlcbiAgICBleGl0OiBmdW5jdGlvbiBleGl0KCkge1xuICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB2aWV3ZXIgPSB0aGlzLnZpZXdlcixcbiAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgbGlzdCA9IHRoaXMubGlzdDtcblxuICAgICAgaWYgKCF0aGlzLmlzU2hvd24gfHwgdGhpcy5wbGF5ZWQgfHwgIXRoaXMuZnVsbGVkIHx8ICFvcHRpb25zLmlubGluZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdGhpcy5mdWxsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuYnV0dG9uLCBDTEFTU19GVUxMU0NSRUVOX0VYSVQpO1xuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGxpc3QsIENMQVNTX1RSQU5TSVRJT04pO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlZCkge1xuICAgICAgICAgIHJlbW92ZUNsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5mb2N1cykge1xuICAgICAgICB0aGlzLmNsZWFyRW5mb3JjZUZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIHZpZXdlci5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcbiAgICAgIHZpZXdlci5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScpO1xuICAgICAgdmlld2VyLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpO1xuICAgICAgcmVtb3ZlQ2xhc3Modmlld2VyLCBDTEFTU19GSVhFRCk7XG4gICAgICBzZXRTdHlsZSh2aWV3ZXIsIHtcbiAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleElubGluZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnZpZXdlckRhdGEgPSBhc3NpZ24oe30sIHRoaXMucGFyZW50RGF0YSk7XG4gICAgICB0aGlzLnJlbmRlclZpZXdlcigpO1xuICAgICAgdGhpcy5yZW5kZXJMaXN0KCk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXdlZCkge1xuICAgICAgICB0aGlzLmluaXRJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMxMC5yZW5kZXJJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhsaXN0LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8vIFNob3cgdGhlIGN1cnJlbnQgcmF0aW8gb2YgdGhlIGltYWdlIHdpdGggcGVyY2VudGFnZVxuICAgIHRvb2x0aXA6IGZ1bmN0aW9uIHRvb2x0aXAoKSB7XG4gICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIHRvb2x0aXBCb3ggPSB0aGlzLnRvb2x0aXBCb3gsXG4gICAgICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG5cbiAgICAgIGlmICghdGhpcy52aWV3ZWQgfHwgdGhpcy5wbGF5ZWQgfHwgIW9wdGlvbnMudG9vbHRpcCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdG9vbHRpcEJveC50ZXh0Q29udGVudCA9IFwiXCIuY29uY2F0KE1hdGgucm91bmQoaW1hZ2VEYXRhLnJhdGlvICogMTAwKSwgXCIlXCIpO1xuXG4gICAgICBpZiAoIXRoaXMudG9vbHRpcHBpbmcpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICAgIGlmICh0aGlzLmZhZGluZykge1xuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCh0b29sdGlwQm94LCBFVkVOVF9UUkFOU0lUSU9OX0VORCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWRkQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfU0hPVyk7XG4gICAgICAgICAgYWRkQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfRkFERSk7XG4gICAgICAgICAgYWRkQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgICAgdG9vbHRpcEJveC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7IC8vIEZvcmNlIHJlZmxvdyB0byBlbmFibGUgQ1NTMyB0cmFuc2l0aW9uXG5cbiAgICAgICAgICB0b29sdGlwQm94LmluaXRpYWxPZmZzZXRXaWR0aCA9IHRvb2x0aXBCb3gub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgYWRkQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfSU4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZENsYXNzKHRvb2x0aXBCb3gsIENMQVNTX1NIT1cpO1xuICAgICAgICAgIHRvb2x0aXBCb3gucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50b29sdGlwcGluZyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9vbHRpcHBpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICAgIGFkZExpc3RlbmVyKHRvb2x0aXBCb3gsIEVWRU5UX1RSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyh0b29sdGlwQm94LCBDTEFTU19TSE9XKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRvb2x0aXBCb3gsIENMQVNTX0ZBREUpO1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgICAgICB0b29sdGlwQm94LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcbiAgICAgICAgICAgIF90aGlzMTEuZmFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbW92ZUNsYXNzKHRvb2x0aXBCb3gsIENMQVNTX0lOKTtcbiAgICAgICAgICBfdGhpczExLmZhZGluZyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfU0hPVyk7XG4gICAgICAgICAgdG9vbHRpcEJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczExLnRvb2x0aXBwaW5nID0gZmFsc2U7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIGltYWdlIHNpemUgYmV0d2VlbiBpdHMgY3VycmVudCBzaXplIGFuZCBuYXR1cmFsIHNpemVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbX29yaWdpbmFsRXZlbnQ9bnVsbF0gLSBUaGUgb3JpZ2luYWwgZXZlbnQgaWYgYW55LlxuICAgICAqIEByZXR1cm5zIHtWaWV3ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgIHZhciBfb3JpZ2luYWxFdmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcblxuICAgICAgaWYgKHRoaXMuaW1hZ2VEYXRhLnJhdGlvID09PSAxKSB7XG4gICAgICAgIHRoaXMuem9vbVRvKHRoaXMuaW1hZ2VEYXRhLm9sZFJhdGlvLCB0cnVlLCBfb3JpZ2luYWxFdmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnpvb21UbygxLCB0cnVlLCBfb3JpZ2luYWxFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgLy8gUmVzZXQgdGhlIGltYWdlIHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgaWYgKHRoaXMudmlld2VkICYmICF0aGlzLnBsYXllZCkge1xuICAgICAgICB0aGlzLmltYWdlRGF0YSA9IGFzc2lnbih7fSwgdGhpcy5pbml0aWFsSW1hZ2VEYXRhKTtcbiAgICAgICAgdGhpcy5yZW5kZXJJbWFnZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8vIFVwZGF0ZSB2aWV3ZXIgd2hlbiBpbWFnZXMgY2hhbmdlZFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgdmFyIF90aGlzMTIgPSB0aGlzO1xuXG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGlzSW1nID0gdGhpcy5pc0ltZzsgLy8gRGVzdHJveSB2aWV3ZXIgaWYgdGhlIHRhcmdldCBpbWFnZSB3YXMgZGVsZXRlZFxuXG4gICAgICBpZiAoaXNJbWcgJiYgIWVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbWFnZXMgPSBbXTtcbiAgICAgIGZvckVhY2goaXNJbWcgPyBbZWxlbWVudF0gOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuZmlsdGVyLmNhbGwoX3RoaXMxMiwgaW1hZ2UpKSB7XG4gICAgICAgICAgICBpbWFnZXMucHVzaChpbWFnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTIuZ2V0SW1hZ2VVUkwoaW1hZ2UpKSB7XG4gICAgICAgICAgaW1hZ2VzLnB1c2goaW1hZ2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmltYWdlcyA9IGltYWdlcztcbiAgICAgIHRoaXMubGVuZ3RoID0gaW1hZ2VzLmxlbmd0aDtcblxuICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgdmFyIGNoYW5nZWRJbmRleGVzID0gW107XG4gICAgICAgIGZvckVhY2godGhpcy5pdGVtcywgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICB2YXIgaW1nID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZXNbaV07XG5cbiAgICAgICAgICBpZiAoaW1hZ2UgJiYgaW1nKSB7XG4gICAgICAgICAgICBpZiAoaW1hZ2Uuc3JjICE9PSBpbWcuc3JjIC8vIFRpdGxlIGNoYW5nZWQgKCM0MDgpXG4gICAgICAgICAgICB8fCBpbWFnZS5hbHQgIT09IGltZy5hbHQpIHtcbiAgICAgICAgICAgICAgY2hhbmdlZEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTdHlsZSh0aGlzLmxpc3QsIHtcbiAgICAgICAgICB3aWR0aDogJ2F1dG8nXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRMaXN0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTaG93bikge1xuICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlld2VkKSB7XG4gICAgICAgICAgICAgIHZhciBjaGFuZ2VkSW5kZXggPSBjaGFuZ2VkSW5kZXhlcy5pbmRleE9mKHRoaXMuaW5kZXgpO1xuXG4gICAgICAgICAgICAgIGlmIChjaGFuZ2VkSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3KE1hdGgubWF4KE1hdGgubWluKHRoaXMuaW5kZXggLSBjaGFuZ2VkSW5kZXgsIHRoaXMubGVuZ3RoIC0gMSksIDApKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSXRlbSA9IHRoaXMuaXRlbXNbdGhpcy5pbmRleF07IC8vIFJlYWN0aXZhdGUgdGhlIGN1cnJlbnQgdmlld2luZyBpdGVtIGFmdGVyIHJlc2V0IHRoZSBsaXN0LlxuXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWN0aXZlSXRlbSwgQ0xBU1NfQUNUSVZFKTtcbiAgICAgICAgICAgICAgICBhY3RpdmVJdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICAgICAgdGhpcy5pbWFnZURhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgdGhpcy50aXRsZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYnVpbGQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvLyBEZXN0cm95IHRoZSB2aWV3ZXJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgaWYgKCFlbGVtZW50W05BTUVTUEFDRV0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVkKSB7XG4gICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgICBpZiAodGhpcy5mdWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1Nob3duKSB7XG4gICAgICAgICAgaWYgKHRoaXMudmlld2luZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VSZW5kZXJpbmcpIHtcbiAgICAgICAgICAgICAgdGhpcy5pbWFnZVJlbmRlcmluZy5hYm9ydCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmltYWdlSW5pdGlhbGl6aW5nKSB7XG4gICAgICAgICAgICAgIHRoaXMuaW1hZ2VJbml0aWFsaXppbmcuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5oaWRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvbmluZy5hYm9ydCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuaGlkZGVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaG93aW5nKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nLmFib3J0KCk7XG4gICAgICAgICAgdGhpcy5oaWRkZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52aWV3ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXdlcik7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGF5aW5nKSB7XG4gICAgICAgICAgdGhpcy5kZWxheWluZy5hYm9ydCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5pdGlhbGl6aW5nKSB7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXppbmcuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIW9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0NMSUNLLCB0aGlzLm9uU3RhcnQpO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50W05BTUVTUEFDRV0gPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgdmFyIG90aGVycyA9IHtcbiAgICBnZXRJbWFnZVVSTDogZnVuY3Rpb24gZ2V0SW1hZ2VVUkwoaW1hZ2UpIHtcbiAgICAgIHZhciB1cmwgPSB0aGlzLm9wdGlvbnMudXJsO1xuXG4gICAgICBpZiAoaXNTdHJpbmcodXJsKSkge1xuICAgICAgICB1cmwgPSBpbWFnZS5nZXRBdHRyaWJ1dGUodXJsKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih1cmwpKSB7XG4gICAgICAgIHVybCA9IHVybC5jYWxsKHRoaXMsIGltYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybCA9ICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXJsO1xuICAgIH0sXG4gICAgZW5mb3JjZUZvY3VzOiBmdW5jdGlvbiBlbmZvcmNlRm9jdXMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLmNsZWFyRW5mb3JjZUZvY3VzKCk7XG4gICAgICBhZGRMaXN0ZW5lcihkb2N1bWVudCwgRVZFTlRfRk9DVVNJTiwgdGhpcy5vbkZvY3VzaW4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHZpZXdlciA9IF90aGlzLnZpZXdlcjtcbiAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgICBpZiAodGFyZ2V0ICE9PSBkb2N1bWVudCAmJiB0YXJnZXQgIT09IHZpZXdlciAmJiAhdmlld2VyLmNvbnRhaW5zKHRhcmdldCkgLy8gQXZvaWQgY29uZmxpY3RzIHdpdGggb3RoZXIgbW9kYWxzICgjNDc0KVxuICAgICAgICAmJiAodGFyZ2V0LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSA9PT0gbnVsbCB8fCB0YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLW1vZGFsJykgIT09ICd0cnVlJykpIHtcbiAgICAgICAgICB2aWV3ZXIuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjbGVhckVuZm9yY2VGb2N1czogZnVuY3Rpb24gY2xlYXJFbmZvcmNlRm9jdXMoKSB7XG4gICAgICBpZiAodGhpcy5vbkZvY3VzaW4pIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX0ZPQ1VTSU4sIHRoaXMub25Gb2N1c2luKTtcbiAgICAgICAgdGhpcy5vbkZvY3VzaW4gPSBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgIHZhciBib2R5ID0gdGhpcy5ib2R5O1xuICAgICAgYWRkQ2xhc3MoYm9keSwgQ0xBU1NfT1BFTik7XG4gICAgICBib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiXCIuY29uY2F0KHRoaXMuc2Nyb2xsYmFyV2lkdGggKyAocGFyc2VGbG9hdCh0aGlzLmluaXRpYWxCb2R5Q29tcHV0ZWRQYWRkaW5nUmlnaHQpIHx8IDApLCBcInB4XCIpO1xuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgdmFyIGJvZHkgPSB0aGlzLmJvZHk7XG4gICAgICByZW1vdmVDbGFzcyhib2R5LCBDTEFTU19PUEVOKTtcbiAgICAgIGJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5pbml0aWFsQm9keVBhZGRpbmdSaWdodDtcbiAgICB9LFxuICAgIHNob3duOiBmdW5jdGlvbiBzaG93bigpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgdmlld2VyID0gdGhpcy52aWV3ZXI7XG4gICAgICB0aGlzLmZ1bGxlZCA9IHRydWU7XG4gICAgICB0aGlzLmlzU2hvd24gPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgdGhpcy5zaG93aW5nID0gZmFsc2U7XG5cbiAgICAgIGlmIChvcHRpb25zLmZvY3VzKSB7XG4gICAgICAgIHZpZXdlci5mb2N1cygpO1xuICAgICAgICB0aGlzLmVuZm9yY2VGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnNob3duKSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9TSE9XTiwgb3B0aW9ucy5zaG93biwge1xuICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1NIT1dOKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5yZWFkeSAmJiB0aGlzLmlzU2hvd24gJiYgIXRoaXMuaGlkaW5nKSB7XG4gICAgICAgIHRoaXMudmlldyh0aGlzLmluZGV4KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGhpZGRlbjogZnVuY3Rpb24gaGlkZGVuKCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB2aWV3ZXIgPSB0aGlzLnZpZXdlcjtcblxuICAgICAgaWYgKG9wdGlvbnMuZnVjdXMpIHtcbiAgICAgICAgdGhpcy5jbGVhckVuZm9yY2VGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZ1bGxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy52aWV3ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNTaG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfSElERSk7XG4gICAgICB2aWV3ZXIucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG4gICAgICB2aWV3ZXIucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknKTtcbiAgICAgIHZpZXdlci5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnKTtcbiAgICAgIHZpZXdlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG4gICAgICB0aGlzLnJlc2V0TGlzdCgpO1xuICAgICAgdGhpcy5yZXNldEltYWdlKCk7XG4gICAgICB0aGlzLmhpZGluZyA9IGZhbHNlO1xuXG4gICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuaGlkZGVuKSkge1xuICAgICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0hJRERFTiwgb3B0aW9ucy5oaWRkZW4sIHtcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfSElEREVOLCBudWxsLCB7XG4gICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXF1ZXN0RnVsbHNjcmVlbjogZnVuY3Rpb24gcmVxdWVzdEZ1bGxzY3JlZW4ob3B0aW9ucykge1xuICAgICAgdmFyIGRvY3VtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG5cbiAgICAgIGlmICh0aGlzLmZ1bGxlZCAmJiAhKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQpKSB7XG4gICAgICAgIHZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IC8vIEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKVxuXG4gICAgICAgIGlmIChkb2N1bWVudEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAvLyBBdm9pZCBUeXBlRXJyb3Igd2hlbiBjb252ZXJ0IGBvcHRpb25zYCB0byBkaWN0aW9uYXJ5XG4gICAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbihvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50RWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbihFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICBkb2N1bWVudEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGV4aXRGdWxsc2NyZWVuOiBmdW5jdGlvbiBleGl0RnVsbHNjcmVlbigpIHtcbiAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50O1xuXG4gICAgICBpZiAodGhpcy5mdWxsZWQgJiYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQpKSB7XG4gICAgICAgIC8vIERvY3VtZW50LmV4aXRGdWxsc2NyZWVuKClcbiAgICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgdmFyIHBvaW50ZXIgPSBwb2ludGVyc1tPYmplY3Qua2V5cyhwb2ludGVycylbMF1dOyAvLyBJbiB0aGUgY2FzZSBvZiB0aGUgYHBvaW50ZXJzYCBvYmplY3QgaXMgZW1wdHkgKCM0MjEpXG5cbiAgICAgIGlmICghcG9pbnRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvZmZzZXRYID0gcG9pbnRlci5lbmRYIC0gcG9pbnRlci5zdGFydFg7XG4gICAgICB2YXIgb2Zmc2V0WSA9IHBvaW50ZXIuZW5kWSAtIHBvaW50ZXIuc3RhcnRZO1xuXG4gICAgICBzd2l0Y2ggKHRoaXMuYWN0aW9uKSB7XG4gICAgICAgIC8vIE1vdmUgdGhlIGN1cnJlbnQgaW1hZ2VcbiAgICAgICAgY2FzZSBBQ1RJT05fTU9WRTpcbiAgICAgICAgICB0aGlzLm1vdmUob2Zmc2V0WCwgb2Zmc2V0WSwgZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBab29tIHRoZSBjdXJyZW50IGltYWdlXG5cbiAgICAgICAgY2FzZSBBQ1RJT05fWk9PTTpcbiAgICAgICAgICB0aGlzLnpvb20oZ2V0TWF4Wm9vbVJhdGlvKHBvaW50ZXJzKSwgZmFsc2UsIGV2ZW50KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEFDVElPTl9TV0lUQ0g6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSAnc3dpdGNoZWQnO1xuICAgICAgICAgICAgdmFyIGFic29sdXRlT2Zmc2V0WCA9IE1hdGguYWJzKG9mZnNldFgpO1xuXG4gICAgICAgICAgICBpZiAoYWJzb2x1dGVPZmZzZXRYID4gMSAmJiBhYnNvbHV0ZU9mZnNldFggPiBNYXRoLmFicyhvZmZzZXRZKSkge1xuICAgICAgICAgICAgICAvLyBFbXB0eSBgcG9pbnRlcnNgIGFzIGB0b3VjaGVuZGAgZXZlbnQgd2lsbCBub3QgYmUgZmlyZWQgYWZ0ZXIgc3dpcGVkIGluIGlPUyBicm93c2Vycy5cbiAgICAgICAgICAgICAgdGhpcy5wb2ludGVycyA9IHt9O1xuXG4gICAgICAgICAgICAgIGlmIChvZmZzZXRYID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldihvcHRpb25zLmxvb3ApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9mZnNldFggPCAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dChvcHRpb25zLmxvb3ApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH0gLy8gT3ZlcnJpZGVcblxuXG4gICAgICBmb3JFYWNoKHBvaW50ZXJzLCBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnN0YXJ0WCA9IHAuZW5kWDtcbiAgICAgICAgcC5zdGFydFkgPSBwLmVuZFk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGlzU3dpdGNoYWJsZTogZnVuY3Rpb24gaXNTd2l0Y2hhYmxlKCkge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IHRoaXMuaW1hZ2VEYXRhLFxuICAgICAgICAgIHZpZXdlckRhdGEgPSB0aGlzLnZpZXdlckRhdGE7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPiAxICYmIGltYWdlRGF0YS54ID49IDAgJiYgaW1hZ2VEYXRhLnkgPj0gMCAmJiBpbWFnZURhdGEud2lkdGggPD0gdmlld2VyRGF0YS53aWR0aCAmJiBpbWFnZURhdGEuaGVpZ2h0IDw9IHZpZXdlckRhdGEuaGVpZ2h0O1xuICAgIH1cbiAgfTtcblxuICB2YXIgQW5vdGhlclZpZXdlciA9IFdJTkRPVy5WaWV3ZXI7XG5cbiAgdmFyIGdldFVuaXF1ZUlEID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlkICs9IDE7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfTtcbiAgfSgtMSk7XG5cbiAgdmFyIFZpZXdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFZpZXdlci5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQgZm9yIHZpZXdpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSAtIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlld2VyKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXdlcik7XG5cbiAgICAgIGlmICghZWxlbWVudCB8fCBlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZpcnN0IGFyZ3VtZW50IGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGFuIGVsZW1lbnQuJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIERFRkFVTFRTLCBpc1BsYWluT2JqZWN0KG9wdGlvbnMpICYmIG9wdGlvbnMpO1xuICAgICAgdGhpcy5hY3Rpb24gPSBmYWxzZTtcbiAgICAgIHRoaXMuZmFkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmZ1bGxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5oaWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaW1hZ2VDbGlja2VkID0gZmFsc2U7XG4gICAgICB0aGlzLmltYWdlRGF0YSA9IHt9O1xuICAgICAgdGhpcy5pbmRleCA9IHRoaXMub3B0aW9ucy5pbml0aWFsVmlld0luZGV4O1xuICAgICAgdGhpcy5pc0ltZyA9IGZhbHNlO1xuICAgICAgdGhpcy5pc1Nob3duID0gZmFsc2U7XG4gICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLm1vdmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5wbGF5ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5wb2ludGVycyA9IHt9O1xuICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgICAgdGhpcy5yb3RhdGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5zY2FsaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnNob3dpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMudGltZW91dCA9IGZhbHNlO1xuICAgICAgdGhpcy50b29sdGlwcGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy52aWV3ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMudmlld2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy53aGVlbGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy56b29taW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmlkID0gZ2V0VW5pcXVlSUQoKTtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhWaWV3ZXIsIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmIChlbGVtZW50W05BTUVTUEFDRV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50W05BTUVTUEFDRV0gPSB0aGlzOyAvLyBUaGUgYGZvY3VzYCBvcHRpb24gcmVxdWlyZXMgdGhlIGBrZXlib2FyZGAgb3B0aW9uIHNldCB0byBgdHJ1ZWAuXG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9jdXMgJiYgIW9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgICAgICBvcHRpb25zLmZvY3VzID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNJbWcgPSBlbGVtZW50LmxvY2FsTmFtZSA9PT0gJ2ltZyc7XG4gICAgICAgIHZhciBpbWFnZXMgPSBbXTtcbiAgICAgICAgZm9yRWFjaChpc0ltZyA/IFtlbGVtZW50XSA6IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJyksIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmlsdGVyLmNhbGwoX3RoaXMsIGltYWdlKSkge1xuICAgICAgICAgICAgICBpbWFnZXMucHVzaChpbWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5nZXRJbWFnZVVSTChpbWFnZSkpIHtcbiAgICAgICAgICAgIGltYWdlcy5wdXNoKGltYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlzSW1nID0gaXNJbWc7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gaW1hZ2VzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5pbWFnZXMgPSBpbWFnZXM7XG4gICAgICAgIHRoaXMuaW5pdEJvZHkoKTsgLy8gT3ZlcnJpZGUgYHRyYW5zaXRpb25gIG9wdGlvbiBpZiBpdCBpcyBub3Qgc3VwcG9ydGVkXG5cbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoTkFNRVNQQUNFKS5zdHlsZS50cmFuc2l0aW9uKSkge1xuICAgICAgICAgIG9wdGlvbnMudHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgdmFyIGNvdW50ID0gMDtcblxuICAgICAgICAgIHZhciBwcm9ncmVzcyA9IGZ1bmN0aW9uIHByb2dyZXNzKCkge1xuICAgICAgICAgICAgY291bnQgKz0gMTtcblxuICAgICAgICAgICAgaWYgKGNvdW50ID09PSBfdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICAgICAgICAgIF90aGlzLmluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBfdGhpcy5kZWxheWluZyA9IHtcbiAgICAgICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9OyAvLyBidWlsZCBhc3luY2hyb25vdXNseSB0byBrZWVwIGB0aGlzLnZpZXdlcmAgaXMgYWNjZXNzaWJsZSBpbiBgcmVhZHlgIGV2ZW50IGhhbmRsZXIuXG5cbiAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRlbGF5aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5idWlsZCgpO1xuICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdGhpcy5pbml0aWFsaXppbmcgPSB7XG4gICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgICAgIGZvckVhY2goaW1hZ2VzLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWltYWdlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcihpbWFnZSwgRVZFTlRfTE9BRCwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3JFYWNoKGltYWdlcywgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgICBpZiAoaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBwcm9ncmVzcywge1xuICAgICAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfQ0xJQ0ssIHRoaXMub25TdGFydCA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gX3JlZi50YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQubG9jYWxOYW1lID09PSAnaW1nJyAmJiAoIWlzRnVuY3Rpb24ob3B0aW9ucy5maWx0ZXIpIHx8IG9wdGlvbnMuZmlsdGVyLmNhbGwoX3RoaXMsIHRhcmdldCkpKSB7XG4gICAgICAgICAgICAgIF90aGlzLnZpZXcoX3RoaXMuaW1hZ2VzLmluZGV4T2YodGFyZ2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYnVpbGRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBURU1QTEFURTtcbiAgICAgICAgdmFyIHZpZXdlciA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItY29udGFpbmVyXCIpKTtcbiAgICAgICAgdmFyIHRpdGxlID0gdmlld2VyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItdGl0bGVcIikpO1xuICAgICAgICB2YXIgdG9vbGJhciA9IHZpZXdlci5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLXRvb2xiYXJcIikpO1xuICAgICAgICB2YXIgbmF2YmFyID0gdmlld2VyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItbmF2YmFyXCIpKTtcbiAgICAgICAgdmFyIGJ1dHRvbiA9IHZpZXdlci5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWJ1dHRvblwiKSk7XG4gICAgICAgIHZhciBjYW52YXMgPSB2aWV3ZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1jYW52YXNcIikpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXI7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy50b29sYmFyID0gdG9vbGJhcjtcbiAgICAgICAgdGhpcy5uYXZiYXIgPSBuYXZiYXI7XG4gICAgICAgIHRoaXMuYnV0dG9uID0gYnV0dG9uO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5mb290ZXIgPSB2aWV3ZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1mb290ZXJcIikpO1xuICAgICAgICB0aGlzLnRvb2x0aXBCb3ggPSB2aWV3ZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi10b29sdGlwXCIpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSB2aWV3ZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1wbGF5ZXJcIikpO1xuICAgICAgICB0aGlzLmxpc3QgPSB2aWV3ZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1saXN0XCIpKTtcbiAgICAgICAgdmlld2VyLmlkID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFKS5jb25jYXQodGhpcy5pZCk7XG4gICAgICAgIHRpdGxlLmlkID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIlRpdGxlXCIpLmNvbmNhdCh0aGlzLmlkKTtcbiAgICAgICAgYWRkQ2xhc3ModGl0bGUsICFvcHRpb25zLnRpdGxlID8gQ0xBU1NfSElERSA6IGdldFJlc3BvbnNpdmVDbGFzcyhBcnJheS5pc0FycmF5KG9wdGlvbnMudGl0bGUpID8gb3B0aW9ucy50aXRsZVswXSA6IG9wdGlvbnMudGl0bGUpKTtcbiAgICAgICAgYWRkQ2xhc3MobmF2YmFyLCAhb3B0aW9ucy5uYXZiYXIgPyBDTEFTU19ISURFIDogZ2V0UmVzcG9uc2l2ZUNsYXNzKG9wdGlvbnMubmF2YmFyKSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGJ1dHRvbiwgQ0xBU1NfSElERSwgIW9wdGlvbnMuYnV0dG9uKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgICAgIGFkZENsYXNzKHZpZXdlciwgXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1iYWNrZHJvcFwiKSk7XG5cbiAgICAgICAgICBpZiAoIW9wdGlvbnMuaW5saW5lICYmIG9wdGlvbnMuYmFja2Ryb3AgIT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgICBzZXREYXRhKGNhbnZhcywgREFUQV9BQ1RJT04sICdoaWRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzU3RyaW5nKG9wdGlvbnMuY2xhc3NOYW1lKSAmJiBvcHRpb25zLmNsYXNzTmFtZSkge1xuICAgICAgICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG11bHRpcGxlIGNsYXNzIG5hbWVzXG4gICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUuc3BsaXQoUkVHRVhQX1NQQUNFUykuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBhZGRDbGFzcyh2aWV3ZXIsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy50b29sYmFyKSB7XG4gICAgICAgICAgdmFyIGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICAgIHZhciBjdXN0b20gPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMudG9vbGJhcik7XG4gICAgICAgICAgdmFyIHpvb21CdXR0b25zID0gQlVUVE9OUy5zbGljZSgwLCAzKTtcbiAgICAgICAgICB2YXIgcm90YXRlQnV0dG9ucyA9IEJVVFRPTlMuc2xpY2UoNywgOSk7XG4gICAgICAgICAgdmFyIHNjYWxlQnV0dG9ucyA9IEJVVFRPTlMuc2xpY2UoOSk7XG5cbiAgICAgICAgICBpZiAoIWN1c3RvbSkge1xuICAgICAgICAgICAgYWRkQ2xhc3ModG9vbGJhciwgZ2V0UmVzcG9uc2l2ZUNsYXNzKG9wdGlvbnMudG9vbGJhcikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvckVhY2goY3VzdG9tID8gb3B0aW9ucy50b29sYmFyIDogQlVUVE9OUywgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGRlZXAgPSBjdXN0b20gJiYgaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGN1c3RvbSA/IGh5cGhlbmF0ZShpbmRleCkgOiB2YWx1ZTtcbiAgICAgICAgICAgIHZhciBzaG93ID0gZGVlcCAmJiAhaXNVbmRlZmluZWQodmFsdWUuc2hvdykgPyB2YWx1ZS5zaG93IDogdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICghc2hvdyB8fCAhb3B0aW9ucy56b29tYWJsZSAmJiB6b29tQnV0dG9ucy5pbmRleE9mKG5hbWUpICE9PSAtMSB8fCAhb3B0aW9ucy5yb3RhdGFibGUgJiYgcm90YXRlQnV0dG9ucy5pbmRleE9mKG5hbWUpICE9PSAtMSB8fCAhb3B0aW9ucy5zY2FsYWJsZSAmJiBzY2FsZUJ1dHRvbnMuaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2l6ZSA9IGRlZXAgJiYgIWlzVW5kZWZpbmVkKHZhbHVlLnNpemUpID8gdmFsdWUuc2l6ZSA6IHZhbHVlO1xuICAgICAgICAgICAgdmFyIGNsaWNrID0gZGVlcCAmJiAhaXNVbmRlZmluZWQodmFsdWUuY2xpY2spID8gdmFsdWUuY2xpY2sgOiB2YWx1ZTtcbiAgICAgICAgICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICAgICAgYWRkQ2xhc3MoaXRlbSwgXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1cIikuY29uY2F0KG5hbWUpKTtcblxuICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNsaWNrKSkge1xuICAgICAgICAgICAgICBzZXREYXRhKGl0ZW0sIERBVEFfQUNUSU9OLCBuYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHNob3cpKSB7XG4gICAgICAgICAgICAgIGFkZENsYXNzKGl0ZW0sIGdldFJlc3BvbnNpdmVDbGFzcyhzaG93KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChbJ3NtYWxsJywgJ2xhcmdlJ10uaW5kZXhPZihzaXplKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgYWRkQ2xhc3MoaXRlbSwgXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1cIikuY29uY2F0KHNpemUpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3BsYXknKSB7XG4gICAgICAgICAgICAgIGFkZENsYXNzKGl0ZW0sIFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItbGFyZ2VcIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjbGljaykpIHtcbiAgICAgICAgICAgICAgYWRkTGlzdGVuZXIoaXRlbSwgRVZFTlRfQ0xJQ0ssIGNsaWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0b29sYmFyLmFwcGVuZENoaWxkKGxpc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZENsYXNzKHRvb2xiYXIsIENMQVNTX0hJREUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgICAgIHZhciByb3RhdGVzID0gdG9vbGJhci5xdWVyeVNlbGVjdG9yQWxsKCdsaVtjbGFzcyo9XCJyb3RhdGVcIl0nKTtcbiAgICAgICAgICBhZGRDbGFzcyhyb3RhdGVzLCBDTEFTU19JTlZJU0lCTEUpO1xuICAgICAgICAgIGZvckVhY2gocm90YXRlcywgZnVuY3Rpb24gKHJvdGF0ZSkge1xuICAgICAgICAgICAgdG9vbGJhci5hcHBlbmRDaGlsZChyb3RhdGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgYWRkQ2xhc3MoYnV0dG9uLCBDTEFTU19GVUxMU0NSRUVOKTtcbiAgICAgICAgICBzZXRTdHlsZSh2aWV3ZXIsIHtcbiAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhJbmxpbmVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgICAgICAgc2V0U3R5bGUocGFyZW50LCB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHZpZXdlciwgZWxlbWVudC5uZXh0U2libGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQ2xhc3MoYnV0dG9uLCBDTEFTU19DTE9TRSk7XG4gICAgICAgICAgYWRkQ2xhc3Modmlld2VyLCBDTEFTU19GSVhFRCk7XG4gICAgICAgICAgYWRkQ2xhc3Modmlld2VyLCBDTEFTU19GQURFKTtcbiAgICAgICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX0hJREUpO1xuICAgICAgICAgIHNldFN0eWxlKHZpZXdlciwge1xuICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcblxuICAgICAgICAgIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSB0aGlzLmJvZHk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHZpZXdlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICAgIHRoaXMuaXNTaG93biA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnJlYWR5KSkge1xuICAgICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1JFQURZLCBvcHRpb25zLnJlYWR5LCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9SRUFEWSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlYWR5ICYmIG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgdGhpcy52aWV3KHRoaXMuaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEdldCB0aGUgbm8gY29uZmxpY3Qgdmlld2VyIGNsYXNzLlxuICAgICAgICogQHJldHVybnMge1ZpZXdlcn0gVGhlIHZpZXdlciBjbGFzcy5cbiAgICAgICAqL1xuXG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwibm9Db25mbGljdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICAgIHdpbmRvdy5WaWV3ZXIgPSBBbm90aGVyVmlld2VyO1xuICAgICAgICByZXR1cm4gVmlld2VyO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBDaGFuZ2UgdGhlIGRlZmF1bHQgb3B0aW9ucy5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG5ldyBkZWZhdWx0IG9wdGlvbnMuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXREZWZhdWx0c1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERlZmF1bHRzKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKERFRkFVTFRTLCBpc1BsYWluT2JqZWN0KG9wdGlvbnMpICYmIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBWaWV3ZXI7XG4gIH0oKTtcblxuICBhc3NpZ24oVmlld2VyLnByb3RvdHlwZSwgcmVuZGVyLCBldmVudHMsIGhhbmRsZXJzLCBtZXRob2RzLCBvdGhlcnMpO1xuXG4gIHJldHVybiBWaWV3ZXI7XG5cbn0pKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgVmlld2VyIGZyb20gJ3ZpZXdlcmpzJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICAgIGludGVyZmFjZSBXaW5kb3cge1xuICAgICAgdmlld2VyT3B0aW9uczogYW55O1xuICAgIH1cbn1cblxuY2xhc3MgR2FsbGVyeSB7XG4gICAgZ2FsbGVyeTogVmlld2VyO1xuICAgIFxuICAgIGV4Y2x1ZGVDbGFzc05hbWVzID0gW1xuICAgICAgJ3Byb2ZpbGUtYXZhdGFyJyxcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBjb25zdCBkZWZhdWx0T3B0aW9uczogVmlld2VyLk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBmaWx0ZXIoaW1nOiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuaXNJbWFnZVZhbGlkKGltZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nYWxsZXJ5ID0gbmV3IFZpZXdlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyksIE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdGlvbnMsIHdpbmRvdy52aWV3ZXJPcHRpb25zKSk7XG4gICAgfVxuXG4gICAgcnVuKCkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJykuZm9yRWFjaChmdW5jdGlvbiAoaW1nKSB7XG4gICAgICAgICAgICBpZiAoaW1nLnBhcmVudEVsZW1lbnQudGFnTmFtZSAhPT0gJ0EnICYmIHNlbGYuaXNJbWFnZVZhbGlkKGltZykpIHtcbiAgICAgICAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuZ2FsbGVyeS5zaG93KCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpc0ltYWdlVmFsaWQoaW1nKSB7XG4gICAgICByZXR1cm4gdGhpcy5leGNsdWRlQ2xhc3NOYW1lcy5maWx0ZXIobmFtZSA9PiBpbWcuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpKS5sZW5ndGggPT0gMDtcbiAgICB9XG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgKG5ldyBHYWxsZXJ5KCkpLnJ1bigpO1xufSk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQyIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInZhbHVlIiwiREVGQVVMVFMiLCJiYWNrZHJvcCIsImJ1dHRvbiIsIm5hdmJhciIsInRpdGxlIiwidG9vbGJhciIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsImZ1bGxzY3JlZW4iLCJpbmhlcml0ZWRBdHRyaWJ1dGVzIiwiaW5pdGlhbFZpZXdJbmRleCIsImlubGluZSIsImludGVydmFsIiwia2V5Ym9hcmQiLCJmb2N1cyIsImxvYWRpbmciLCJsb29wIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJtb3ZhYmxlIiwicm90YXRhYmxlIiwic2NhbGFibGUiLCJ6b29tYWJsZSIsInpvb21PblRvdWNoIiwiem9vbU9uV2hlZWwiLCJzbGlkZU9uVG91Y2giLCJ0b2dnbGVPbkRibGNsaWNrIiwidG9vbHRpcCIsInRyYW5zaXRpb24iLCJ6SW5kZXgiLCJ6SW5kZXhJbmxpbmUiLCJ6b29tUmF0aW8iLCJtaW5ab29tUmF0aW8iLCJtYXhab29tUmF0aW8iLCJ1cmwiLCJyZWFkeSIsInNob3ciLCJzaG93biIsImhpZGUiLCJoaWRkZW4iLCJ2aWV3Iiwidmlld2VkIiwibW92ZSIsIm1vdmVkIiwicm90YXRlIiwicm90YXRlZCIsInNjYWxlIiwic2NhbGVkIiwiem9vbSIsInpvb21lZCIsInBsYXkiLCJzdG9wIiwiVEVNUExBVEUiLCJJU19CUk9XU0VSIiwid2luZG93IiwiZG9jdW1lbnQiLCJXSU5ET1ciLCJJU19UT1VDSF9ERVZJQ0UiLCJkb2N1bWVudEVsZW1lbnQiLCJIQVNfUE9JTlRFUl9FVkVOVCIsIk5BTUVTUEFDRSIsIkFDVElPTl9NT1ZFIiwiQUNUSU9OX1NXSVRDSCIsIkFDVElPTl9aT09NIiwiQ0xBU1NfQUNUSVZFIiwiY29uY2F0IiwiQ0xBU1NfQ0xPU0UiLCJDTEFTU19GQURFIiwiQ0xBU1NfRklYRUQiLCJDTEFTU19GVUxMU0NSRUVOIiwiQ0xBU1NfRlVMTFNDUkVFTl9FWElUIiwiQ0xBU1NfSElERSIsIkNMQVNTX0hJREVfTURfRE9XTiIsIkNMQVNTX0hJREVfU01fRE9XTiIsIkNMQVNTX0hJREVfWFNfRE9XTiIsIkNMQVNTX0lOIiwiQ0xBU1NfSU5WSVNJQkxFIiwiQ0xBU1NfTE9BRElORyIsIkNMQVNTX01PVkUiLCJDTEFTU19PUEVOIiwiQ0xBU1NfU0hPVyIsIkNMQVNTX1RSQU5TSVRJT04iLCJFVkVOVF9DTElDSyIsIkVWRU5UX0RCTENMSUNLIiwiRVZFTlRfRFJBR19TVEFSVCIsIkVWRU5UX0ZPQ1VTSU4iLCJFVkVOVF9LRVlfRE9XTiIsIkVWRU5UX0xPQUQiLCJFVkVOVF9FUlJPUiIsIkVWRU5UX1RPVUNIX0VORCIsIkVWRU5UX1RPVUNIX01PVkUiLCJFVkVOVF9UT1VDSF9TVEFSVCIsIkVWRU5UX1BPSU5URVJfRE9XTiIsIkVWRU5UX1BPSU5URVJfTU9WRSIsIkVWRU5UX1BPSU5URVJfVVAiLCJFVkVOVF9SRVNJWkUiLCJFVkVOVF9UUkFOU0lUSU9OX0VORCIsIkVWRU5UX1dIRUVMIiwiRVZFTlRfUkVBRFkiLCJFVkVOVF9TSE9XIiwiRVZFTlRfU0hPV04iLCJFVkVOVF9ISURFIiwiRVZFTlRfSElEREVOIiwiRVZFTlRfVklFVyIsIkVWRU5UX1ZJRVdFRCIsIkVWRU5UX01PVkUiLCJFVkVOVF9NT1ZFRCIsIkVWRU5UX1JPVEFURSIsIkVWRU5UX1JPVEFURUQiLCJFVkVOVF9TQ0FMRSIsIkVWRU5UX1NDQUxFRCIsIkVWRU5UX1pPT00iLCJFVkVOVF9aT09NRUQiLCJFVkVOVF9QTEFZIiwiRVZFTlRfU1RPUCIsIkRBVEFfQUNUSU9OIiwiUkVHRVhQX1NQQUNFUyIsIkJVVFRPTlMiLCJpc1N0cmluZyIsImlzTmFOIiwiTnVtYmVyIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJpc1BsYWluT2JqZWN0IiwiX2NvbnN0cnVjdG9yIiwiY2FsbCIsImVycm9yIiwiaXNGdW5jdGlvbiIsImRhdGEiLCJjYWxsYmFjayIsIkFycmF5IiwiaXNBcnJheSIsImFzc2lnbiIsIl9sZW4iLCJhcmdzIiwiX2tleSIsImFyZyIsIlJFR0VYUF9TVUZGSVgiLCJzZXRTdHlsZSIsImVsZW1lbnQiLCJzdHlsZXMiLCJzdHlsZSIsInByb3BlcnR5IiwidGVzdCIsImVzY2FwZUhUTUxFbnRpdGllcyIsInJlcGxhY2UiLCJoYXNDbGFzcyIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiaW5kZXhPZiIsImFkZENsYXNzIiwiZWxlbSIsImFkZCIsInRyaW0iLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsInRvZ2dsZUNsYXNzIiwiYWRkZWQiLCJSRUdFWFBfSFlQSEVOQVRFIiwiaHlwaGVuYXRlIiwidG9Mb3dlckNhc2UiLCJnZXREYXRhIiwibmFtZSIsImRhdGFzZXQiLCJnZXRBdHRyaWJ1dGUiLCJzZXREYXRhIiwic2V0QXR0cmlidXRlIiwib25jZVN1cHBvcnRlZCIsInN1cHBvcnRlZCIsIm9uY2UiLCJsaXN0ZW5lciIsIm9wdGlvbnMiLCJnZXQiLCJzZXQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwidHlwZSIsInVuZGVmaW5lZCIsImhhbmRsZXIiLCJzcGxpdCIsImV2ZW50IiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJfaGFuZGxlciIsIl9lbGVtZW50JGxpc3RlbmVycyIsIl9sZW4yIiwiX2tleTIiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGV0YWlsIiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJnZXRPZmZzZXQiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwicGFnZVhPZmZzZXQiLCJjbGllbnRMZWZ0IiwidG9wIiwicGFnZVlPZmZzZXQiLCJjbGllbnRUb3AiLCJnZXRUcmFuc2Zvcm1zIiwiX3JlZiIsInNjYWxlWCIsInNjYWxlWSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwidmFsdWVzIiwidHJhbnNmb3JtIiwiam9pbiIsIldlYmtpdFRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwiZ2V0SW1hZ2VOYW1lRnJvbVVSTCIsImRlY29kZVVSSUNvbXBvbmVudCIsIklTX1NBRkFSSSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImdldEltYWdlTmF0dXJhbFNpemVzIiwiaW1hZ2UiLCJuZXdJbWFnZSIsImNyZWF0ZUVsZW1lbnQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiYm9keSIsIm9ubG9hZCIsIndpZHRoIiwiaGVpZ2h0IiwicmVtb3ZlQ2hpbGQiLCJzcmMiLCJjc3NUZXh0IiwiYXBwZW5kQ2hpbGQiLCJnZXRSZXNwb25zaXZlQ2xhc3MiLCJnZXRNYXhab29tUmF0aW8iLCJwb2ludGVycyIsInBvaW50ZXJzMiIsInJhdGlvcyIsInBvaW50ZXIiLCJwb2ludGVySWQiLCJwb2ludGVyMiIsIngxIiwiTWF0aCIsImFicyIsInN0YXJ0WCIsInkxIiwic3RhcnRZIiwieDIiLCJlbmRYIiwieTIiLCJlbmRZIiwiejEiLCJzcXJ0IiwicmF0aW8iLCJzb3J0IiwiYSIsImIiLCJnZXRQb2ludGVyIiwiX3JlZjIiLCJlbmRPbmx5IiwicGFnZVgiLCJwYWdlWSIsImVuZCIsInRpbWVTdGFtcCIsIkRhdGUiLCJub3ciLCJnZXRQb2ludGVyc0NlbnRlciIsImNvdW50IiwiX3JlZjMiLCJpZCIsInJlbmRlciIsInRoaXMiLCJpbml0Q29udGFpbmVyIiwiaW5pdFZpZXdlciIsImluaXRMaXN0IiwicmVuZGVyVmlld2VyIiwiaW5pdEJvZHkiLCJvd25lckRvY3VtZW50Iiwic2Nyb2xsYmFyV2lkdGgiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJpbml0aWFsQm9keVBhZGRpbmdSaWdodCIsInBhZGRpbmdSaWdodCIsImluaXRpYWxCb2R5Q29tcHV0ZWRQYWRkaW5nUmlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwiY29udGFpbmVyRGF0YSIsImlubmVySGVpZ2h0Iiwidmlld2VyRGF0YSIsInBhcmVudCIsIm1heCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwicGFyZW50RGF0YSIsImZ1bGxlZCIsInZpZXdlciIsIl90aGlzIiwibGlzdCIsIml0ZW1zIiwiaW5uZXJIVE1MIiwiaW1hZ2VzIiwiaW5kZXgiLCJhbHQiLCJnZXRJbWFnZVVSTCIsIml0ZW0iLCJpbWciLCJvbkxvYWQiLCJvbkVycm9yIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJsb2FkSW1hZ2UiLCJyZW5kZXJMaXN0IiwibmV4dCIsIm5leHRFbGVtZW50U2libGluZyIsImd1dHRlciIsInBhcnNlSW50IiwibWFyZ2luTGVmdCIsIm91dGVyV2lkdGgiLCJyZXNldExpc3QiLCJpbml0SW1hZ2UiLCJkb25lIiwic2l6aW5nSW1hZ2UiLCJfdGhpczIiLCJmb290ZXJIZWlnaHQiLCJmb290ZXIiLCJ2aWV3ZXJXaWR0aCIsInZpZXdlckhlaWdodCIsIm9sZEltYWdlRGF0YSIsImltYWdlRGF0YSIsImltYWdlSW5pdGlhbGl6aW5nIiwiYWJvcnQiLCJhc3BlY3RSYXRpbyIsIm1pbiIsIngiLCJ5Iiwib2xkUmF0aW8iLCJpbml0aWFsSW1hZ2VEYXRhIiwicmVuZGVySW1hZ2UiLCJfdGhpczMiLCJtYXJnaW5Ub3AiLCJ2aWV3aW5nIiwibW92aW5nIiwicm90YXRpbmciLCJzY2FsaW5nIiwiem9vbWluZyIsIm9uVHJhbnNpdGlvbkVuZCIsImltYWdlUmVuZGVyaW5nIiwicmVzZXRJbWFnZSIsInBhcmVudE5vZGUiLCJldmVudHMiLCJiaW5kIiwiY2FudmFzIiwib25DbGljayIsImNsaWNrIiwib25EcmFnU3RhcnQiLCJkcmFnc3RhcnQiLCJvblBvaW50ZXJEb3duIiwicG9pbnRlcmRvd24iLCJvblBvaW50ZXJNb3ZlIiwicG9pbnRlcm1vdmUiLCJvblBvaW50ZXJVcCIsInBvaW50ZXJ1cCIsIm9uS2V5RG93biIsImtleWRvd24iLCJvblJlc2l6ZSIsInJlc2l6ZSIsIm9uV2hlZWwiLCJ3aGVlbCIsInBhc3NpdmUiLCJjYXB0dXJlIiwib25EYmxjbGljayIsImRibGNsaWNrIiwidW5iaW5kIiwiaGFuZGxlcnMiLCJhY3Rpb24iLCJsb2NhbE5hbWUiLCJwYXJlbnRFbGVtZW50IiwiaXNUcnVzdGVkIiwiY2xlYXJUaW1lb3V0IiwiY2xpY2tDYW52YXNUaW1lb3V0IiwicGxheWVkIiwiZXhpdCIsImZ1bGwiLCJ0b2dnbGUiLCJyZXNldCIsInByZXYiLCJwcmV2ZW50RGVmYXVsdCIsImRvdWJsZUNsaWNrSW1hZ2VUaW1lb3V0IiwibG9hZCIsInRpbWVvdXQiLCJvcmlnaW5hbEltYWdlIiwicGFyZW50V2lkdGgiLCJwYXJlbnRIZWlnaHQiLCJmaWxsZWQiLCJrZXlDb2RlIiwid2hpY2giLCJjaGFyQ29kZSIsImN0cmxLZXkiLCJidXR0b25zIiwic2hvd2luZyIsImhpZGluZyIsInBvaW50ZXJUeXBlIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaCIsImlkZW50aWZpZXIiLCJpc1N3aXRjaGFibGUiLCJjaGFuZ2UiLCJpbWFnZUNsaWNrZWQiLCJzZXRUaW1lb3V0IiwiaXNTaG93biIsImNsb3NlIiwib3BlbiIsImZ1bGxzY3JlZW5FbGVtZW50Iiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJtb3pGdWxsU2NyZWVuRWxlbWVudCIsIm1zRnVsbHNjcmVlbkVsZW1lbnQiLCJwbGF5ZXIiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIl90aGlzNCIsIndoZWVsaW5nIiwiZGVsdGEiLCJkZWx0YVkiLCJ3aGVlbERlbHRhIiwibWV0aG9kcyIsImltbWVkaWF0ZSIsImJ1aWxkIiwidHJhbnNpdGlvbmluZyIsInJlbW92ZUF0dHJpYnV0ZSIsImluaXRpYWxPZmZzZXRXaWR0aCIsImhpZGVJbW1lZGlhdGVseSIsIm9uVmlld2VyVHJhbnNpdGlvbkVuZCIsIm9uSW1hZ2VUcmFuc2l0aW9uRW5kIiwiem9vbVRvIiwicXVlcnlTZWxlY3RvciIsImFjdGl2ZUl0ZW0iLCJvblZpZXdlZCIsImNvbXBsZXRlIiwibWF4SW5kZXgiLCJtb3ZlVG8iLCJfb3JpZ2luYWxFdmVudCIsIm9sZFgiLCJvbGRZIiwiY2hhbmdlZCIsIm9yaWdpbmFsRXZlbnQiLCJkZWdyZWUiLCJyb3RhdGVUbyIsIm9sZERlZ3JlZSIsIl9zY2FsZVgiLCJfc2NhbGVZIiwiX3RoaXM1Iiwib2xkU2NhbGVYIiwib2xkU2NhbGVZIiwiaGFzVG9vbHRpcCIsIl90aGlzNiIsIl96b29tYWJsZSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0Iiwib2Zmc2V0IiwiY2VudGVyIiwiX3RoaXM3IiwidG90YWwiLCJvbkxvYWRXaGVuUGxheSIsInJlcXVlc3RGdWxsc2NyZWVuIiwicmVmZXJyZXJQb2xpY3kiLCJwbGF5aW5nIiwiX3RoaXM4IiwiZXhpdEZ1bGxzY3JlZW4iLCJfdGhpczkiLCJlbmZvcmNlRm9jdXMiLCJfdGhpczEwIiwiY2xlYXJFbmZvcmNlRm9jdXMiLCJfdGhpczExIiwidG9vbHRpcEJveCIsInRleHRDb250ZW50Iiwicm91bmQiLCJ0b29sdGlwcGluZyIsImZhZGluZyIsInVwZGF0ZSIsIl90aGlzMTIiLCJpc0ltZyIsImRlc3Ryb3kiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2hhbmdlZEluZGV4ZXMiLCJjaGFuZ2VkSW5kZXgiLCJkZXN0cm95ZWQiLCJkZWxheWluZyIsImluaXRpYWxpemluZyIsIm9uU3RhcnQiLCJvdGhlcnMiLCJvbkZvY3VzaW4iLCJwYXJzZUZsb2F0IiwiZnVjdXMiLCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiIsIkVsZW1lbnQiLCJBTExPV19LRVlCT0FSRF9JTlBVVCIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwibW96Q2FuY2VsRnVsbFNjcmVlbiIsIm1zRXhpdEZ1bGxzY3JlZW4iLCJvZmZzZXRYIiwib2Zmc2V0WSIsImFic29sdXRlT2Zmc2V0WCIsInAiLCJBbm90aGVyVmlld2VyIiwiVmlld2VyIiwiZ2V0VW5pcXVlSUQiLCJub2RlVHlwZSIsIkVycm9yIiwiaW5pdCIsInByb2dyZXNzIiwidGVtcGxhdGUiLCJjdXN0b20iLCJ6b29tQnV0dG9ucyIsInNsaWNlIiwicm90YXRlQnV0dG9ucyIsInNjYWxlQnV0dG9ucyIsImRlZXAiLCJzaXplIiwicm90YXRlcyIsInBvc2l0aW9uIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJmYWN0b3J5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImRlZmluaXRpb24iLCJvIiwicHJvcCIsIkdhbGxlcnkiLCJleGNsdWRlQ2xhc3NOYW1lcyIsInNlbGYiLCJkZWZhdWx0T3B0aW9ucyIsImlzSW1hZ2VWYWxpZCIsImdhbGxlcnkiLCJ2aWV3ZXJPcHRpb25zIiwicnVuIiwidGFnTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=